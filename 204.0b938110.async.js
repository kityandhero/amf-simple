"use strict";var ys=Object.defineProperty,xs=Object.defineProperties;var ws=Object.getOwnPropertyDescriptors;var Do=Object.getOwnPropertySymbols;var bi=Object.prototype.hasOwnProperty,Ei=Object.prototype.propertyIsEnumerable;var fi=Math.pow,_i=(Xe,pe,P)=>pe in Xe?ys(Xe,pe,{enumerable:!0,configurable:!0,writable:!0,value:P}):Xe[pe]=P,_e=(Xe,pe)=>{for(var P in pe||(pe={}))bi.call(pe,P)&&_i(Xe,P,pe[P]);if(Do)for(var P of Do(pe))Ei.call(pe,P)&&_i(Xe,P,pe[P]);return Xe},Nt=(Xe,pe)=>xs(Xe,ws(pe));var $r=(Xe,pe)=>{var P={};for(var a in Xe)bi.call(Xe,a)&&pe.indexOf(a)<0&&(P[a]=Xe[a]);if(Xe!=null&&Do)for(var a of Do(Xe))pe.indexOf(a)<0&&Ei.call(Xe,a)&&(P[a]=Xe[a]);return P};(self.webpackChunkexample_antd_management_fast_framework=self.webpackChunkexample_antd_management_fast_framework||[]).push([[204],{54237:function(Xe,pe){var P={value:function(){}};function a(){for(var fe=0,ne=arguments.length,le={},de;fe<ne;++fe){if(!(de=arguments[fe]+"")||de in le||/[\s.]/.test(de))throw new Error("illegal type: "+de);le[de]=[]}return new se(le)}function se(fe){this._=fe}function U(fe,ne){return fe.trim().split(/^|\s+/).map(function(le){var de="",Te=le.indexOf(".");if(Te>=0&&(de=le.slice(Te+1),le=le.slice(0,Te)),le&&!ne.hasOwnProperty(le))throw new Error("unknown type: "+le);return{type:le,name:de}})}se.prototype=a.prototype={constructor:se,on:function(ne,le){var de=this._,Te=U(ne+"",de),Me,We=-1,Ke=Te.length;if(arguments.length<2){for(;++We<Ke;)if((Me=(ne=Te[We]).type)&&(Me=ie(de[Me],ne.name)))return Me;return}if(le!=null&&typeof le!="function")throw new Error("invalid callback: "+le);for(;++We<Ke;)if(Me=(ne=Te[We]).type)de[Me]=xe(de[Me],ne.name,le);else if(le==null)for(Me in de)de[Me]=xe(de[Me],ne.name,null);return this},copy:function(){var ne={},le=this._;for(var de in le)ne[de]=le[de].slice();return new se(ne)},call:function(ne,le){if((Me=arguments.length-2)>0)for(var de=new Array(Me),Te=0,Me,We;Te<Me;++Te)de[Te]=arguments[Te+2];if(!this._.hasOwnProperty(ne))throw new Error("unknown type: "+ne);for(We=this._[ne],Te=0,Me=We.length;Te<Me;++Te)We[Te].value.apply(le,de)},apply:function(ne,le,de){if(!this._.hasOwnProperty(ne))throw new Error("unknown type: "+ne);for(var Te=this._[ne],Me=0,We=Te.length;Me<We;++Me)Te[Me].value.apply(le,de)}};function ie(fe,ne){for(var le=0,de=fe.length,Te;le<de;++le)if((Te=fe[le]).name===ne)return Te.value}function xe(fe,ne,le){for(var de=0,Te=fe.length;de<Te;++de)if(fe[de].name===ne){fe[de]=P,fe=fe.slice(0,de).concat(fe.slice(de+1));break}return le!=null&&fe.push({name:ne,value:le}),fe}pe.Z=a},24106:function(Xe,pe,P){P.d(pe,{Z:function(){return bt}});var a=P(52983),se=P(87608),U=P.n(se),ie=P(40165),xe=P(64944),fe=P(68329),ne=P(38817);const le=A=>{const{componentCls:Y}=A;return{[Y]:Object.assign(Object.assign({},(0,xe.Wf)(A)),{margin:0,padding:0,listStyle:"none",[`${Y}-item`]:{position:"relative",margin:0,paddingBottom:A.itemPaddingBottom,fontSize:A.fontSize,listStyle:"none","&-tail":{position:"absolute",insetBlockStart:A.itemHeadSize,insetInlineStart:(A.itemHeadSize-A.tailWidth)/2,height:`calc(100% - ${A.itemHeadSize}px)`,borderInlineStart:`${A.tailWidth}px ${A.lineType} ${A.tailColor}`},"&-pending":{[`${Y}-item-head`]:{fontSize:A.fontSizeSM,backgroundColor:"transparent"},[`${Y}-item-tail`]:{display:"none"}},"&-head":{position:"absolute",width:A.itemHeadSize,height:A.itemHeadSize,backgroundColor:A.dotBg,border:`${A.dotBorderWidth}px ${A.lineType} transparent`,borderRadius:"50%","&-blue":{color:A.colorPrimary,borderColor:A.colorPrimary},"&-red":{color:A.colorError,borderColor:A.colorError},"&-green":{color:A.colorSuccess,borderColor:A.colorSuccess},"&-gray":{color:A.colorTextDisabled,borderColor:A.colorTextDisabled}},"&-head-custom":{position:"absolute",insetBlockStart:A.itemHeadSize/2,insetInlineStart:A.itemHeadSize/2,width:"auto",height:"auto",marginBlockStart:0,paddingBlock:A.customHeadPaddingVertical,lineHeight:1,textAlign:"center",border:0,borderRadius:0,transform:"translate(-50%, -50%)"},"&-content":{position:"relative",insetBlockStart:-(A.fontSize*A.lineHeight-A.fontSize)+A.lineWidth,marginInlineStart:A.margin+A.itemHeadSize,marginInlineEnd:0,marginBlockStart:0,marginBlockEnd:0,wordBreak:"break-word"},"&-last":{[`> ${Y}-item-tail`]:{display:"none"},[`> ${Y}-item-content`]:{minHeight:A.controlHeightLG*1.2}}},[`&${Y}-alternate,
        &${Y}-right,
        &${Y}-label`]:{[`${Y}-item`]:{"&-tail, &-head, &-head-custom":{insetInlineStart:"50%"},"&-head":{marginInlineStart:`-${A.marginXXS}px`,"&-custom":{marginInlineStart:A.tailWidth/2}},"&-left":{[`${Y}-item-content`]:{insetInlineStart:`calc(50% - ${A.marginXXS}px)`,width:`calc(50% - ${A.marginSM}px)`,textAlign:"start"}},"&-right":{[`${Y}-item-content`]:{width:`calc(50% - ${A.marginSM}px)`,margin:0,textAlign:"end"}}}},[`&${Y}-right`]:{[`${Y}-item-right`]:{[`${Y}-item-tail,
            ${Y}-item-head,
            ${Y}-item-head-custom`]:{insetInlineStart:`calc(100% - ${(A.itemHeadSize+A.tailWidth)/2}px)`},[`${Y}-item-content`]:{width:`calc(100% - ${A.itemHeadSize+A.marginXS}px)`}}},[`&${Y}-pending
        ${Y}-item-last
        ${Y}-item-tail`]:{display:"block",height:`calc(100% - ${A.margin}px)`,borderInlineStart:`${A.tailWidth}px dotted ${A.tailColor}`},[`&${Y}-reverse
        ${Y}-item-last
        ${Y}-item-tail`]:{display:"none"},[`&${Y}-reverse ${Y}-item-pending`]:{[`${Y}-item-tail`]:{insetBlockStart:A.margin,display:"block",height:`calc(100% - ${A.margin}px)`,borderInlineStart:`${A.tailWidth}px dotted ${A.tailColor}`},[`${Y}-item-content`]:{minHeight:A.controlHeightLG*1.2}},[`&${Y}-label`]:{[`${Y}-item-label`]:{position:"absolute",insetBlockStart:-(A.fontSize*A.lineHeight-A.fontSize)+A.tailWidth,width:`calc(50% - ${A.marginSM}px)`,textAlign:"end"},[`${Y}-item-right`]:{[`${Y}-item-label`]:{insetInlineStart:`calc(50% + ${A.marginSM}px)`,width:`calc(50% - ${A.marginSM}px)`,textAlign:"start"}}},"&-rtl":{direction:"rtl",[`${Y}-item-head-custom`]:{transform:"translate(50%, -50%)"}}})}};var de=(0,fe.Z)("Timeline",A=>{const Y=(0,ne.TS)(A,{itemHeadSize:10,customHeadPaddingVertical:A.paddingXXS,paddingInlineEnd:2});return[le(Y)]},A=>({tailColor:A.colorSplit,tailWidth:A.lineWidthBold,dotBorderWidth:A.wireframe?A.lineWidthBold:A.lineWidth*3,dotBg:A.colorBgContainer,itemPaddingBottom:A.padding*1.25})),Te=function(A,Y){var He={};for(var G in A)Object.prototype.hasOwnProperty.call(A,G)&&Y.indexOf(G)<0&&(He[G]=A[G]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ae=0,G=Object.getOwnPropertySymbols(A);Ae<G.length;Ae++)Y.indexOf(G[Ae])<0&&Object.prototype.propertyIsEnumerable.call(A,G[Ae])&&(He[G[Ae]]=A[G[Ae]]);return He},We=A=>{var{prefixCls:Y,className:He,color:G="blue",dot:Ae,pending:Ne=!1,position:Ie,label:st,children:ct}=A,je=Te(A,["prefixCls","className","color","dot","pending","position","label","children"]);const{getPrefixCls:vt}=a.useContext(ie.E_),Ue=vt("timeline",Y),mt=U()(`${Ue}-item`,{[`${Ue}-item-pending`]:Ne},He),ot=/blue|red|green|gray/.test(G||"")?void 0:G,Ct=U()(`${Ue}-item-head`,{[`${Ue}-item-head-custom`]:!!Ae,[`${Ue}-item-head-${G}`]:!ot});return a.createElement("li",Object.assign({},je,{className:mt}),st&&a.createElement("div",{className:`${Ue}-item-label`},st),a.createElement("div",{className:`${Ue}-item-tail`}),a.createElement("div",{className:Ct,style:{borderColor:ot,color:ot}},Ae),a.createElement("div",{className:`${Ue}-item-content`},ct))},Ke=P(24856),Fe=P(91534),ft=function(A,Y){var He={};for(var G in A)Object.prototype.hasOwnProperty.call(A,G)&&Y.indexOf(G)<0&&(He[G]=A[G]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ae=0,G=Object.getOwnPropertySymbols(A);Ae<G.length;Ae++)Y.indexOf(G[Ae])<0&&Object.prototype.propertyIsEnumerable.call(A,G[Ae])&&(He[G[Ae]]=A[G[Ae]]);return He},it=A=>{var{prefixCls:Y,className:He,pending:G=!1,children:Ae,items:Ne,rootClassName:Ie,reverse:st=!1,direction:ct,hashId:je,pendingDot:vt,mode:Ue=""}=A,mt=ft(A,["prefixCls","className","pending","children","items","rootClassName","reverse","direction","hashId","pendingDot","mode"]);const ot=(Ge,Ft)=>Ue==="alternate"?Ge==="right"?`${Y}-item-right`:Ge==="left"?`${Y}-item-left`:Ft%2===0?`${Y}-item-left`:`${Y}-item-right`:Ue==="left"?`${Y}-item-left`:Ue==="right"?`${Y}-item-right`:Ge==="right"?`${Y}-item-right`:"",Ct=(0,Ke.Z)(Ne||[]),sn=typeof G=="boolean"?null:G;G&&Ct.push({pending:!!G,dot:vt||a.createElement(Fe.Z,null),children:sn}),st&&Ct.reverse();const Wt=Ct.length,jt=`${Y}-item-last`,ht=Ct.filter(Ge=>!!Ge).map((Ge,Ft)=>{var Mt;const Dn=Ft===Wt-2?jt:"",lt=Ft===Wt-1?jt:"",{className:Je}=Ge,Yt=ft(Ge,["className"]);return a.createElement(We,Object.assign({},Yt,{className:U()([Je,!st&&G?Dn:lt,ot((Mt=Ge==null?void 0:Ge.position)!==null&&Mt!==void 0?Mt:"",Ft)]),key:(Ge==null?void 0:Ge.key)||Ft}))}),tt=Ct.some(Ge=>!!(Ge!=null&&Ge.label)),Tn=U()(Y,{[`${Y}-pending`]:!!G,[`${Y}-reverse`]:!!st,[`${Y}-${Ue}`]:!!Ue&&!tt,[`${Y}-label`]:tt,[`${Y}-rtl`]:ct==="rtl"},He,Ie,je);return a.createElement("ul",Object.assign({},mt,{className:Tn}),ht)},qe=P(45353);function dt(A,Y){return A&&Array.isArray(A)?A:(0,qe.Z)(Y).map(He=>{var G,Ae;return Object.assign({children:(Ae=(G=He==null?void 0:He.props)===null||G===void 0?void 0:G.children)!==null&&Ae!==void 0?Ae:""},He.props)})}var Tt=dt,De=function(A,Y){var He={};for(var G in A)Object.prototype.hasOwnProperty.call(A,G)&&Y.indexOf(G)<0&&(He[G]=A[G]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ae=0,G=Object.getOwnPropertySymbols(A);Ae<G.length;Ae++)Y.indexOf(G[Ae])<0&&Object.prototype.propertyIsEnumerable.call(A,G[Ae])&&(He[G[Ae]]=A[G[Ae]]);return He};const et=A=>{const{getPrefixCls:Y,direction:He,timeline:G}=a.useContext(ie.E_),{prefixCls:Ae,children:Ne,items:Ie,className:st,style:ct}=A,je=De(A,["prefixCls","children","items","className","style"]),vt=Y("timeline",Ae),[Ue,mt]=de(vt),ot=Tt(Ie,Ne);return Ue(a.createElement(it,Object.assign({},je,{className:U()(G==null?void 0:G.className,st),style:Object.assign(Object.assign({},G==null?void 0:G.style),ct),prefixCls:vt,direction:He,items:ot,hashId:mt})))};et.Item=We;var at=et,bt=at},17053:function(Xe,pe,P){P.d(pe,{A:function(){return We}});var a=P(52983),se=P(61768),U=P(92841),ie=P(50770),xe;(function(Ke){Ke.Lines="lines",Ke.Dots="dots",Ke.Cross="cross"})(xe||(xe={}));function fe({color:Ke,dimensions:Fe,lineWidth:ft}){return a.createElement("path",{stroke:Ke,strokeWidth:ft,d:`M${Fe[0]/2} 0 V${Fe[1]} M0 ${Fe[1]/2} H${Fe[0]}`})}function ne({color:Ke,radius:Fe}){return a.createElement("circle",{cx:Fe,cy:Fe,r:Fe,fill:Ke})}const le={[xe.Dots]:"#91919a",[xe.Lines]:"#eee",[xe.Cross]:"#e2e2e2"},de={[xe.Dots]:1,[xe.Lines]:1,[xe.Cross]:6},Te=Ke=>({transform:Ke.transform,patternId:`pattern-${Ke.rfId}`});function Me({id:Ke,variant:Fe=xe.Dots,gap:ft=20,size:$t,lineWidth:it=1,offset:qe=2,color:dt,style:Tt,className:De}){const et=(0,a.useRef)(null),{transform:at,patternId:bt}=(0,U.oR)(Te,ie.X),A=dt||le[Fe],Y=$t||de[Fe],He=Fe===xe.Dots,G=Fe===xe.Cross,Ae=Array.isArray(ft)?ft:[ft,ft],Ne=[Ae[0]*at[2]||1,Ae[1]*at[2]||1],Ie=Y*at[2],st=G?[Ie,Ie]:Ne,ct=He?[Ie/qe,Ie/qe]:[st[0]/qe,st[1]/qe];return a.createElement("svg",{className:(0,se.Z)(["react-flow__background",De]),style:Nt(_e({},Tt),{position:"absolute",width:"100%",height:"100%",top:0,left:0}),ref:et,"data-testid":"rf__background"},a.createElement("pattern",{id:bt+Ke,x:at[0]%Ne[0],y:at[1]%Ne[1],width:Ne[0],height:Ne[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${ct[0]},-${ct[1]})`},He?a.createElement(ne,{color:A,radius:Ie/qe}):a.createElement(fe,{dimensions:st,color:A,lineWidth:it})),a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${bt+Ke})`}))}Me.displayName="Background";var We=(0,a.memo)(Me)},27510:function(Xe,pe,P){P.d(pe,{Z:function(){return Ke}});var a=P(52983),se=P(61768),U=P(50770),ie=P(92841);function xe(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},a.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function fe(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},a.createElement("path",{d:"M0 0h32v4.2H0z"}))}function ne(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},a.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function le(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},a.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function de(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},a.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Te=it=>{var qe=it,{children:Fe,className:ft}=qe,$t=$r(qe,["children","className"]);return a.createElement("button",_e({type:"button",className:(0,se.Z)(["react-flow__controls-button",ft])},$t),Fe)};Te.displayName="ControlButton";const Me=Fe=>({isInteractive:Fe.nodesDraggable||Fe.nodesConnectable||Fe.elementsSelectable,minZoomReached:Fe.transform[2]<=Fe.minZoom,maxZoomReached:Fe.transform[2]>=Fe.maxZoom}),We=({style:Fe,showZoom:ft=!0,showFitView:$t=!0,showInteractive:it=!0,fitViewOptions:qe,onZoomIn:dt,onZoomOut:Tt,onFitView:De,onInteractiveChange:et,className:at,children:bt,position:A="bottom-left"})=>{const Y=(0,ie.AC)(),[He,G]=(0,a.useState)(!1),{isInteractive:Ae,minZoomReached:Ne,maxZoomReached:Ie}=(0,ie.oR)(Me,U.X),{zoomIn:st,zoomOut:ct,fitView:je}=(0,ie._K)();if((0,a.useEffect)(()=>{G(!0)},[]),!He)return null;const vt=()=>{st(),dt==null||dt()},Ue=()=>{ct(),Tt==null||Tt()},mt=()=>{je(qe),De==null||De()},ot=()=>{Y.setState({nodesDraggable:!Ae,nodesConnectable:!Ae,elementsSelectable:!Ae}),et==null||et(!Ae)};return a.createElement(ie.s_,{className:(0,se.Z)(["react-flow__controls",at]),position:A,style:Fe,"data-testid":"rf__controls"},ft&&a.createElement(a.Fragment,null,a.createElement(Te,{onClick:vt,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:Ie},a.createElement(xe,null)),a.createElement(Te,{onClick:Ue,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:Ne},a.createElement(fe,null))),$t&&a.createElement(Te,{className:"react-flow__controls-fitview",onClick:mt,title:"fit view","aria-label":"fit view"},a.createElement(ne,null)),it&&a.createElement(Te,{className:"react-flow__controls-interactive",onClick:ot,title:"toggle interactivity","aria-label":"toggle interactivity"},Ae?a.createElement(de,null):a.createElement(le,null)),bt)};We.displayName="Controls";var Ke=(0,a.memo)(We)},92841:function(Xe,pe,P){P.d(pe,{u5:function(){return an},XQ:function(){return Ii},HH:function(){return Hn},QZ:function(){return pt},s_:function(){return ct},Ly:function(){return ae},x$:function(){return gi},oI:function(){return Ft},VP:function(){return d},YH:function(){return w},OW:function(){return Mn},ll:function(){return ki},Rr:function(){return Bi},_K:function(){return Jr},oR:function(){return Ne},AC:function(){return Ie}});var a=P(52983),se=P(61768),U=P(22506);const ie=e=>{let t;const r=new Set,i=(m,p)=>{const h=typeof m=="function"?m(t):m;if(!Object.is(h,t)){const y=t;t=(p!=null?p:typeof h!="object")?h:Object.assign({},t,h),r.forEach(b=>b(t,y))}},s=()=>t,f={setState:i,getState:s,subscribe:m=>(r.add(m),()=>r.delete(m)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}};return t=e(i,s,f),f},xe=e=>e?ie(e):ie;var fe=e=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'."),xe(e));const{useSyncExternalStoreWithSelector:ne}=U;function le(e,t=e.getState,r){const i=ne(e.subscribe,e.getState,e.getServerState||e.getState,t,r);return(0,a.useDebugValue)(i),i}const de=(e,t)=>{const r=xe(e),i=(s,u=t)=>le(r,s,u);return Object.assign(i,r),i},Te=(e,t)=>e?de(e,t):de;var Me=P(50770),We=P(58747),Ke=P(72905),Fe=P(30271),ft=P(54237),$t=P(21617),it=P(87317),qe=e=>()=>e;function dt(e,{sourceEvent:t,subject:r,target:i,identifier:s,active:u,x:l,y:f,dx:m,dy:p,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:p,enumerable:!0,configurable:!0},_:{value:h}})}dt.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Tt(e){return!e.ctrlKey&&!e.button}function De(){return this.parentNode}function et(e,t){return t==null?{x:e.x,y:e.y}:t}function at(){return navigator.maxTouchPoints||"ontouchstart"in this}function bt(){var e=Tt,t=De,r=et,i=at,s={},u=(0,ft.Z)("start","drag","end"),l=0,f,m,p,h,y=0;function b(S){S.on("mousedown.drag",E).filter(i).on("touchstart.drag",R).on("touchmove.drag",D,it.Q7).on("touchend.drag touchcancel.drag",z).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(S,k){if(!(h||!e.call(this,S,k))){var Q=O(this,t.call(this,S,k),S,k,"mouse");Q&&((0,Ke.Z)(S.view).on("mousemove.drag",I,it.Dd).on("mouseup.drag",C,it.Dd),(0,$t.Z)(S.view),(0,it.rG)(S),p=!1,f=S.clientX,m=S.clientY,Q("start",S))}}function I(S){if((0,it.ZP)(S),!p){var k=S.clientX-f,Q=S.clientY-m;p=k*k+Q*Q>y}s.mouse("drag",S)}function C(S){(0,Ke.Z)(S.view).on("mousemove.drag mouseup.drag",null),(0,$t.D)(S.view,p),(0,it.ZP)(S),s.mouse("end",S)}function R(S,k){if(e.call(this,S,k)){var Q=S.changedTouches,F=t.call(this,S,k),H=Q.length,J,ce;for(J=0;J<H;++J)(ce=O(this,F,S,k,Q[J].identifier,Q[J]))&&((0,it.rG)(S),ce("start",S,Q[J]))}}function D(S){var k=S.changedTouches,Q=k.length,F,H;for(F=0;F<Q;++F)(H=s[k[F].identifier])&&((0,it.ZP)(S),H("drag",S,k[F]))}function z(S){var k=S.changedTouches,Q=k.length,F,H;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),F=0;F<Q;++F)(H=s[k[F].identifier])&&((0,it.rG)(S),H("end",S,k[F]))}function O(S,k,Q,F,H,J){var ce=u.copy(),q=(0,Fe.Z)(J||Q,k),ue,N,ee;if((ee=r.call(S,new dt("beforestart",{sourceEvent:Q,target:b,identifier:H,active:l,x:q[0],y:q[1],dx:0,dy:0,dispatch:ce}),F))!=null)return ue=ee.x-q[0]||0,N=ee.y-q[1]||0,function oe(ge,Pe,ve){var T=q,te;switch(ge){case"start":s[H]=oe,te=l++;break;case"end":delete s[H],--l;case"drag":q=(0,Fe.Z)(ve||Pe,k),te=l;break}ce.call(ge,S,new dt(ge,{sourceEvent:Pe,subject:ee,target:b,identifier:H,active:te,x:q[0]+ue,y:q[1]+N,dx:q[0]-T[0],dy:q[1]-T[1],dispatch:ce}),F)}}return b.filter=function(S){return arguments.length?(e=typeof S=="function"?S:qe(!!S),b):e},b.container=function(S){return arguments.length?(t=typeof S=="function"?S:qe(S),b):t},b.subject=function(S){return arguments.length?(r=typeof S=="function"?S:qe(S),b):r},b.touchable=function(S){return arguments.length?(i=typeof S=="function"?S:qe(!!S),b):i},b.on=function(){var S=u.on.apply(u,arguments);return S===u?b:S},b.clickDistance=function(S){return arguments.length?(y=(S=+S)*S,b):Math.sqrt(y)},b}var A=P(81025);const Y=(0,a.createContext)(null),He=Y.Provider,G={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Ae=G.error001();function Ne(e,t){const r=(0,a.useContext)(Y);if(r===null)throw new Error(Ae);return le(r,e,t)}const Ie=()=>{const e=(0,a.useContext)(Y);if(e===null)throw new Error(Ae);return(0,a.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},st=e=>e.userSelectionActive?"none":"all";function ct(u){var l=u,{position:e,children:t,className:r,style:i}=l,s=$r(l,["position","children","className","style"]);const f=Ne(st),m=`${e}`.split("-");return a.createElement("div",_e({className:(0,se.Z)(["react-flow__panel",r,...m]),style:Nt(_e({},i),{pointerEvents:f})},s),t)}function je({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:a.createElement(ct,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev"},a.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const vt=y=>{var b=y,{x:e,y:t,label:r,labelStyle:i={},labelShowBg:s=!0,labelBgStyle:u={},labelBgPadding:l=[2,4],labelBgBorderRadius:f=2,children:m,className:p}=b,h=$r(b,["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"]);const E=(0,a.useRef)(null),[I,C]=(0,a.useState)({x:0,y:0,width:0,height:0}),R=(0,se.Z)(["react-flow__edge-textwrapper",p]);return(0,a.useEffect)(()=>{if(E.current){const D=E.current.getBBox();C({x:D.x,y:D.y,width:D.width,height:D.height})}},[r]),typeof r=="undefined"||!r?null:a.createElement("g",_e({transform:`translate(${e-I.width/2} ${t-I.height/2})`,className:R,visibility:I.width?"visible":"hidden"},h),s&&a.createElement("rect",{width:I.width+2*l[0],x:-l[0],y:-l[1],height:I.height+2*l[1],className:"react-flow__edge-textbg",style:u,rx:f,ry:f}),a.createElement("text",{className:"react-flow__edge-text",y:I.height/2,dy:"0.3em",ref:E,style:i},r),m)};var Ue=(0,a.memo)(vt);const mt=e=>({width:e.offsetWidth,height:e.offsetHeight}),ot=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),Ct=(e={x:0,y:0},t)=>({x:ot(e.x,t[0][0],t[1][0]),y:ot(e.y,t[0][1],t[1][1])}),sn=(e,t,r)=>e<t?ot(Math.abs(e-t),1,50)/50:e>r?-ot(Math.abs(e-r),1,50)/50:0,Wt=(e,t)=>{const r=sn(e.x,35,t.width-35)*20,i=sn(e.y,35,t.height-35)*20;return[r,i]},jt=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},ht=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),tt=({x:e,y:t,width:r,height:i})=>({x:e,y:t,x2:e+r,y2:t+i}),Tn=({x:e,y:t,x2:r,y2:i})=>({x:e,y:t,width:r-e,height:i-t}),Ge=e=>Nt(_e({},e.positionAbsolute||{x:0,y:0}),{width:e.width||0,height:e.height||0}),Ft=(e,t)=>Tn(ht(tt(e),tt(t))),Mt=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*i)},Dn=e=>lt(e.width)&&lt(e.height)&&lt(e.x)&&lt(e.y),lt=e=>!isNaN(e)&&isFinite(e),Je=Symbol.for("internals"),Yt=["Enter"," ","Escape"],Dt=(e,t)=>{},Vn=e=>"nativeEvent"in e;function hn(e){var s,u;const t=Vn(e)?e.nativeEvent:e,r=((u=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:u[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const In=e=>"clientX"in e,qt=(e,t)=>{var u,l,f,m;const r=In(e),i=r?e.clientX:(u=e.touches)==null?void 0:u[0].clientX,s=r?e.clientY:(l=e.touches)==null?void 0:l[0].clientY;return{x:i-((f=t==null?void 0:t.left)!=null?f:0),y:s-((m=t==null?void 0:t.top)!=null?m:0)}},gn=()=>{var e;return typeof navigator!="undefined"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},an=({id:e,path:t,labelX:r,labelY:i,label:s,labelStyle:u,labelShowBg:l,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:h,markerEnd:y,markerStart:b,interactionWidth:E=20})=>a.createElement(a.Fragment,null,a.createElement("path",{id:e,style:h,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:y,markerStart:b}),E&&a.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:E,className:"react-flow__edge-interaction"}),s&&lt(r)&&lt(i)?a.createElement(Ue,{x:r,y:i,label:s,labelStyle:u,labelShowBg:l,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p}):null);an.displayName="BaseEdge";const Tr=(e,t)=>typeof t!="undefined"&&t?`url(#${t})`:typeof e!="undefined"?`url(#react-flow__${e})`:"none";function Sn(e,t,r){return r===void 0?r:i=>{const s=t().edges.find(u=>u.id===e);s&&r(i,_e({},s))}}function Nn({sourceX:e,sourceY:t,targetX:r,targetY:i}){const s=Math.abs(r-e)/2,u=r<e?r+s:r-s,l=Math.abs(i-t)/2,f=i<t?i+l:i-l;return[u,f,s,l]}function Cn({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:u,targetControlX:l,targetControlY:f}){const m=e*.125+s*.375+l*.375+r*.125,p=t*.125+u*.375+f*.375+i*.125,h=Math.abs(m-e),y=Math.abs(p-t);return[m,p,h,y]}var At;(function(e){e.Strict="strict",e.Loose="loose"})(At||(At={}));var _t;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(_t||(_t={}));var Lt;(function(e){e.Partial="partial",e.Full="full"})(Lt||(Lt={}));var Zt;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Zt||(Zt={}));var pt;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(pt||(pt={}));var ae;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ae||(ae={}));function Et({pos:e,x1:t,y1:r,x2:i,y2:s}){return e===ae.Left||e===ae.Right?[.5*(t+i),r]:[t,.5*(r+s)]}function cn({sourceX:e,sourceY:t,sourcePosition:r=ae.Bottom,targetX:i,targetY:s,targetPosition:u=ae.Top}){const[l,f]=Et({pos:r,x1:e,y1:t,x2:i,y2:s}),[m,p]=Et({pos:u,x1:i,y1:s,x2:e,y2:t}),[h,y,b,E]=Cn({sourceX:e,sourceY:t,targetX:i,targetY:s,sourceControlX:l,sourceControlY:f,targetControlX:m,targetControlY:p});return[`M${e},${t} C${l},${f} ${m},${p} ${i},${s}`,h,y,b,E]}const mn=(0,a.memo)(({sourceX:e,sourceY:t,targetX:r,targetY:i,sourcePosition:s=ae.Bottom,targetPosition:u=ae.Top,label:l,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:y,style:b,markerEnd:E,markerStart:I,interactionWidth:C})=>{const[R,D,z]=cn({sourceX:e,sourceY:t,sourcePosition:s,targetX:r,targetY:i,targetPosition:u});return a.createElement(an,{path:R,labelX:D,labelY:z,label:l,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:y,style:b,markerEnd:E,markerStart:I,interactionWidth:C})});mn.displayName="SimpleBezierEdge";const Rn={[ae.Left]:{x:-1,y:0},[ae.Right]:{x:1,y:0},[ae.Top]:{x:0,y:-1},[ae.Bottom]:{x:0,y:1}},ur=({source:e,sourcePosition:t=ae.Bottom,target:r})=>t===ae.Left||t===ae.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},zn=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Jn({source:e,sourcePosition:t=ae.Bottom,target:r,targetPosition:i=ae.Top,center:s,offset:u}){const l=Rn[t],f=Rn[i],m={x:e.x+l.x*u,y:e.y+l.y*u},p={x:r.x+f.x*u,y:r.y+f.y*u},h=ur({source:m,sourcePosition:t,target:p}),y=h.x!==0?"x":"y",b=h[y];let E=[],I,C;const R={x:0,y:0},D={x:0,y:0},[z,O,S,k]=Nn({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(l[y]*f[y]===-1){I=s.x||z,C=s.y||O;const F=[{x:I,y:m.y},{x:I,y:p.y}],H=[{x:m.x,y:C},{x:p.x,y:C}];l[y]===b?E=y==="x"?F:H:E=y==="x"?H:F}else{const F=[{x:m.x,y:p.y}],H=[{x:p.x,y:m.y}];if(y==="x"?E=l.x===b?H:F:E=l.y===b?F:H,t===i){const N=Math.abs(e[y]-r[y]);if(N<=u){const ee=Math.min(u-1,u-N);l[y]===b?R[y]=(m[y]>e[y]?-1:1)*ee:D[y]=(p[y]>r[y]?-1:1)*ee}}if(t!==i){const N=y==="x"?"y":"x",ee=l[y]===f[N],oe=m[N]>p[N],ge=m[N]<p[N];(l[y]===1&&(!ee&&oe||ee&&ge)||l[y]!==1&&(!ee&&ge||ee&&oe))&&(E=y==="x"?F:H)}const J={x:m.x+R.x,y:m.y+R.y},ce={x:p.x+D.x,y:p.y+D.y},q=Math.max(Math.abs(J.x-E[0].x),Math.abs(ce.x-E[0].x)),ue=Math.max(Math.abs(J.y-E[0].y),Math.abs(ce.y-E[0].y));q>=ue?(I=(J.x+ce.x)/2,C=E[0].y):(I=E[0].x,C=(J.y+ce.y)/2)}return[[e,{x:m.x+R.x,y:m.y+R.y},...E,{x:p.x+D.x,y:p.y+D.y},r],I,C,S,k]}function fr(e,t,r,i){const s=Math.min(zn(e,t)/2,zn(t,r)/2,i),{x:u,y:l}=t;if(e.x===u&&u===r.x||e.y===l&&l===r.y)return`L${u} ${l}`;if(e.y===l){const p=e.x<r.x?-1:1,h=e.y<r.y?1:-1;return`L ${u+s*p},${l}Q ${u},${l} ${u},${l+s*h}`}const f=e.x<r.x?1:-1,m=e.y<r.y?-1:1;return`L ${u},${l+s*m}Q ${u},${l} ${u+s*f},${l}`}function Mn({sourceX:e,sourceY:t,sourcePosition:r=ae.Bottom,targetX:i,targetY:s,targetPosition:u=ae.Top,borderRadius:l=5,centerX:f,centerY:m,offset:p=20}){const[h,y,b,E,I]=Jn({source:{x:e,y:t},sourcePosition:r,target:{x:i,y:s},targetPosition:u,center:{x:f,y:m},offset:p});return[h.reduce((R,D,z)=>{let O="";return z>0&&z<h.length-1?O=fr(h[z-1],D,h[z+1],l):O=`${z===0?"M":"L"}${D.x} ${D.y}`,R+=O,R},""),y,b,E,I]}const An=(0,a.memo)(({sourceX:e,sourceY:t,targetX:r,targetY:i,label:s,labelStyle:u,labelShowBg:l,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:h,sourcePosition:y=ae.Bottom,targetPosition:b=ae.Top,markerEnd:E,markerStart:I,pathOptions:C,interactionWidth:R})=>{const[D,z,O]=Mn({sourceX:e,sourceY:t,sourcePosition:y,targetX:r,targetY:i,targetPosition:b,borderRadius:C==null?void 0:C.borderRadius,offset:C==null?void 0:C.offset});return a.createElement(an,{path:D,labelX:z,labelY:O,label:s,labelStyle:u,labelShowBg:l,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:h,markerEnd:E,markerStart:I,interactionWidth:R})});An.displayName="SmoothStepEdge";const dr=(0,a.memo)(e=>{var t;return a.createElement(An,Nt(_e({},e),{pathOptions:(0,a.useMemo)(()=>{var r;return{borderRadius:0,offset:(r=e.pathOptions)==null?void 0:r.offset}},[(t=e.pathOptions)==null?void 0:t.offset])}))});dr.displayName="StepEdge";function Fr({sourceX:e,sourceY:t,targetX:r,targetY:i}){const[s,u,l,f]=Nn({sourceX:e,sourceY:t,targetX:r,targetY:i});return[`M ${e},${t}L ${r},${i}`,s,u,l,f]}const jn=(0,a.memo)(({sourceX:e,sourceY:t,targetX:r,targetY:i,label:s,labelStyle:u,labelShowBg:l,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:h,markerEnd:y,markerStart:b,interactionWidth:E})=>{const[I,C,R]=Fr({sourceX:e,sourceY:t,targetX:r,targetY:i});return a.createElement(an,{path:I,labelX:C,labelY:R,label:s,labelStyle:u,labelShowBg:l,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:h,markerEnd:y,markerStart:b,interactionWidth:E})});jn.displayName="StraightEdge";function pn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function hr({pos:e,x1:t,y1:r,x2:i,y2:s,c:u}){switch(e){case ae.Left:return[t-pn(t-i,u),r];case ae.Right:return[t+pn(i-t,u),r];case ae.Top:return[t,r-pn(r-s,u)];case ae.Bottom:return[t,r+pn(s-r,u)]}}function Xn({sourceX:e,sourceY:t,sourcePosition:r=ae.Bottom,targetX:i,targetY:s,targetPosition:u=ae.Top,curvature:l=.25}){const[f,m]=hr({pos:r,x1:e,y1:t,x2:i,y2:s,c:l}),[p,h]=hr({pos:u,x1:i,y1:s,x2:e,y2:t,c:l}),[y,b,E,I]=Cn({sourceX:e,sourceY:t,targetX:i,targetY:s,sourceControlX:f,sourceControlY:m,targetControlX:p,targetControlY:h});return[`M${e},${t} C${f},${m} ${p},${h} ${i},${s}`,y,b,E,I]}const qn=(0,a.memo)(({sourceX:e,sourceY:t,targetX:r,targetY:i,sourcePosition:s=ae.Bottom,targetPosition:u=ae.Top,label:l,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:y,style:b,markerEnd:E,markerStart:I,pathOptions:C,interactionWidth:R})=>{const[D,z,O]=Xn({sourceX:e,sourceY:t,sourcePosition:s,targetX:r,targetY:i,targetPosition:u,curvature:C==null?void 0:C.curvature});return a.createElement(an,{path:D,labelX:z,labelY:O,label:l,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:y,style:b,markerEnd:E,markerStart:I,interactionWidth:R})});qn.displayName="BezierEdge";const On=(0,a.createContext)(null),Ot=On.Provider;On.Consumer;const Dr=()=>(0,a.useContext)(On),Yr=e=>"id"in e&&"source"in e&&"target"in e,er=e=>"id"in e&&!("source"in e)&&!("target"in e),gr=(e,t,r)=>{if(!er(e))return[];const i=r.filter(s=>s.source===e.id).map(s=>s.target);return t.filter(s=>i.includes(s.id))},Bn=(e,t,r)=>{if(!er(e))return[];const i=r.filter(s=>s.target===e.id).map(s=>s.source);return t.filter(s=>i.includes(s.id))},yn=({source:e,sourceHandle:t,target:r,targetHandle:i})=>`reactflow__edge-${e}${t||""}-${r}${i||""}`,tr=(e,t)=>typeof e=="undefined"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`,mr=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),Kt=(e,t)=>{if(!e.source||!e.target)return Dt("006",G.error006()),t;let r;return Yr(e)?r=_e({},e):r=Nt(_e({},e),{id:yn(e)}),mr(r,t)?t:t.concat(r)},en=(e,t,r,i={shouldReplaceId:!0})=>{const m=e,{id:s}=m,u=$r(m,["id"]);if(!t.source||!t.target)return Dt("006",G.error006()),r;if(!r.find(p=>p.id===s))return Dt("007",G.error007(s)),r;const f=Nt(_e({},u),{id:i.shouldReplaceId?yn(t):s,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle});return r.filter(p=>p.id!==s).concat(f)},pr=({x:e,y:t},[r,i,s],u,[l,f])=>{const m={x:(e-r)/s,y:(t-i)/s};return u?{x:l*Math.round(m.x/l),y:f*Math.round(m.y/f)}:m},nr=({x:e,y:t},[r,i,s])=>({x:e*s+r,y:t*s+i}),d=(e,t=[0,0])=>{var u,l;if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=((u=e.width)!=null?u:0)*t[0],i=((l=e.height)!=null?l:0)*t[1],s={x:e.position.x-r,y:e.position.y-i};return Nt(_e({},s),{positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-i}:s})},w=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((i,s)=>{const{x:u,y:l}=d(s,t).positionAbsolute;return ht(i,tt({x:u,y:l,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Tn(r)},X=(e,t,[r,i,s]=[0,0,1],u=!1,l=!1,f=[0,0])=>{const m={x:(t.x-r)/s,y:(t.y-i)/s,width:t.width/s,height:t.height/s},p=[];return e.forEach(h=>{const{width:y,height:b,selectable:E=!0,hidden:I=!1}=h;if(l&&!E||I)return!1;const{positionAbsolute:C}=d(h,f),R={x:C.x,y:C.y,width:y||0,height:b||0},D=Mt(m,R),z=typeof y=="undefined"||typeof b=="undefined"||y===null||b===null,O=u&&D>0,S=(y||0)*(b||0);(z||O||D>=S||h.dragging)&&p.push(h)}),p},K=(e,t)=>{const r=e.map(i=>i.id);return t.filter(i=>r.includes(i.source)||r.includes(i.target))},B=(e,t,r,i,s,u=.1)=>{const l=t/(e.width*(1+u)),f=r/(e.height*(1+u)),m=Math.min(l,f),p=ot(m,i,s),h=e.x+e.width/2,y=e.y+e.height/2,b=t/2-h*p,E=r/2-y*p;return[b,E,p]},j=(e,t=0)=>e.transition().duration(t);function he(e,t,r,i){return(t[r]||[]).reduce((s,u)=>{var l,f,m,p;return`${e.id}-${u.id}-${r}`!==i&&s.push({id:u.id||null,type:r,nodeId:e.id,x:((f=(l=e.positionAbsolute)==null?void 0:l.x)!=null?f:0)+u.x+u.width/2,y:((p=(m=e.positionAbsolute)==null?void 0:m.y)!=null?p:0)+u.y+u.height/2}),s},[])}function me(e,t,r,i,s,u){const{x:l,y:f}=qt(e),p=t.elementsFromPoint(l,f).find(I=>I.classList.contains("react-flow__handle"));if(p){const I=p.getAttribute("data-nodeid");if(I){const C=tn(void 0,p),R=p.getAttribute("data-handleid"),D=u({nodeId:I,id:R,type:C});if(D)return{handle:{id:R,type:C,nodeId:I,x:r.x,y:r.y},validHandleResult:D}}}let h=[],y=1/0;if(s.forEach(I=>{const C=Math.sqrt(fi(I.x-r.x,2)+fi(I.y-r.y,2));if(C<=i){const R=u(I);C<=y&&(C<y?h=[{handle:I,validHandleResult:R}]:C===y&&h.push({handle:I,validHandleResult:R}),y=C)}}),!h.length)return{handle:null,validHandleResult:Oe()};if(h.length===1)return h[0];const b=h.some(({validHandleResult:I})=>I.isValid),E=h.some(({handle:I})=>I.type==="target");return h.find(({handle:I,validHandleResult:C})=>E?I.type==="target":b?C.isValid:!0)||h[0]}const Ce={source:null,target:null,sourceHandle:null,targetHandle:null},Oe=()=>({handleDomNode:null,isValid:!1,connection:Ce,endHandle:null});function Qe(e,t,r,i,s,u,l){const f=s==="target",m=l.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),p=Nt(_e({},Oe()),{handleDomNode:m});if(m){const h=tn(void 0,m),y=m.getAttribute("data-nodeid"),b=m.getAttribute("data-handleid"),E=m.classList.contains("connectable"),I=m.classList.contains("connectableend"),C={source:f?y:r,sourceHandle:f?b:i,target:f?r:y,targetHandle:f?i:b};p.connection=C,E&&I&&(t===At.Strict?f&&h==="source"||!f&&h==="target":y!==r||b!==i)&&(p.endHandle={nodeId:y,handleId:b,type:h},p.isValid=u(C))}return p}function Ut({nodes:e,nodeId:t,handleId:r,handleType:i}){return e.reduce((s,u)=>{if(u[Je]){const{handleBounds:l}=u[Je];let f=[],m=[];l&&(f=he(u,l,"source",`${t}-${r}-${i}`),m=he(u,l,"target",`${t}-${r}-${i}`)),s.push(...f,...m)}return s},[])}function tn(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Vt(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Gt(e,t){let r=null;return t?r="valid":e&&!t&&(r="invalid"),r}function Wn({event:e,handleId:t,nodeId:r,onConnect:i,isTarget:s,getState:u,setState:l,isValidConnection:f,edgeUpdaterType:m,onEdgeUpdateEnd:p}){const h=jt(e.target),{connectionMode:y,domNode:b,autoPanOnConnect:E,connectionRadius:I,onConnectStart:C,panBy:R,getNodes:D,cancelConnection:z}=u();let O=0,S;const{x:k,y:Q}=qt(e),F=h==null?void 0:h.elementFromPoint(k,Q),H=tn(m,F),J=b==null?void 0:b.getBoundingClientRect();if(!J||!H)return;let ce,q=qt(e,J),ue=!1,N=null,ee=!1,oe=null;const ge=Ut({nodes:D(),nodeId:r,handleId:t,handleType:H}),Pe=()=>{if(!E)return;const[te,re]=Wt(q,J);R({x:te,y:re}),O=requestAnimationFrame(Pe)};l({connectionPosition:q,connectionStatus:null,connectionNodeId:r,connectionHandleId:t,connectionHandleType:H,connectionStartHandle:{nodeId:r,handleId:t,type:H},connectionEndHandle:null}),C==null||C(e,{nodeId:r,handleId:t,handleType:H});function ve(te){const{transform:re}=u();q=qt(te,J);const{handle:Se,validHandleResult:$e}=me(te,h,pr(q,re,!1,[1,1]),I,ge,Ve=>Qe(Ve,y,r,t,s?"target":"source",f,h));if(S=Se,ue||(Pe(),ue=!0),oe=$e.handleDomNode,N=$e.connection,ee=$e.isValid,l({connectionPosition:S&&ee?nr({x:S.x,y:S.y},re):q,connectionStatus:Gt(!!S,ee),connectionEndHandle:$e.endHandle}),!S&&!ee&&!oe)return Vt(ce);N.source!==N.target&&oe&&(Vt(ce),ce=oe,oe.classList.add("connecting","react-flow__handle-connecting"),oe.classList.toggle("valid",ee),oe.classList.toggle("react-flow__handle-valid",ee))}function T(te){var re,Se;(S||oe)&&N&&ee&&(i==null||i(N)),(Se=(re=u()).onConnectEnd)==null||Se.call(re,te),m&&(p==null||p(te)),Vt(ce),z(),cancelAnimationFrame(O),ue=!1,ee=!1,N=null,oe=null,h.removeEventListener("mousemove",ve),h.removeEventListener("mouseup",T),h.removeEventListener("touchmove",ve),h.removeEventListener("touchend",T)}h.addEventListener("mousemove",ve),h.addEventListener("mouseup",T),h.addEventListener("touchmove",ve),h.addEventListener("touchend",T)}const yr=()=>!0,Kr=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),Fn=(e,t,r)=>i=>{const{connectionStartHandle:s,connectionEndHandle:u,connectionClickStartHandle:l}=i;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===r||(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.handleId)===t&&(u==null?void 0:u.type)===r,clickConnecting:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.handleId)===t&&(l==null?void 0:l.type)===r}},kn=(0,a.forwardRef)((I,E)=>{var C=I,{type:e="source",position:t=ae.Top,isValidConnection:r,isConnectable:i=!0,isConnectableStart:s=!0,isConnectableEnd:u=!0,id:l,onConnect:f,children:m,className:p,onMouseDown:h,onTouchStart:y}=C,b=$r(C,["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"]);var q,ue;const R=l||null,D=e==="target",z=Ie(),O=Dr(),{connectOnClick:S,noPanClassName:k}=Ne(Kr,Me.X),{connecting:Q,clickConnecting:F}=Ne(Fn(O,R,e),Me.X);O||(ue=(q=z.getState()).onError)==null||ue.call(q,"010",G.error010());const H=N=>{const{defaultEdgeOptions:ee,onConnect:oe,hasDefaultEdges:ge}=z.getState(),Pe=_e(_e({},ee),N);if(ge){const{edges:ve,setEdges:T}=z.getState();T(Kt(Pe,ve))}oe==null||oe(Pe),f==null||f(Pe)},J=N=>{if(!O)return;const ee=In(N);s&&(ee&&N.button===0||!ee)&&Wn({event:N,handleId:R,nodeId:O,onConnect:H,isTarget:D,getState:z.getState,setState:z.setState,isValidConnection:r||z.getState().isValidConnection||yr}),ee?h==null||h(N):y==null||y(N)},ce=N=>{const{onClickConnectStart:ee,onClickConnectEnd:oe,connectionClickStartHandle:ge,connectionMode:Pe,isValidConnection:ve}=z.getState();if(!O||!ge&&!s)return;if(!ge){ee==null||ee(N,{nodeId:O,handleId:R,handleType:e}),z.setState({connectionClickStartHandle:{nodeId:O,type:e,handleId:R}});return}const T=jt(N.target),te=r||ve||yr,{connection:re,isValid:Se}=Qe({nodeId:O,id:R,type:e},Pe,ge.nodeId,ge.handleId||null,ge.type,te,T);Se&&H(re),oe==null||oe(N),z.setState({connectionClickStartHandle:null})};return a.createElement("div",_e({"data-handleid":R,"data-nodeid":O,"data-handlepos":t,"data-id":`${O}-${R}-${e}`,className:(0,se.Z)(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",k,p,{source:!D,target:D,connectable:i,connectablestart:s,connectableend:u,connecting:F,connectionindicator:i&&(s&&!Q||u&&Q)}]),onMouseDown:J,onTouchStart:J,onClick:S?ce:void 0,ref:E},b),m)});kn.displayName="Handle";var Hn=(0,a.memo)(kn);const xr=({data:e,isConnectable:t,targetPosition:r=ae.Top,sourcePosition:i=ae.Bottom})=>a.createElement(a.Fragment,null,a.createElement(Hn,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,a.createElement(Hn,{type:"source",position:i,isConnectable:t}));xr.displayName="DefaultNode";var Ur=(0,a.memo)(xr);const io=({data:e,isConnectable:t,sourcePosition:r=ae.Bottom})=>a.createElement(a.Fragment,null,e==null?void 0:e.label,a.createElement(Hn,{type:"source",position:r,isConnectable:t}));io.displayName="InputNode";var so=(0,a.memo)(io);const ao=({data:e,isConnectable:t,targetPosition:r=ae.Top})=>a.createElement(a.Fragment,null,a.createElement(Hn,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label);ao.displayName="OutputNode";var co=(0,a.memo)(ao);const Gr=()=>null;Gr.displayName="GroupNode";const Io=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected)}),Ir=e=>e.id;function Ro(e,t){return(0,Me.X)(e.selectedNodes.map(Ir),t.selectedNodes.map(Ir))&&(0,Me.X)(e.selectedEdges.map(Ir),t.selectedEdges.map(Ir))}const lo=(0,a.memo)(({onSelectionChange:e})=>{const t=Ie(),{selectedNodes:r,selectedEdges:i}=Ne(Io,Ro);return(0,a.useEffect)(()=>{var u,l;const s={nodes:r,edges:i};e==null||e(s),(l=(u=t.getState()).onSelectionChange)==null||l.call(u,s)},[r,i,e]),null});lo.displayName="SelectionListener";const zo=e=>!!e.onSelectionChange;function Oo({onSelectionChange:e}){const t=Ne(zo);return e||t?a.createElement(lo,{onSelectionChange:e}):null}const Bo=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function rr(e,t){(0,a.useEffect)(()=>{typeof e!="undefined"&&t(e)},[e])}function Le(e,t,r){(0,a.useEffect)(()=>{typeof t!="undefined"&&r({[e]:t})},[t])}const ko=({nodes:e,edges:t,defaultNodes:r,defaultEdges:i,onConnect:s,onConnectStart:u,onConnectEnd:l,onClickConnectStart:f,onClickConnectEnd:m,nodesDraggable:p,nodesConnectable:h,nodesFocusable:y,edgesFocusable:b,edgesUpdatable:E,elevateNodesOnSelect:I,minZoom:C,maxZoom:R,nodeExtent:D,onNodesChange:z,onEdgesChange:O,elementsSelectable:S,connectionMode:k,snapGrid:Q,snapToGrid:F,translateExtent:H,connectOnClick:J,defaultEdgeOptions:ce,fitView:q,fitViewOptions:ue,onNodesDelete:N,onEdgesDelete:ee,onNodeDrag:oe,onNodeDragStart:ge,onNodeDragStop:Pe,onSelectionDrag:ve,onSelectionDragStart:T,onSelectionDragStop:te,noPanClassName:re,nodeOrigin:Se,rfId:$e,autoPanOnConnect:Ve,autoPanOnNodeDrag:rt,onError:ut,connectionRadius:Ht,isValidConnection:Rt,nodeDragThreshold:zt})=>{const{setNodes:Qt,setEdges:Xt,setDefaultNodesAndEdges:St,setMinZoom:un,setMaxZoom:wt,setTranslateExtent:gt,setNodeExtent:on,reset:fn}=Ne(Bo,Me.X),ze=Ie();return(0,a.useEffect)(()=>{const br=i==null?void 0:i.map(Er=>_e(_e({},Er),ce));return St(r,br),()=>{fn()}},[]),Le("defaultEdgeOptions",ce,ze.setState),Le("connectionMode",k,ze.setState),Le("onConnect",s,ze.setState),Le("onConnectStart",u,ze.setState),Le("onConnectEnd",l,ze.setState),Le("onClickConnectStart",f,ze.setState),Le("onClickConnectEnd",m,ze.setState),Le("nodesDraggable",p,ze.setState),Le("nodesConnectable",h,ze.setState),Le("nodesFocusable",y,ze.setState),Le("edgesFocusable",b,ze.setState),Le("edgesUpdatable",E,ze.setState),Le("elementsSelectable",S,ze.setState),Le("elevateNodesOnSelect",I,ze.setState),Le("snapToGrid",F,ze.setState),Le("snapGrid",Q,ze.setState),Le("onNodesChange",z,ze.setState),Le("onEdgesChange",O,ze.setState),Le("connectOnClick",J,ze.setState),Le("fitViewOnInit",q,ze.setState),Le("fitViewOnInitOptions",ue,ze.setState),Le("onNodesDelete",N,ze.setState),Le("onEdgesDelete",ee,ze.setState),Le("onNodeDrag",oe,ze.setState),Le("onNodeDragStart",ge,ze.setState),Le("onNodeDragStop",Pe,ze.setState),Le("onSelectionDrag",ve,ze.setState),Le("onSelectionDragStart",T,ze.setState),Le("onSelectionDragStop",te,ze.setState),Le("noPanClassName",re,ze.setState),Le("nodeOrigin",Se,ze.setState),Le("rfId",$e,ze.setState),Le("autoPanOnConnect",Ve,ze.setState),Le("autoPanOnNodeDrag",rt,ze.setState),Le("onError",ut,ze.setState),Le("connectionRadius",Ht,ze.setState),Le("isValidConnection",Rt,ze.setState),Le("nodeDragThreshold",zt,ze.setState),rr(e,Qt),rr(t,Xt),rr(C,un),rr(R,wt),rr(H,gt),rr(D,on),null},uo={display:"none"},Ho={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},fo="react-flow__node-desc",ho="react-flow__edge-desc",Lo="react-flow__aria-live",Zo=e=>e.ariaLiveMessage;function Vo({rfId:e}){const t=Ne(Zo);return a.createElement("div",{id:`${Lo}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Ho},t)}function Xo({rfId:e,disableKeyboardA11y:t}){return a.createElement(a.Fragment,null,a.createElement("div",{id:`${fo}-${e}`,style:uo},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),a.createElement("div",{id:`${ho}-${e}`,style:uo},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&a.createElement(Vo,{rfId:e}))}var wr=(e=null,t={actInsideInputWithModifier:!0})=>{const[r,i]=(0,a.useState)(!1),s=(0,a.useRef)(!1),u=(0,a.useRef)(new Set([])),[l,f]=(0,a.useMemo)(()=>{if(e!==null){const p=(Array.isArray(e)?e:[e]).filter(y=>typeof y=="string").map(y=>y.split("+")),h=p.reduce((y,b)=>y.concat(...b),[]);return[p,h]}return[[],[]]},[e]);return(0,a.useEffect)(()=>{const m=typeof document!="undefined"?document:null,p=(t==null?void 0:t.target)||m;if(e!==null){const h=E=>{if(s.current=E.ctrlKey||E.metaKey||E.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&hn(E))return!1;const C=mo(E.code,f);u.current.add(E[C]),go(l,u.current,!1)&&(E.preventDefault(),i(!0))},y=E=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&hn(E))return!1;const C=mo(E.code,f);go(l,u.current,!0)?(i(!1),u.current.clear()):u.current.delete(E[C]),E.key==="Meta"&&u.current.clear(),s.current=!1},b=()=>{u.current.clear(),i(!1)};return p==null||p.addEventListener("keydown",h),p==null||p.addEventListener("keyup",y),window.addEventListener("blur",b),()=>{p==null||p.removeEventListener("keydown",h),p==null||p.removeEventListener("keyup",y),window.removeEventListener("blur",b)}}},[e,i]),r};function go(e,t,r){return e.filter(i=>r||i.length===t.size).some(i=>i.every(s=>t.has(s)))}function mo(e,t){return t.includes(e)?"code":"key"}function po(e,t,r,i){var l,f,m,p,h,y,b,E;if(!e.parentNode)return r;const s=t.get(e.parentNode),u=d(s,i);return po(s,t,{x:((l=r.x)!=null?l:0)+u.x,y:((f=r.y)!=null?f:0)+u.y,z:((p=(m=s[Je])==null?void 0:m.z)!=null?p:0)>((h=r.z)!=null?h:0)?(b=(y=s[Je])==null?void 0:y.z)!=null?b:0:(E=r.z)!=null?E:0},i)}function yo(e,t,r){e.forEach(i=>{var s,u;if(i.parentNode&&!e.has(i.parentNode))throw new Error(`Parent node ${i.parentNode} not found`);if(i.parentNode||r!=null&&r[i.id]){const{x:l,y:f,z:m}=po(i,e,Nt(_e({},i.position),{z:(u=(s=i[Je])==null?void 0:s.z)!=null?u:0}),t);i.positionAbsolute={x:l,y:f},i[Je].z=m,r!=null&&r[i.id]&&(i[Je].isParent=!0)}})}function Qr(e,t,r,i){const s=new Map,u={},l=i?1e3:0;return e.forEach(f=>{var y;const m=(lt(f.zIndex)?f.zIndex:0)+(f.selected?l:0),p=t.get(f.id),h=Nt(_e({width:p==null?void 0:p.width,height:p==null?void 0:p.height},f),{positionAbsolute:{x:f.position.x,y:f.position.y}});f.parentNode&&(h.parentNode=f.parentNode,u[f.parentNode]=!0),Object.defineProperty(h,Je,{enumerable:!1,value:{handleBounds:(y=p==null?void 0:p[Je])==null?void 0:y.handleBounds,z:m}}),s.set(f.id,h)}),yo(s,r,u),s}function xo(e,t={}){var I,C,R;const{getNodes:r,width:i,height:s,minZoom:u,maxZoom:l,d3Zoom:f,d3Selection:m,fitViewOnInitDone:p,fitViewOnInit:h,nodeOrigin:y}=e(),b=t.initial&&!p&&h;if(f&&m&&(b||!t.initial)){const D=r().filter(O=>{var k;const S=t.includeHiddenNodes?O.width&&O.height:!O.hidden;return(k=t.nodes)!=null&&k.length?S&&t.nodes.some(Q=>Q.id===O.id):S}),z=D.every(O=>O.width&&O.height);if(D.length>0&&z){const O=w(D,y),[S,k,Q]=B(O,i,s,(I=t.minZoom)!=null?I:u,(C=t.maxZoom)!=null?C:l,(R=t.padding)!=null?R:.1),F=We.CR.translate(S,k).scale(Q);return typeof t.duration=="number"&&t.duration>0?f.transform(j(m,t.duration),F):f.transform(m,F),!0}}return!1}function Wo(e,t){return e.forEach(r=>{const i=t.get(r.id);i&&t.set(i.id,Nt(_e({},i),{[Je]:i[Je],selected:r.selected}))}),new Map(t)}function Fo(e,t){return t.map(r=>{const i=e.find(s=>s.id===r.id);return i&&(r.selected=i.selected),r})}function Rr({changedNodes:e,changedEdges:t,get:r,set:i}){const{nodeInternals:s,edges:u,onNodesChange:l,onEdgesChange:f,hasDefaultNodes:m,hasDefaultEdges:p}=r();e!=null&&e.length&&(m&&i({nodeInternals:Wo(e,s)}),l==null||l(e)),t!=null&&t.length&&(p&&i({edges:Fo(t,u)}),f==null||f(t))}const xn=()=>{},Yo={zoomIn:xn,zoomOut:xn,zoomTo:xn,getZoom:()=>1,setViewport:xn,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:xn,fitBounds:xn,project:e=>e,viewportInitialized:!1},wo=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Ko=()=>{const e=Ie(),{d3Zoom:t,d3Selection:r}=Ne(wo,Me.X);return(0,a.useMemo)(()=>r&&t?{zoomIn:s=>t.scaleBy(j(r,s==null?void 0:s.duration),1.2),zoomOut:s=>t.scaleBy(j(r,s==null?void 0:s.duration),1/1.2),zoomTo:(s,u)=>t.scaleTo(j(r,u==null?void 0:u.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,u)=>{var h,y,b;const[l,f,m]=e.getState().transform,p=We.CR.translate((h=s.x)!=null?h:l,(y=s.y)!=null?y:f).scale((b=s.zoom)!=null?b:m);t.transform(j(r,u==null?void 0:u.duration),p)},getViewport:()=>{const[s,u,l]=e.getState().transform;return{x:s,y:u,zoom:l}},fitView:s=>xo(e.getState,s),setCenter:(s,u,l)=>{const{width:f,height:m,maxZoom:p}=e.getState(),h=typeof(l==null?void 0:l.zoom)!="undefined"?l.zoom:p,y=f/2-s*h,b=m/2-u*h,E=We.CR.translate(y,b).scale(h);t.transform(j(r,l==null?void 0:l.duration),E)},fitBounds:(s,u)=>{var I;const{width:l,height:f,minZoom:m,maxZoom:p}=e.getState(),[h,y,b]=B(s,l,f,m,p,(I=u==null?void 0:u.padding)!=null?I:.1),E=We.CR.translate(h,y).scale(b);t.transform(j(r,u==null?void 0:u.duration),E)},project:s=>{const{transform:u,snapToGrid:l,snapGrid:f}=e.getState();return pr(s,u,l,f)},viewportInitialized:!0}:Yo,[t,r])};function Jr(){const e=Ko(),t=Ie(),r=(0,a.useCallback)(()=>t.getState().getNodes().map(C=>_e({},C)),[]),i=(0,a.useCallback)(C=>t.getState().nodeInternals.get(C),[]),s=(0,a.useCallback)(()=>{const{edges:C=[]}=t.getState();return C.map(R=>_e({},R))},[]),u=(0,a.useCallback)(C=>{const{edges:R=[]}=t.getState();return R.find(D=>D.id===C)},[]),l=(0,a.useCallback)(C=>{const{getNodes:R,setNodes:D,hasDefaultNodes:z,onNodesChange:O}=t.getState(),S=R(),k=typeof C=="function"?C(S):C;if(z)D(k);else if(O){const Q=k.length===0?S.map(F=>({type:"remove",id:F.id})):k.map(F=>({item:F,type:"reset"}));O(Q)}},[]),f=(0,a.useCallback)(C=>{const{edges:R=[],setEdges:D,hasDefaultEdges:z,onEdgesChange:O}=t.getState(),S=typeof C=="function"?C(R):C;if(z)D(S);else if(O){const k=S.length===0?R.map(Q=>({type:"remove",id:Q.id})):S.map(Q=>({item:Q,type:"reset"}));O(k)}},[]),m=(0,a.useCallback)(C=>{const R=Array.isArray(C)?C:[C],{getNodes:D,setNodes:z,hasDefaultNodes:O,onNodesChange:S}=t.getState();if(O){const Q=[...D(),...R];z(Q)}else if(S){const k=R.map(Q=>({item:Q,type:"add"}));S(k)}},[]),p=(0,a.useCallback)(C=>{const R=Array.isArray(C)?C:[C],{edges:D=[],setEdges:z,hasDefaultEdges:O,onEdgesChange:S}=t.getState();if(O)z([...D,...R]);else if(S){const k=R.map(Q=>({item:Q,type:"add"}));S(k)}},[]),h=(0,a.useCallback)(()=>{const{getNodes:C,edges:R=[],transform:D}=t.getState(),[z,O,S]=D;return{nodes:C().map(k=>_e({},k)),edges:R.map(k=>_e({},k)),viewport:{x:z,y:O,zoom:S}}},[]),y=(0,a.useCallback)(({nodes:C,edges:R})=>{const{nodeInternals:D,getNodes:z,edges:O,hasDefaultNodes:S,hasDefaultEdges:k,onNodesDelete:Q,onEdgesDelete:F,onNodesChange:H,onEdgesChange:J}=t.getState(),ce=(C||[]).map(oe=>oe.id),q=(R||[]).map(oe=>oe.id),ue=z().reduce((oe,ge)=>{const Pe=!ce.includes(ge.id)&&ge.parentNode&&oe.find(T=>T.id===ge.parentNode);return(typeof ge.deletable=="boolean"?ge.deletable:!0)&&(ce.includes(ge.id)||Pe)&&oe.push(ge),oe},[]),N=O.filter(oe=>typeof oe.deletable=="boolean"?oe.deletable:!0),ee=N.filter(oe=>q.includes(oe.id));if(ue||ee){const oe=K(ue,N),ge=[...ee,...oe],Pe=ge.reduce((ve,T)=>(ve.includes(T.id)||ve.push(T.id),ve),[]);if((k||S)&&(k&&t.setState({edges:O.filter(ve=>!Pe.includes(ve.id))}),S&&(ue.forEach(ve=>{D.delete(ve.id)}),t.setState({nodeInternals:new Map(D)}))),Pe.length>0&&(F==null||F(ge),J&&J(Pe.map(ve=>({id:ve,type:"remove"})))),ue.length>0&&(Q==null||Q(ue),H)){const ve=ue.map(T=>({id:T.id,type:"remove"}));H(ve)}}},[]),b=(0,a.useCallback)(C=>{const R=Dn(C),D=R?null:t.getState().nodeInternals.get(C.id);return[R?C:Ge(D),D,R]},[]),E=(0,a.useCallback)((C,R=!0,D)=>{const[z,O,S]=b(C);return z?(D||t.getState().getNodes()).filter(k=>{if(!S&&(k.id===O.id||!k.positionAbsolute))return!1;const Q=Ge(k),F=Mt(Q,z);return R&&F>0||F>=C.width*C.height}):[]},[]),I=(0,a.useCallback)((C,R,D=!0)=>{const[z]=b(C);if(!z)return!1;const O=Mt(z,R);return D&&O>0||O>=C.width*C.height},[]);return(0,a.useMemo)(()=>Nt(_e({},e),{getNodes:r,getNode:i,getEdges:s,getEdge:u,setNodes:l,setEdges:f,addNodes:m,addEdges:p,toObject:h,deleteElements:y,getIntersectingNodes:E,isNodeIntersecting:I}),[e,r,i,s,u,l,f,m,p,h,y,E,I])}const Uo={actInsideInputWithModifier:!1};var Go=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const r=Ie(),{deleteElements:i}=Jr(),s=wr(e,Uo),u=wr(t);(0,a.useEffect)(()=>{if(s){const{edges:l,getNodes:f}=r.getState(),m=f().filter(h=>h.selected),p=l.filter(h=>h.selected);i({nodes:m,edges:p}),r.setState({nodesSelectionActive:!1})}},[s]),(0,a.useEffect)(()=>{r.setState({multiSelectionActive:u})},[u])};function Qo(e){const t=Ie();(0,a.useEffect)(()=>{let r;const i=()=>{var u,l;if(!e.current)return;const s=mt(e.current);(s.height===0||s.width===0)&&((l=(u=t.getState()).onError)==null||l.call(u,"004",G.error004())),t.setState({width:s.width||500,height:s.height||500})};return i(),window.addEventListener("resize",i),e.current&&(r=new ResizeObserver(()=>i()),r.observe(e.current)),()=>{window.removeEventListener("resize",i),r&&e.current&&r.unobserve(e.current)}},[])}const jr={position:"absolute",width:"100%",height:"100%",top:0,left:0},Jo=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,zr=e=>({x:e.x,y:e.y,zoom:e.k}),or=(e,t)=>e.target.closest(`.${t}`),vo=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),_o=e=>{const t=e.ctrlKey&&gn()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},jo=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),qo=({onMove:e,onMoveStart:t,onMoveEnd:r,onPaneContextMenu:i,zoomOnScroll:s=!0,zoomOnPinch:u=!0,panOnScroll:l=!1,panOnScrollSpeed:f=.5,panOnScrollMode:m=_t.Free,zoomOnDoubleClick:p=!0,elementsSelectable:h,panOnDrag:y=!0,defaultViewport:b,translateExtent:E,minZoom:I,maxZoom:C,zoomActivationKeyCode:R,preventScrolling:D=!0,children:z,noWheelClassName:O,noPanClassName:S})=>{const k=(0,a.useRef)(),Q=Ie(),F=(0,a.useRef)(!1),H=(0,a.useRef)(!1),J=(0,a.useRef)(null),ce=(0,a.useRef)({x:0,y:0,zoom:0}),{d3Zoom:q,d3Selection:ue,d3ZoomHandler:N,userSelectionActive:ee}=Ne(jo,Me.X),oe=wr(R),ge=(0,a.useRef)(0),Pe=(0,a.useRef)(!1),ve=(0,a.useRef)();return Qo(J),(0,a.useEffect)(()=>{if(J.current){const T=J.current.getBoundingClientRect(),te=(0,We.sP)().scaleExtent([I,C]).translateExtent(E),re=(0,Ke.Z)(J.current).call(te),Se=We.CR.translate(b.x,b.y).scale(ot(b.zoom,I,C)),$e=[[0,0],[T.width,T.height]],Ve=te.constrain()(Se,$e,E);te.transform(re,Ve),te.wheelDelta(_o),Q.setState({d3Zoom:te,d3Selection:re,d3ZoomHandler:re.on("wheel.zoom"),transform:[Ve.x,Ve.y,Ve.k],domNode:J.current.closest(".react-flow")})}},[]),(0,a.useEffect)(()=>{ue&&q&&(l&&!oe&&!ee?ue.on("wheel.zoom",T=>{if(or(T,O))return!1;T.preventDefault(),T.stopImmediatePropagation();const te=ue.property("__zoom").k||1,re=gn();if(T.ctrlKey&&u&&re){const zt=(0,Fe.Z)(T),Qt=_o(T),Xt=te*Math.pow(2,Qt);q.scaleTo(ue,Xt,zt,T);return}const Se=T.deltaMode===1?20:1;let $e=m===_t.Vertical?0:T.deltaX*Se,Ve=m===_t.Horizontal?0:T.deltaY*Se;!re&&T.shiftKey&&m!==_t.Vertical&&($e=T.deltaY*Se,Ve=0),q.translateBy(ue,-($e/te)*f,-(Ve/te)*f,{internal:!0});const rt=zr(ue.property("__zoom")),{onViewportChangeStart:ut,onViewportChange:Ht,onViewportChangeEnd:Rt}=Q.getState();clearTimeout(ve.current),Pe.current||(Pe.current=!0,t==null||t(T,rt),ut==null||ut(rt)),Pe.current&&(e==null||e(T,rt),Ht==null||Ht(rt),ve.current=setTimeout(()=>{r==null||r(T,rt),Rt==null||Rt(rt),Pe.current=!1},150))},{passive:!1}):typeof N!="undefined"&&ue.on("wheel.zoom",function(T,te){if(!D||or(T,O))return null;T.preventDefault(),N.call(this,T,te)},{passive:!1}))},[ee,l,m,ue,q,N,oe,u,D,O,t,e,r]),(0,a.useEffect)(()=>{q&&q.on("start",T=>{var Se,$e;if(!T.sourceEvent||T.sourceEvent.internal)return null;ge.current=(Se=T.sourceEvent)==null?void 0:Se.button;const{onViewportChangeStart:te}=Q.getState(),re=zr(T.transform);F.current=!0,ce.current=re,(($e=T.sourceEvent)==null?void 0:$e.type)==="mousedown"&&Q.setState({paneDragging:!0}),te==null||te(re),t==null||t(T.sourceEvent,re)})},[q,t]),(0,a.useEffect)(()=>{q&&(ee&&!F.current?q.on("zoom",null):ee||q.on("zoom",T=>{var re,Se;const{onViewportChange:te}=Q.getState();if(Q.setState({transform:[T.transform.x,T.transform.y,T.transform.k]}),H.current=!!(i&&vo(y,(re=ge.current)!=null?re:0)),(e||te)&&!((Se=T.sourceEvent)!=null&&Se.internal)){const $e=zr(T.transform);te==null||te($e),e==null||e(T.sourceEvent,$e)}}))},[ee,q,e,y,i]),(0,a.useEffect)(()=>{q&&q.on("end",T=>{var re;if(!T.sourceEvent||T.sourceEvent.internal)return null;const{onViewportChangeEnd:te}=Q.getState();if(F.current=!1,Q.setState({paneDragging:!1}),i&&vo(y,(re=ge.current)!=null?re:0)&&!H.current&&i(T.sourceEvent),H.current=!1,(r||te)&&Jo(ce.current,T.transform)){const Se=zr(T.transform);ce.current=Se,clearTimeout(k.current),k.current=setTimeout(()=>{te==null||te(Se),r==null||r(T.sourceEvent,Se)},l?150:0)}})},[q,l,y,r,i]),(0,a.useEffect)(()=>{q&&q.filter(T=>{const te=oe||s,re=u&&T.ctrlKey;if((y===!0||Array.isArray(y)&&y.includes(1))&&T.button===1&&T.type==="mousedown"&&(or(T,"react-flow__node")||or(T,"react-flow__edge")))return!0;if(!y&&!te&&!l&&!p&&!u||ee||!p&&T.type==="dblclick"||or(T,O)&&T.type==="wheel"||or(T,S)&&(T.type!=="wheel"||l&&T.type==="wheel")||!u&&T.ctrlKey&&T.type==="wheel"||!te&&!l&&!re&&T.type==="wheel"||!y&&(T.type==="mousedown"||T.type==="touchstart")||Array.isArray(y)&&!y.includes(T.button)&&(T.type==="mousedown"||T.type==="touchstart"))return!1;const Se=Array.isArray(y)&&y.includes(T.button)||!T.button||T.button<=1;return(!T.ctrlKey||T.type==="wheel")&&Se})},[ee,q,s,u,l,p,y,h,oe]),a.createElement("div",{className:"react-flow__renderer",ref:J,style:jr},z)},ei=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function ti(){const{userSelectionActive:e,userSelectionRect:t}=Ne(ei,Me.X);return e&&t?a.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function bo(e,t){var i,s;const r=e.find(u=>u.id===t.parentNode);if(r){const u=t.position.x+t.width-r.width,l=t.position.y+t.height-r.height;if(u>0||l>0||t.position.x<0||t.position.y<0){if(r.style=_e({},r.style)||{},r.style.width=(i=r.style.width)!=null?i:r.width,r.style.height=(s=r.style.height)!=null?s:r.height,u>0&&(r.style.width+=u),l>0&&(r.style.height+=l),t.position.x<0){const f=Math.abs(t.position.x);r.position.x=r.position.x-f,r.style.width+=f,t.position.x=0}if(t.position.y<0){const f=Math.abs(t.position.y);r.position.y=r.position.y-f,r.style.height+=f,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function wn(e,t){if(e.some(i=>i.type==="reset"))return e.filter(i=>i.type==="reset").map(i=>i.item);const r=e.filter(i=>i.type==="add").map(i=>i.item);return t.reduce((i,s)=>{const u=e.filter(f=>f.id===s.id);if(u.length===0)return i.push(s),i;const l=_e({},s);for(const f of u)if(f)switch(f.type){case"select":{l.selected=f.selected;break}case"position":{typeof f.position!="undefined"&&(l.position=f.position),typeof f.positionAbsolute!="undefined"&&(l.positionAbsolute=f.positionAbsolute),typeof f.dragging!="undefined"&&(l.dragging=f.dragging),l.expandParent&&bo(i,l);break}case"dimensions":{typeof f.dimensions!="undefined"&&(l.width=f.dimensions.width,l.height=f.dimensions.height),typeof f.updateStyle!="undefined"&&(l.style=_e(_e({},l.style||{}),f.dimensions)),typeof f.resizing=="boolean"&&(l.resizing=f.resizing),l.expandParent&&bo(i,l);break}case"remove":return i}return i.push(l),i},r)}function Eo(e,t){return wn(e,t)}function So(e,t){return wn(e,t)}const Bt=(e,t)=>({id:e,type:"select",selected:t});function vr(e,t){return e.reduce((r,i)=>{const s=t.includes(i.id);return!i.selected&&s?(i.selected=!0,r.push(Bt(i.id,!0))):i.selected&&!s&&(i.selected=!1,r.push(Bt(i.id,!1))),r},[])}const No=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},ni=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Co=(0,a.memo)(({isSelecting:e,selectionMode:t=Lt.Full,panOnDrag:r,onSelectionStart:i,onSelectionEnd:s,onPaneClick:u,onPaneContextMenu:l,onPaneScroll:f,onPaneMouseEnter:m,onPaneMouseMove:p,onPaneMouseLeave:h,children:y})=>{const b=(0,a.useRef)(null),E=Ie(),I=(0,a.useRef)(0),C=(0,a.useRef)(0),R=(0,a.useRef)(),{userSelectionActive:D,elementsSelectable:z,dragging:O}=Ne(ni,Me.X),S=()=>{E.setState({userSelectionActive:!1,userSelectionRect:null}),I.current=0,C.current=0},k=N=>{u==null||u(N),E.getState().resetSelectedElements(),E.setState({nodesSelectionActive:!1})},Q=N=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){N.preventDefault();return}l==null||l(N)},F=f?N=>f(N):void 0,H=N=>{const{resetSelectedElements:ee,domNode:oe}=E.getState();if(R.current=oe==null?void 0:oe.getBoundingClientRect(),!z||!e||N.button!==0||N.target!==b.current||!R.current)return;const{x:ge,y:Pe}=qt(N,R.current);ee(),E.setState({userSelectionRect:{width:0,height:0,startX:ge,startY:Pe,x:ge,y:Pe}}),i==null||i(N)},J=N=>{var Qt,Xt;const{userSelectionRect:ee,nodeInternals:oe,edges:ge,transform:Pe,onNodesChange:ve,onEdgesChange:T,nodeOrigin:te,getNodes:re}=E.getState();if(!e||!R.current||!ee)return;E.setState({userSelectionActive:!0,nodesSelectionActive:!1});const Se=qt(N,R.current),$e=(Qt=ee.startX)!=null?Qt:0,Ve=(Xt=ee.startY)!=null?Xt:0,rt=Nt(_e({},ee),{x:Se.x<$e?Se.x:$e,y:Se.y<Ve?Se.y:Ve,width:Math.abs(Se.x-$e),height:Math.abs(Se.y-Ve)}),ut=re(),Ht=X(oe,rt,Pe,t===Lt.Partial,!0,te),Rt=K(Ht,ge).map(St=>St.id),zt=Ht.map(St=>St.id);if(I.current!==zt.length){I.current=zt.length;const St=vr(ut,zt);St.length&&(ve==null||ve(St))}if(C.current!==Rt.length){C.current=Rt.length;const St=vr(ge,Rt);St.length&&(T==null||T(St))}E.setState({userSelectionRect:rt})},ce=N=>{if(N.button!==0)return;const{userSelectionRect:ee}=E.getState();!D&&ee&&N.target===b.current&&(k==null||k(N)),E.setState({nodesSelectionActive:I.current>0}),S(),s==null||s(N)},q=N=>{D&&(E.setState({nodesSelectionActive:I.current>0}),s==null||s(N)),S()},ue=z&&(e||D);return a.createElement("div",{className:(0,se.Z)(["react-flow__pane",{dragging:O,selection:e}]),onClick:ue?void 0:No(k,b),onContextMenu:No(Q,b),onWheel:No(F,b),onMouseEnter:ue?void 0:m,onMouseDown:ue?H:void 0,onMouseMove:ue?J:p,onMouseUp:ue?ce:void 0,onMouseLeave:ue?q:h,ref:b,style:jr},y,a.createElement(ti,null))});Co.displayName="Pane";function Mo(e,t){if(!e.parentNode)return!1;const r=t.get(e.parentNode);return r?r.selected?!0:Mo(r,t):!1}function Ao(e,t,r){let i=e;do{if(i!=null&&i.matches(t))return!0;if(i===r.current)return!1;i=i.parentElement}while(i);return!1}function Or(e,t,r,i){return Array.from(e.values()).filter(s=>(s.selected||s.id===i)&&(!s.parentNode||!Mo(s,e))&&(s.draggable||t&&typeof s.draggable=="undefined")).map(s=>{var u,l,f,m;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:r.x-((l=(u=s.positionAbsolute)==null?void 0:u.x)!=null?l:0),y:r.y-((m=(f=s.positionAbsolute)==null?void 0:f.y)!=null?m:0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode,width:s.width,height:s.height,expandParent:s.expandParent}})}function ri(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function vn(e,t,r,i,s=[0,0],u){const l=ri(e,e.extent||i);let f=l;if(e.extent==="parent"&&!e.expandParent)if(e.parentNode&&e.width&&e.height){const h=r.get(e.parentNode),{x:y,y:b}=d(h,s).positionAbsolute;f=h&&lt(y)&&lt(b)&&lt(h.width)&&lt(h.height)?[[y+e.width*s[0],b+e.height*s[1]],[y+h.width-e.width+e.width*s[0],b+h.height-e.height+e.height*s[1]]]:f}else u==null||u("005",G.error005()),f=l;else if(e.extent&&e.parentNode&&e.extent!=="parent"){const h=r.get(e.parentNode),{x:y,y:b}=d(h,s).positionAbsolute;f=[[e.extent[0][0]+y,e.extent[0][1]+b],[e.extent[1][0]+y,e.extent[1][1]+b]]}let m={x:0,y:0};if(e.parentNode){const h=r.get(e.parentNode);m=d(h,s).positionAbsolute}const p=f&&f!=="parent"?Ct(t,f):t;return{position:{x:p.x-m.x,y:p.y-m.y},positionAbsolute:p}}function ir({nodeId:e,dragItems:t,nodeInternals:r}){const i=t.map(s=>{const u=r.get(s.id);return Nt(_e({},u),{position:s.position,positionAbsolute:s.positionAbsolute})});return[e?i.find(s=>s.id===e):i[0],i]}const Po=(e,t,r,i)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const u=Array.from(s),l=t.getBoundingClientRect(),f={x:l.width*i[0],y:l.height*i[1]};return u.map(m=>{const p=m.getBoundingClientRect();return _e({id:m.getAttribute("data-handleid"),position:m.getAttribute("data-handlepos"),x:(p.left-l.left-f.x)/r,y:(p.top-l.top-f.y)/r},mt(m))})};function Yn(e,t,r){return r===void 0?r:i=>{const s=t().nodeInternals.get(e);s&&r(i,_e({},s))}}function Kn({id:e,store:t,unselect:r=!1,nodeRef:i}){const{addSelectedNodes:s,unselectNodesAndEdges:u,multiSelectionActive:l,nodeInternals:f,onError:m}=t.getState(),p=f.get(e);if(!p){m==null||m("012",G.error012(e));return}t.setState({nodesSelectionActive:!1}),p.selected?(r||p.selected&&l)&&(u({nodes:[p],edges:[]}),requestAnimationFrame(()=>{var h;return(h=i==null?void 0:i.current)==null?void 0:h.blur()})):s([e])}function oi(){const e=Ie();return(0,a.useCallback)(({sourceEvent:r})=>{const{transform:i,snapGrid:s,snapToGrid:u}=e.getState(),l=r.touches?r.touches[0].clientX:r.clientX,f=r.touches?r.touches[0].clientY:r.clientY,m={x:(l-i[0])/i[2],y:(f-i[1])/i[2]};return _e({xSnapped:u?s[0]*Math.round(m.x/s[0]):m.x,ySnapped:u?s[1]*Math.round(m.y/s[1]):m.y},m)},[])}function qr(e){return(t,r,i)=>e==null?void 0:e(t,i)}function eo({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:i,nodeId:s,isSelectable:u,selectNodesOnDrag:l}){const f=Ie(),[m,p]=(0,a.useState)(!1),h=(0,a.useRef)([]),y=(0,a.useRef)({x:null,y:null}),b=(0,a.useRef)(0),E=(0,a.useRef)(null),I=(0,a.useRef)({x:0,y:0}),C=(0,a.useRef)(null),R=(0,a.useRef)(!1),D=(0,a.useRef)(!1),z=oi();return(0,a.useEffect)(()=>{if(e!=null&&e.current){const O=(0,Ke.Z)(e.current),S=({x:F,y:H})=>{const{nodeInternals:J,onNodeDrag:ce,onSelectionDrag:q,updateNodePositions:ue,nodeExtent:N,snapGrid:ee,snapToGrid:oe,nodeOrigin:ge,onError:Pe}=f.getState();y.current={x:F,y:H};let ve=!1,T={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&N){const re=w(h.current,ge);T=tt(re)}if(h.current=h.current.map(re=>{var rt,ut;const Se={x:F-re.distance.x,y:H-re.distance.y};oe&&(Se.x=ee[0]*Math.round(Se.x/ee[0]),Se.y=ee[1]*Math.round(Se.y/ee[1]));const $e=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];h.current.length>1&&N&&!re.extent&&($e[0][0]=re.positionAbsolute.x-T.x+N[0][0],$e[1][0]=re.positionAbsolute.x+((rt=re.width)!=null?rt:0)-T.x2+N[1][0],$e[0][1]=re.positionAbsolute.y-T.y+N[0][1],$e[1][1]=re.positionAbsolute.y+((ut=re.height)!=null?ut:0)-T.y2+N[1][1]);const Ve=vn(re,Se,J,$e,ge,Pe);return ve=ve||re.position.x!==Ve.position.x||re.position.y!==Ve.position.y,re.position=Ve.position,re.positionAbsolute=Ve.positionAbsolute,re}),!ve)return;ue(h.current,!0,!0),p(!0);const te=s?ce:qr(q);if(te&&C.current){const[re,Se]=ir({nodeId:s,dragItems:h.current,nodeInternals:J});te(C.current,re,Se)}},k=()=>{var J,ce;if(!E.current)return;const[F,H]=Wt(I.current,E.current);if(F!==0||H!==0){const{transform:q,panBy:ue}=f.getState();y.current.x=((J=y.current.x)!=null?J:0)-F/q[2],y.current.y=((ce=y.current.y)!=null?ce:0)-H/q[2],ue({x:F,y:H})&&S(y.current)}b.current=requestAnimationFrame(k)},Q=F=>{var ge;const{nodeInternals:H,multiSelectionActive:J,nodesDraggable:ce,unselectNodesAndEdges:q,onNodeDragStart:ue,onSelectionDragStart:N}=f.getState();D.current=!0;const ee=s?ue:qr(N);(!l||!u)&&!J&&s&&((ge=H.get(s))!=null&&ge.selected||q()),s&&u&&l&&Kn({id:s,store:f,nodeRef:e});const oe=z(F);if(y.current=oe,h.current=Or(H,ce,oe,s),ee&&h.current){const[Pe,ve]=ir({nodeId:s,dragItems:h.current,nodeInternals:H});ee(F.sourceEvent,Pe,ve)}};if(t)O.on(".drag",null);else{const F=bt().on("start",H=>{const{domNode:J,nodeDragThreshold:ce}=f.getState();ce===0&&Q(H);const q=z(H);y.current=q,E.current=(J==null?void 0:J.getBoundingClientRect())||null,I.current=qt(H.sourceEvent,E.current)}).on("drag",H=>{var ue,N,ee,oe;const J=z(H),{autoPanOnNodeDrag:ce,nodeDragThreshold:q}=f.getState();if(!R.current&&D.current&&ce&&(R.current=!0,k()),!D.current){const ge=J.xSnapped-((N=(ue=y==null?void 0:y.current)==null?void 0:ue.x)!=null?N:0),Pe=J.ySnapped-((oe=(ee=y==null?void 0:y.current)==null?void 0:ee.y)!=null?oe:0);Math.sqrt(ge*ge+Pe*Pe)>q&&Q(H)}(y.current.x!==J.xSnapped||y.current.y!==J.ySnapped)&&h.current&&D.current&&(C.current=H.sourceEvent,I.current=qt(H.sourceEvent,E.current),S(J))}).on("end",H=>{if(D.current&&(p(!1),R.current=!1,D.current=!1,cancelAnimationFrame(b.current),h.current)){const{updateNodePositions:J,nodeInternals:ce,onNodeDragStop:q,onSelectionDragStop:ue}=f.getState(),N=s?q:qr(ue);if(J(h.current,!1,!1),N){const[ee,oe]=ir({nodeId:s,dragItems:h.current,nodeInternals:ce});N(H.sourceEvent,ee,oe)}}}).filter(H=>{const J=H.target;return!H.button&&(!r||!Ao(J,`.${r}`,e))&&(!i||Ao(J,i,e))});return O.call(F),()=>{O.on(".drag",null)}}}},[e,t,r,i,u,f,s,l,z]),m}function $o(){const e=Ie();return(0,a.useCallback)(r=>{const{nodeInternals:i,nodeExtent:s,updateNodePositions:u,getNodes:l,snapToGrid:f,snapGrid:m,onError:p,nodesDraggable:h}=e.getState(),y=l().filter(z=>z.selected&&(z.draggable||h&&typeof z.draggable=="undefined")),b=f?m[0]:5,E=f?m[1]:5,I=r.isShiftPressed?4:1,C=r.x*b*I,R=r.y*E*I,D=y.map(z=>{if(z.positionAbsolute){const O={x:z.positionAbsolute.x+C,y:z.positionAbsolute.y+R};f&&(O.x=m[0]*Math.round(O.x/m[0]),O.y=m[1]*Math.round(O.y/m[1]));const{positionAbsolute:S,position:k}=vn(z,O,i,s,void 0,p);z.position=k,z.positionAbsolute=S}return z});u(D,!0,!1)},[])}const sr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var _r=e=>{const t=({id:r,type:i,data:s,xPos:u,yPos:l,xPosOrigin:f,yPosOrigin:m,selected:p,onClick:h,onMouseEnter:y,onMouseMove:b,onMouseLeave:E,onContextMenu:I,onDoubleClick:C,style:R,className:D,isDraggable:z,isSelectable:O,isConnectable:S,isFocusable:k,selectNodesOnDrag:Q,sourcePosition:F,targetPosition:H,hidden:J,resizeObserver:ce,dragHandle:q,zIndex:ue,isParent:N,noDragClassName:ee,noPanClassName:oe,initialized:ge,disableKeyboardA11y:Pe,ariaLabel:ve,rfId:T})=>{const te=Ie(),re=(0,a.useRef)(null),Se=(0,a.useRef)(F),$e=(0,a.useRef)(H),Ve=(0,a.useRef)(i),rt=O||z||h||y||b||E,ut=$o(),Ht=Yn(r,te.getState,y),Rt=Yn(r,te.getState,b),zt=Yn(r,te.getState,E),Qt=Yn(r,te.getState,I),Xt=Yn(r,te.getState,C),St=gt=>{const{nodeDragThreshold:on}=te.getState();if(O&&(!Q||!z||on>0)&&Kn({id:r,store:te,nodeRef:re}),h){const fn=te.getState().nodeInternals.get(r);fn&&h(gt,_e({},fn))}},un=gt=>{if(!hn(gt))if(Yt.includes(gt.key)&&O){const on=gt.key==="Escape";Kn({id:r,store:te,unselect:on,nodeRef:re})}else!Pe&&z&&p&&Object.prototype.hasOwnProperty.call(sr,gt.key)&&(te.setState({ariaLiveMessage:`Moved selected node ${gt.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~u}, y: ${~~l}`}),ut({x:sr[gt.key].x,y:sr[gt.key].y,isShiftPressed:gt.shiftKey}))};(0,a.useEffect)(()=>{if(re.current&&!J){const gt=re.current;return ce==null||ce.observe(gt),()=>ce==null?void 0:ce.unobserve(gt)}},[J]),(0,a.useEffect)(()=>{const gt=Ve.current!==i,on=Se.current!==F,fn=$e.current!==H;re.current&&(gt||on||fn)&&(gt&&(Ve.current=i),on&&(Se.current=F),fn&&($e.current=H),te.getState().updateNodeDimensions([{id:r,nodeElement:re.current,forceUpdate:!0}]))},[r,i,F,H]);const wt=eo({nodeRef:re,disabled:J||!z,noDragClassName:ee,handleSelector:q,nodeId:r,isSelectable:O,selectNodesOnDrag:Q});return J?null:a.createElement("div",{className:(0,se.Z)(["react-flow__node",`react-flow__node-${i}`,{[oe]:z},D,{selected:p,selectable:O,parent:N,dragging:wt}]),ref:re,style:_e({zIndex:ue,transform:`translate(${f}px,${m}px)`,pointerEvents:rt?"all":"none",visibility:ge?"visible":"hidden"},R),"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:Ht,onMouseMove:Rt,onMouseLeave:zt,onContextMenu:Qt,onClick:St,onDoubleClick:Xt,onKeyDown:k?un:void 0,tabIndex:k?0:void 0,role:k?"button":void 0,"aria-describedby":Pe?void 0:`${fo}-${T}`,"aria-label":ve},a.createElement(Ot,{value:r},a.createElement(e,{id:r,data:s,type:i,xPos:u,yPos:l,selected:p,isConnectable:S,sourcePosition:F,targetPosition:H,dragging:wt,dragHandle:q,zIndex:ue})))};return t.displayName="NodeWrapper",(0,a.memo)(t)};const ii=e=>{const t=e.getNodes().filter(r=>r.selected);return Nt(_e({},w(t,e.nodeOrigin)),{transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive})};function n({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const i=Ie(),{width:s,height:u,x:l,y:f,transformString:m,userSelectionActive:p}=Ne(ii,Me.X),h=$o(),y=(0,a.useRef)(null);if((0,a.useEffect)(()=>{var I;r||(I=y.current)==null||I.focus({preventScroll:!0})},[r]),eo({nodeRef:y}),p||!s||!u)return null;const b=e?I=>{const C=i.getState().getNodes().filter(R=>R.selected);e(I,C)}:void 0,E=I=>{Object.prototype.hasOwnProperty.call(sr,I.key)&&h({x:sr[I.key].x,y:sr[I.key].y,isShiftPressed:I.shiftKey})};return a.createElement("div",{className:(0,se.Z)(["react-flow__nodesselection","react-flow__container",t]),style:{transform:m}},a.createElement("div",{ref:y,className:"react-flow__nodesselection-rect",onContextMenu:b,tabIndex:r?void 0:-1,onKeyDown:r?void 0:E,style:{width:s,height:u,top:f,left:l}}))}var o=(0,a.memo)(n);const c=e=>e.nodesSelectionActive,g=({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:i,onPaneMouseLeave:s,onPaneContextMenu:u,onPaneScroll:l,deleteKeyCode:f,onMove:m,onMoveStart:p,onMoveEnd:h,selectionKeyCode:y,selectionOnDrag:b,selectionMode:E,onSelectionStart:I,onSelectionEnd:C,multiSelectionKeyCode:R,panActivationKeyCode:D,zoomActivationKeyCode:z,elementsSelectable:O,zoomOnScroll:S,zoomOnPinch:k,panOnScroll:Q,panOnScrollSpeed:F,panOnScrollMode:H,zoomOnDoubleClick:J,panOnDrag:ce,defaultViewport:q,translateExtent:ue,minZoom:N,maxZoom:ee,preventScrolling:oe,onSelectionContextMenu:ge,noWheelClassName:Pe,noPanClassName:ve,disableKeyboardA11y:T})=>{const te=Ne(c),re=wr(y),$e=wr(D)||ce,Ve=re||b&&$e!==!0;return Go({deleteKeyCode:f,multiSelectionKeyCode:R}),a.createElement(qo,{onMove:m,onMoveStart:p,onMoveEnd:h,onPaneContextMenu:u,elementsSelectable:O,zoomOnScroll:S,zoomOnPinch:k,panOnScroll:Q,panOnScrollSpeed:F,panOnScrollMode:H,zoomOnDoubleClick:J,panOnDrag:!re&&$e,defaultViewport:q,translateExtent:ue,minZoom:N,maxZoom:ee,zoomActivationKeyCode:z,preventScrolling:oe,noWheelClassName:Pe,noPanClassName:ve},a.createElement(Co,{onSelectionStart:I,onSelectionEnd:C,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:i,onPaneMouseLeave:s,onPaneContextMenu:u,onPaneScroll:l,panOnDrag:$e,isSelecting:!!Ve,selectionMode:E},e,te&&a.createElement(o,{onSelectionContextMenu:ge,noPanClassName:ve,disableKeyboardA11y:T})))};g.displayName="FlowRenderer";var v=(0,a.memo)(g);function _(e){return Ne((0,a.useCallback)(r=>e?X(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function x(e){const t={input:_r(e.input||so),default:_r(e.default||Ur),output:_r(e.output||co),group:_r(e.group||Gr)},r={},i=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,u)=>(s[u]=_r(e[u]||Ur),s),r);return _e(_e({},t),i)}const $=({x:e,y:t,width:r,height:i,origin:s})=>!r||!i?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-r*s[0],y:t-i*s[1]},L=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Z=e=>{const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:i,elementsSelectable:s,updateNodeDimensions:u,onError:l}=Ne(L,Me.X),f=_(e.onlyRenderVisibleElements),m=(0,a.useRef)(),p=(0,a.useMemo)(()=>{if(typeof ResizeObserver=="undefined")return null;const h=new ResizeObserver(y=>{const b=y.map(E=>({id:E.target.getAttribute("data-id"),nodeElement:E.target,forceUpdate:!0}));u(b)});return m.current=h,h},[]);return(0,a.useEffect)(()=>()=>{var h;(h=m==null?void 0:m.current)==null||h.disconnect()},[]),a.createElement("div",{className:"react-flow__nodes",style:jr},f.map(h=>{var k,Q,F,H,J,ce,q;let y=h.type||"default";e.nodeTypes[y]||(l==null||l("003",G.error003(y)),y="default");const b=e.nodeTypes[y]||e.nodeTypes.default,E=!!(h.draggable||t&&typeof h.draggable=="undefined"),I=!!(h.selectable||s&&typeof h.selectable=="undefined"),C=!!(h.connectable||r&&typeof h.connectable=="undefined"),R=!!(h.focusable||i&&typeof h.focusable=="undefined"),D=e.nodeExtent?Ct(h.positionAbsolute,e.nodeExtent):h.positionAbsolute,z=(k=D==null?void 0:D.x)!=null?k:0,O=(Q=D==null?void 0:D.y)!=null?Q:0,S=$({x:z,y:O,width:(F=h.width)!=null?F:0,height:(H=h.height)!=null?H:0,origin:e.nodeOrigin});return a.createElement(b,{key:h.id,id:h.id,className:h.className,style:h.style,type:y,data:h.data,sourcePosition:h.sourcePosition||ae.Bottom,targetPosition:h.targetPosition||ae.Top,hidden:h.hidden,xPos:z,yPos:O,xPosOrigin:S.x,yPosOrigin:S.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!h.selected,isDraggable:E,isSelectable:I,isConnectable:C,isFocusable:R,resizeObserver:p,dragHandle:h.dragHandle,zIndex:(ce=(J=h[Je])==null?void 0:J.z)!=null?ce:0,isParent:!!((q=h[Je])!=null&&q.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!h.width&&!!h.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:h.ariaLabel})}))};Z.displayName="NodeRenderer";var W=(0,a.memo)(Z);const be=(e,t,r)=>r===ae.Left?e-t:r===ae.Right?e+t:e,we=(e,t,r)=>r===ae.Top?e-t:r===ae.Bottom?e+t:e,Re="react-flow__edgeupdater",kt=({position:e,centerX:t,centerY:r,radius:i=10,onMouseDown:s,onMouseEnter:u,onMouseOut:l,type:f})=>a.createElement("circle",{onMouseDown:s,onMouseEnter:u,onMouseOut:l,className:(0,se.Z)([Re,`${Re}-${f}`]),cx:be(t,i,e),cy:we(r,i,e),r:i,stroke:"transparent",fill:"transparent"}),yt=()=>!0;var Pt=e=>{const t=({id:r,className:i,type:s,data:u,onClick:l,onEdgeDoubleClick:f,selected:m,animated:p,label:h,labelStyle:y,labelShowBg:b,labelBgStyle:E,labelBgPadding:I,labelBgBorderRadius:C,style:R,source:D,target:z,sourceX:O,sourceY:S,targetX:k,targetY:Q,sourcePosition:F,targetPosition:H,elementsSelectable:J,hidden:ce,sourceHandleId:q,targetHandleId:ue,onContextMenu:N,onMouseEnter:ee,onMouseMove:oe,onMouseLeave:ge,edgeUpdaterRadius:Pe,onEdgeUpdate:ve,onEdgeUpdateStart:T,onEdgeUpdateEnd:te,markerEnd:re,markerStart:Se,rfId:$e,ariaLabel:Ve,isFocusable:rt,isUpdatable:ut,pathOptions:Ht,interactionWidth:Rt})=>{const zt=(0,a.useRef)(null),[Qt,Xt]=(0,a.useState)(!1),[St,un]=(0,a.useState)(!1),wt=Ie(),gt=(0,a.useMemo)(()=>`url(#${tr(Se,$e)})`,[Se,$e]),on=(0,a.useMemo)(()=>`url(#${tr(re,$e)})`,[re,$e]);if(ce)return null;const fn=Jt=>{var Zn;const{edges:dn,addSelectedEdges:Cr,unselectNodesAndEdges:Mr,multiSelectionActive:Ar}=wt.getState(),Qn=dn.find(ro=>ro.id===r);Qn&&(J&&(wt.setState({nodesSelectionActive:!1}),Qn.selected&&Ar?(Mr({nodes:[],edges:[Qn]}),(Zn=zt.current)==null||Zn.blur()):Cr([r])),l&&l(Jt,Qn))},ze=Sn(r,wt.getState,f),br=Sn(r,wt.getState,N),Er=Sn(r,wt.getState,ee),to=Sn(r,wt.getState,oe),Vr=Sn(r,wt.getState,ge),Sr=(Jt,dn)=>{if(Jt.button!==0)return;const{edges:Cr,isValidConnection:Mr}=wt.getState(),Ar=dn?z:D,Qn=(dn?ue:q)||null,Zn=dn?"target":"source",ro=Mr||yt,ci=dn,oo=Cr.find(Pr=>Pr.id===r);un(!0),T==null||T(Jt,oo,Zn);const li=Pr=>{un(!1),te==null||te(Pr,oo,Zn)};Wn({event:Jt,handleId:Qn,nodeId:Ar,onConnect:Pr=>ve==null?void 0:ve(oo,Pr),isTarget:ci,getState:wt.getState,setState:wt.setState,isValidConnection:ro,edgeUpdaterType:Zn,onEdgeUpdateEnd:li})},cr=Jt=>Sr(Jt,!0),Xr=Jt=>Sr(Jt,!1),lr=()=>Xt(!0),Nr=()=>Xt(!1),no=!J&&!l,Wr=Jt=>{var dn;if(Yt.includes(Jt.key)&&J){const{unselectNodesAndEdges:Cr,addSelectedEdges:Mr,edges:Ar}=wt.getState();Jt.key==="Escape"?((dn=zt.current)==null||dn.blur(),Cr({edges:[Ar.find(Zn=>Zn.id===r)]})):Mr([r])}};return a.createElement("g",{className:(0,se.Z)(["react-flow__edge",`react-flow__edge-${s}`,i,{selected:m,animated:p,inactive:no,updating:Qt}]),onClick:fn,onDoubleClick:ze,onContextMenu:br,onMouseEnter:Er,onMouseMove:to,onMouseLeave:Vr,onKeyDown:rt?Wr:void 0,tabIndex:rt?0:void 0,role:rt?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":Ve===null?void 0:Ve||`Edge from ${D} to ${z}`,"aria-describedby":rt?`${ho}-${$e}`:void 0,ref:zt},!St&&a.createElement(e,{id:r,source:D,target:z,selected:m,animated:p,label:h,labelStyle:y,labelShowBg:b,labelBgStyle:E,labelBgPadding:I,labelBgBorderRadius:C,data:u,style:R,sourceX:O,sourceY:S,targetX:k,targetY:Q,sourcePosition:F,targetPosition:H,sourceHandleId:q,targetHandleId:ue,markerStart:gt,markerEnd:on,pathOptions:Ht,interactionWidth:Rt}),ut&&a.createElement(a.Fragment,null,(ut==="source"||ut===!0)&&a.createElement(kt,{position:F,centerX:O,centerY:S,radius:Pe,onMouseDown:cr,onMouseEnter:lr,onMouseOut:Nr,type:"source"}),(ut==="target"||ut===!0)&&a.createElement(kt,{position:H,centerX:k,centerY:Q,radius:Pe,onMouseDown:Xr,onMouseEnter:lr,onMouseOut:Nr,type:"target"})))};return t.displayName="EdgeWrapper",(0,a.memo)(t)};function Be(e){const t={default:Pt(e.default||qn),straight:Pt(e.bezier||jn),step:Pt(e.step||dr),smoothstep:Pt(e.step||An),simplebezier:Pt(e.simplebezier||mn)},r={},i=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,u)=>(s[u]=Pt(e[u]||qn),s),r);return _e(_e({},t),i)}function Pn(e,t,r=null){const i=((r==null?void 0:r.x)||0)+t.x,s=((r==null?void 0:r.y)||0)+t.y,u=(r==null?void 0:r.width)||t.width,l=(r==null?void 0:r.height)||t.height;switch(e){case ae.Top:return{x:i+u/2,y:s};case ae.Right:return{x:i+u,y:s+l/2};case ae.Bottom:return{x:i+u/2,y:s+l};case ae.Left:return{x:i,y:s+l/2}}}function _n(e,t){return e?e.length===1||!t?e[0]:t&&e.find(r=>r.id===t)||null:null}const Un=(e,t,r,i,s,u)=>{const l=Pn(r,e,t),f=Pn(u,i,s);return{sourceX:l.x,sourceY:l.y,targetX:f.x,targetY:f.y}};function Ln({sourcePos:e,targetPos:t,sourceWidth:r,sourceHeight:i,targetWidth:s,targetHeight:u,width:l,height:f,transform:m}){const p={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+r,t.x+s),y2:Math.max(e.y+i,t.y+u)};p.x===p.x2&&(p.x2+=1),p.y===p.y2&&(p.y2+=1);const h=tt({x:(0-m[0])/m[2],y:(0-m[1])/m[2],width:l/m[2],height:f/m[2]}),y=Math.max(0,Math.min(h.x2,p.x2)-Math.max(h.x,p.x)),b=Math.max(0,Math.min(h.y2,p.y2)-Math.max(h.y,p.y));return Math.ceil(y*b)>0}function nn(e){var i,s,u,l,f;const t=((i=e==null?void 0:e[Je])==null?void 0:i.handleBounds)||null,r=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)!="undefined"&&typeof((u=e==null?void 0:e.positionAbsolute)==null?void 0:u.y)!="undefined";return[{x:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.x)||0,y:((f=e==null?void 0:e.positionAbsolute)==null?void 0:f.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!r]}const Br=[{level:0,isMaxLevel:!0,edges:[]}];function Gn(e,t,r=!1){let i=-1;const s=e.reduce((l,f)=>{var h,y;const m=lt(f.zIndex);let p=m?f.zIndex:0;if(r){const b=t.get(f.target),E=t.get(f.source),I=f.selected||(b==null?void 0:b.selected)||(E==null?void 0:E.selected),C=Math.max(((h=E==null?void 0:E[Je])==null?void 0:h.z)||0,((y=b==null?void 0:b[Je])==null?void 0:y.z)||0,1e3);p=(m?f.zIndex:0)+(I?C:0)}return l[p]?l[p].push(f):l[p]=[f],i=p>i?p:i,l},{}),u=Object.entries(s).map(([l,f])=>{const m=+l;return{edges:f,level:m,isMaxLevel:m===i}});return u.length===0?Br:u}function kr(e,t,r){const i=Ne((0,a.useCallback)(s=>e?s.edges.filter(u=>{const l=t.get(u.source),f=t.get(u.target);return(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&(f==null?void 0:f.width)&&(f==null?void 0:f.height)&&Ln({sourcePos:l.positionAbsolute||{x:0,y:0},targetPos:f.positionAbsolute||{x:0,y:0},sourceWidth:l.width,sourceHeight:l.height,targetWidth:f.width,targetHeight:f.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return Gn(i,t,r)}const Hr=({color:e="none",strokeWidth:t=1})=>a.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Lr=({color:e="none",strokeWidth:t=1})=>a.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),To={[pt.Arrow]:Hr,[pt.ArrowClosed]:Lr};function si(e){const t=Ie();return(0,a.useMemo)(()=>{var s,u;return Object.prototype.hasOwnProperty.call(To,e)?To[e]:((u=(s=t.getState()).onError)==null||u.call(s,"009",G.error009(e)),null)},[e])}const M=({id:e,type:t,color:r,width:i=12.5,height:s=12.5,markerUnits:u="strokeWidth",strokeWidth:l,orient:f="auto-start-reverse"})=>{const m=si(t);return m?a.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${i}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:f,refX:"0",refY:"0"},a.createElement(m,{color:r,strokeWidth:l})):null},ye=({defaultColor:e,rfId:t})=>r=>{const i=[];return r.edges.reduce((s,u)=>([u.markerStart,u.markerEnd].forEach(l=>{if(l&&typeof l=="object"){const f=tr(l,t);i.includes(f)||(s.push(_e({id:f,color:l.color||e},l)),i.push(f))}}),s),[]).sort((s,u)=>s.id.localeCompare(u.id))},V=({defaultColor:e,rfId:t})=>{const r=Ne((0,a.useCallback)(ye({defaultColor:e,rfId:t}),[e,t]),(i,s)=>!(i.length!==s.length||i.some((u,l)=>u.id!==s[l].id)));return a.createElement("defs",null,r.map(i=>a.createElement(M,{id:i.id,key:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient})))};V.displayName="MarkerDefinitions";var Ee=(0,a.memo)(V);const ke=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Ze=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:r,rfId:i,edgeTypes:s,noPanClassName:u,onEdgeUpdate:l,onEdgeContextMenu:f,onEdgeMouseEnter:m,onEdgeMouseMove:p,onEdgeMouseLeave:h,onEdgeClick:y,edgeUpdaterRadius:b,onEdgeDoubleClick:E,onEdgeUpdateStart:I,onEdgeUpdateEnd:C,children:R})=>{const{edgesFocusable:D,edgesUpdatable:z,elementsSelectable:O,width:S,height:k,connectionMode:Q,nodeInternals:F,onError:H}=Ne(ke,Me.X),J=kr(t,F,r);return S?a.createElement(a.Fragment,null,J.map(({level:ce,edges:q,isMaxLevel:ue})=>a.createElement("svg",{key:ce,style:{zIndex:ce},width:S,height:k,className:"react-flow__edges react-flow__container"},ue&&a.createElement(Ee,{defaultColor:e,rfId:i}),a.createElement("g",null,q.map(N=>{var un,wt;const[ee,oe,ge]=nn(F.get(N.source)),[Pe,ve,T]=nn(F.get(N.target));if(!ge||!T)return null;let te=N.type||"default";s[te]||(H==null||H("011",G.error011(te)),te="default");const re=s[te]||s.default,Se=Q===At.Strict?ve.target:((un=ve.target)!=null?un:[]).concat((wt=ve.source)!=null?wt:[]),$e=_n(oe.source,N.sourceHandle),Ve=_n(Se,N.targetHandle),rt=($e==null?void 0:$e.position)||ae.Bottom,ut=(Ve==null?void 0:Ve.position)||ae.Top,Ht=!!(N.focusable||D&&typeof N.focusable=="undefined"),Rt=typeof l!="undefined"&&(N.updatable||z&&typeof N.updatable=="undefined");if(!$e||!Ve)return H==null||H("008",G.error008($e,N)),null;const{sourceX:zt,sourceY:Qt,targetX:Xt,targetY:St}=Un(ee,$e,rt,Pe,Ve,ut);return a.createElement(re,{key:N.id,id:N.id,className:(0,se.Z)([N.className,u]),type:te,data:N.data,selected:!!N.selected,animated:!!N.animated,hidden:!!N.hidden,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,style:N.style,source:N.source,target:N.target,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerEnd:N.markerEnd,markerStart:N.markerStart,sourceX:zt,sourceY:Qt,targetX:Xt,targetY:St,sourcePosition:rt,targetPosition:ut,elementsSelectable:O,onEdgeUpdate:l,onContextMenu:f,onMouseEnter:m,onMouseMove:p,onMouseLeave:h,onClick:y,edgeUpdaterRadius:b,onEdgeDoubleClick:E,onEdgeUpdateStart:I,onEdgeUpdateEnd:C,rfId:i,ariaLabel:N.ariaLabel,isFocusable:Ht,isUpdatable:Rt,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth})})))),R):null};Ze.displayName="EdgeRenderer";var Ye=(0,a.memo)(Ze);const nt=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function xt({children:e}){const t=Ne(nt);return a.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function bn(e){const t=Jr(),r=(0,a.useRef)(!1);(0,a.useEffect)(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const It={[ae.Left]:ae.Right,[ae.Right]:ae.Left,[ae.Top]:ae.Bottom,[ae.Bottom]:ae.Top},rn=({nodeId:e,handleType:t,style:r,type:i=Zt.Bezier,CustomComponent:s,connectionStatus:u})=>{var Q,F,H,J,ce,q,ue;const{fromNode:l,handleId:f,toX:m,toY:p,connectionMode:h}=Ne((0,a.useCallback)(N=>({fromNode:N.nodeInternals.get(e),handleId:N.connectionHandleId,toX:(N.connectionPosition.x-N.transform[0])/N.transform[2],toY:(N.connectionPosition.y-N.transform[1])/N.transform[2],connectionMode:N.connectionMode}),[e]),Me.X),y=(Q=l==null?void 0:l[Je])==null?void 0:Q.handleBounds;let b=y==null?void 0:y[t];if(h===At.Loose&&(b=b||(y==null?void 0:y[t==="source"?"target":"source"])),!l||!b)return null;const E=f?b.find(N=>N.id===f):b[0],I=E?E.x+E.width/2:((F=l.width)!=null?F:0)/2,C=E?E.y+E.height/2:(H=l.height)!=null?H:0,R=((ce=(J=l.positionAbsolute)==null?void 0:J.x)!=null?ce:0)+I,D=((ue=(q=l.positionAbsolute)==null?void 0:q.y)!=null?ue:0)+C,z=E==null?void 0:E.position,O=z?It[z]:null;if(!z||!O)return null;if(s)return a.createElement(s,{connectionLineType:i,connectionLineStyle:r,fromNode:l,fromHandle:E,fromX:R,fromY:D,toX:m,toY:p,fromPosition:z,toPosition:O,connectionStatus:u});let S="";const k={sourceX:R,sourceY:D,sourcePosition:z,targetX:m,targetY:p,targetPosition:O};return i===Zt.Bezier?[S]=Xn(k):i===Zt.Step?[S]=Mn(Nt(_e({},k),{borderRadius:0})):i===Zt.SmoothStep?[S]=Mn(k):i===Zt.SimpleBezier?[S]=cn(k):S=`M${R},${D} ${m},${p}`,a.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:r})};rn.displayName="ConnectionLine";const $n=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function ln({containerStyle:e,style:t,type:r,component:i}){const{nodeId:s,handleType:u,nodesConnectable:l,width:f,height:m,connectionStatus:p}=Ne($n,Me.X);return!(s&&u&&f&&l)?null:a.createElement("svg",{style:e,width:f,height:m,className:"react-flow__edges react-flow__connectionline react-flow__container"},a.createElement("g",{className:(0,se.Z)(["react-flow__connection",p])},a.createElement(rn,{nodeId:s,handleType:u,style:t,type:r,CustomComponent:i,connectionStatus:p})))}function En(e,t){const r=(0,a.useRef)(null),i=Ie();return(0,a.useMemo)(()=>t(e),[e])}const Zr=({nodeTypes:e,edgeTypes:t,onMove:r,onMoveStart:i,onMoveEnd:s,onInit:u,onNodeClick:l,onEdgeClick:f,onNodeDoubleClick:m,onEdgeDoubleClick:p,onNodeMouseEnter:h,onNodeMouseMove:y,onNodeMouseLeave:b,onNodeContextMenu:E,onSelectionContextMenu:I,onSelectionStart:C,onSelectionEnd:R,connectionLineType:D,connectionLineStyle:z,connectionLineComponent:O,connectionLineContainerStyle:S,selectionKeyCode:k,selectionOnDrag:Q,selectionMode:F,multiSelectionKeyCode:H,panActivationKeyCode:J,zoomActivationKeyCode:ce,deleteKeyCode:q,onlyRenderVisibleElements:ue,elementsSelectable:N,selectNodesOnDrag:ee,defaultViewport:oe,translateExtent:ge,minZoom:Pe,maxZoom:ve,preventScrolling:T,defaultMarkerColor:te,zoomOnScroll:re,zoomOnPinch:Se,panOnScroll:$e,panOnScrollSpeed:Ve,panOnScrollMode:rt,zoomOnDoubleClick:ut,panOnDrag:Ht,onPaneClick:Rt,onPaneMouseEnter:zt,onPaneMouseMove:Qt,onPaneMouseLeave:Xt,onPaneScroll:St,onPaneContextMenu:un,onEdgeUpdate:wt,onEdgeContextMenu:gt,onEdgeMouseEnter:on,onEdgeMouseMove:fn,onEdgeMouseLeave:ze,edgeUpdaterRadius:br,onEdgeUpdateStart:Er,onEdgeUpdateEnd:to,noDragClassName:Vr,noWheelClassName:Sr,noPanClassName:cr,elevateEdgesOnSelect:Xr,disableKeyboardA11y:lr,nodeOrigin:Nr,nodeExtent:no,rfId:Wr})=>{const Jt=En(e,x),dn=En(t,Be);return bn(u),a.createElement(v,{onPaneClick:Rt,onPaneMouseEnter:zt,onPaneMouseMove:Qt,onPaneMouseLeave:Xt,onPaneContextMenu:un,onPaneScroll:St,deleteKeyCode:q,selectionKeyCode:k,selectionOnDrag:Q,selectionMode:F,onSelectionStart:C,onSelectionEnd:R,multiSelectionKeyCode:H,panActivationKeyCode:J,zoomActivationKeyCode:ce,elementsSelectable:N,onMove:r,onMoveStart:i,onMoveEnd:s,zoomOnScroll:re,zoomOnPinch:Se,zoomOnDoubleClick:ut,panOnScroll:$e,panOnScrollSpeed:Ve,panOnScrollMode:rt,panOnDrag:Ht,defaultViewport:oe,translateExtent:ge,minZoom:Pe,maxZoom:ve,onSelectionContextMenu:I,preventScrolling:T,noDragClassName:Vr,noWheelClassName:Sr,noPanClassName:cr,disableKeyboardA11y:lr},a.createElement(xt,null,a.createElement(Ye,{edgeTypes:dn,onEdgeClick:f,onEdgeDoubleClick:p,onEdgeUpdate:wt,onlyRenderVisibleElements:ue,onEdgeContextMenu:gt,onEdgeMouseEnter:on,onEdgeMouseMove:fn,onEdgeMouseLeave:ze,onEdgeUpdateStart:Er,onEdgeUpdateEnd:to,edgeUpdaterRadius:br,defaultMarkerColor:te,noPanClassName:cr,elevateEdgesOnSelect:!!Xr,disableKeyboardA11y:lr,rfId:Wr},a.createElement(ln,{style:z,type:D,component:O,containerStyle:S})),a.createElement("div",{className:"react-flow__edgelabel-renderer"}),a.createElement(W,{nodeTypes:Jt,onNodeClick:l,onNodeDoubleClick:m,onNodeMouseEnter:h,onNodeMouseMove:y,onNodeMouseLeave:b,onNodeContextMenu:E,selectNodesOnDrag:ee,onlyRenderVisibleElements:ue,noPanClassName:cr,noDragClassName:Vr,disableKeyboardA11y:lr,nodeOrigin:Nr,nodeExtent:no,rfId:Wr})))};Zr.displayName="GraphView";var Si=(0,a.memo)(Zr);const ai=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ar={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:ai,nodeExtent:ai,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:At.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Dt,isValidConnection:void 0},Ni=()=>Te((e,t)=>Nt(_e({},ar),{setNodes:r=>{const{nodeInternals:i,nodeOrigin:s,elevateNodesOnSelect:u}=t();e({nodeInternals:Qr(r,i,s,u)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:i={}}=t();e({edges:r.map(s=>_e(_e({},i),s))})},setDefaultNodesAndEdges:(r,i)=>{const s=typeof r!="undefined",u=typeof i!="undefined",l=s?Qr(r,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:l,edges:u?i:[],hasDefaultNodes:s,hasDefaultEdges:u})},updateNodeDimensions:r=>{const{onNodesChange:i,nodeInternals:s,fitViewOnInit:u,fitViewOnInitDone:l,fitViewOnInitOptions:f,domNode:m,nodeOrigin:p}=t(),h=m==null?void 0:m.querySelector(".react-flow__viewport");if(!h)return;const y=window.getComputedStyle(h),{m22:b}=new window.DOMMatrixReadOnly(y.transform),E=r.reduce((C,R)=>{const D=s.get(R.id);if(D){const z=mt(R.nodeElement);!!(z.width&&z.height&&(D.width!==z.width||D.height!==z.height||R.forceUpdate))&&(s.set(D.id,_e(Nt(_e({},D),{[Je]:Nt(_e({},D[Je]),{handleBounds:{source:Po(".source",R.nodeElement,b,p),target:Po(".target",R.nodeElement,b,p)}})}),z)),C.push({id:D.id,type:"dimensions",dimensions:z}))}return C},[]);yo(s,p);const I=l||u&&!l&&xo(t,_e({initial:!0},f));e({nodeInternals:new Map(s),fitViewOnInitDone:I}),(E==null?void 0:E.length)>0&&(i==null||i(E))},updateNodePositions:(r,i=!0,s=!1)=>{const{triggerNodeChanges:u}=t(),l=r.map(f=>{const m={id:f.id,type:"position",dragging:s};return i&&(m.positionAbsolute=f.positionAbsolute,m.position=f.position),m});u(l)},triggerNodeChanges:r=>{const{onNodesChange:i,nodeInternals:s,hasDefaultNodes:u,nodeOrigin:l,getNodes:f,elevateNodesOnSelect:m}=t();if(r!=null&&r.length){if(u){const p=Eo(r,f()),h=Qr(p,s,l,m);e({nodeInternals:h})}i==null||i(r)}},addSelectedNodes:r=>{const{multiSelectionActive:i,edges:s,getNodes:u}=t();let l,f=null;i?l=r.map(m=>Bt(m,!0)):(l=vr(u(),r),f=vr(s,[])),Rr({changedNodes:l,changedEdges:f,get:t,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:i,edges:s,getNodes:u}=t();let l,f=null;i?l=r.map(m=>Bt(m,!0)):(l=vr(s,r),f=vr(u(),[])),Rr({changedNodes:f,changedEdges:l,get:t,set:e})},unselectNodesAndEdges:({nodes:r,edges:i}={})=>{const{edges:s,getNodes:u}=t(),l=r||u(),f=i||s,m=l.map(h=>(h.selected=!1,Bt(h.id,!1))),p=f.map(h=>Bt(h.id,!1));Rr({changedNodes:m,changedEdges:p,get:t,set:e})},setMinZoom:r=>{const{d3Zoom:i,maxZoom:s}=t();i==null||i.scaleExtent([r,s]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:i,minZoom:s}=t();i==null||i.scaleExtent([s,r]),e({maxZoom:r})},setTranslateExtent:r=>{var i;(i=t().d3Zoom)==null||i.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:i}=t(),u=i().filter(f=>f.selected).map(f=>Bt(f.id,!1)),l=r.filter(f=>f.selected).map(f=>Bt(f.id,!1));Rr({changedNodes:u,changedEdges:l,get:t,set:e})},setNodeExtent:r=>{const{nodeInternals:i}=t();i.forEach(s=>{s.positionAbsolute=Ct(s.position,r)}),e({nodeExtent:r,nodeInternals:new Map(i)})},panBy:r=>{const{transform:i,width:s,height:u,d3Zoom:l,d3Selection:f,translateExtent:m}=t();if(!l||!f||!r.x&&!r.y)return!1;const p=We.CR.translate(i[0]+r.x,i[1]+r.y).scale(i[2]),h=[[0,0],[s,u]],y=l==null?void 0:l.constrain()(p,h,m);return l.transform(f,y),i[0]!==y.x||i[1]!==y.y||i[2]!==y.k},cancelConnection:()=>e({connectionNodeId:ar.connectionNodeId,connectionHandleId:ar.connectionHandleId,connectionHandleType:ar.connectionHandleType,connectionStatus:ar.connectionStatus,connectionStartHandle:ar.connectionStartHandle,connectionEndHandle:ar.connectionEndHandle}),reset:()=>e(_e({},ar))}),Object.is),di=({children:e})=>{const t=(0,a.useRef)(null);return t.current||(t.current=Ni()),a.createElement(He,{value:t.current},e)};di.displayName="ReactFlowProvider";const hi=({children:e})=>(0,a.useContext)(Y)?a.createElement(a.Fragment,null,e):a.createElement(di,null,e);hi.displayName="ReactFlowWrapper";const Ci={input:so,default:Ur,output:co,group:Gr},Mi={default:qn,straight:jn,step:dr,smoothstep:An,simplebezier:mn},Ai=[0,0],Pi=[15,15],$i={x:0,y:0,zoom:1},Ti={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},gi=(0,a.forwardRef)((Ms,ps)=>{var vi=Ms,{nodes:e,edges:t,defaultNodes:r,defaultEdges:i,className:s,nodeTypes:u=Ci,edgeTypes:l=Mi,onNodeClick:f,onEdgeClick:m,onInit:p,onMove:h,onMoveStart:y,onMoveEnd:b,onConnect:E,onConnectStart:I,onConnectEnd:C,onClickConnectStart:R,onClickConnectEnd:D,onNodeMouseEnter:z,onNodeMouseMove:O,onNodeMouseLeave:S,onNodeContextMenu:k,onNodeDoubleClick:Q,onNodeDragStart:F,onNodeDrag:H,onNodeDragStop:J,onNodesDelete:ce,onEdgesDelete:q,onSelectionChange:ue,onSelectionDragStart:N,onSelectionDrag:ee,onSelectionDragStop:oe,onSelectionContextMenu:ge,onSelectionStart:Pe,onSelectionEnd:ve,connectionMode:T=At.Strict,connectionLineType:te=Zt.Bezier,connectionLineStyle:re,connectionLineComponent:Se,connectionLineContainerStyle:$e,deleteKeyCode:Ve="Backspace",selectionKeyCode:rt="Shift",selectionOnDrag:ut=!1,selectionMode:Ht=Lt.Full,panActivationKeyCode:Rt="Space",multiSelectionKeyCode:zt=gn()?"Meta":"Control",zoomActivationKeyCode:Qt=gn()?"Meta":"Control",snapToGrid:Xt=!1,snapGrid:St=Pi,onlyRenderVisibleElements:un=!1,selectNodesOnDrag:wt=!0,nodesDraggable:gt,nodesConnectable:on,nodesFocusable:fn,nodeOrigin:ze=Ai,edgesFocusable:br,edgesUpdatable:Er,elementsSelectable:to,defaultViewport:Vr=$i,minZoom:Sr=.5,maxZoom:cr=2,translateExtent:Xr=ai,preventScrolling:lr=!0,nodeExtent:Nr,defaultMarkerColor:no="#b1b1b7",zoomOnScroll:Wr=!0,zoomOnPinch:Jt=!0,panOnScroll:dn=!1,panOnScrollSpeed:Cr=.5,panOnScrollMode:Mr=_t.Free,zoomOnDoubleClick:Ar=!0,panOnDrag:Qn=!0,onPaneClick:Zn,onPaneMouseEnter:ro,onPaneMouseMove:ci,onPaneMouseLeave:oo,onPaneScroll:li,onPaneContextMenu:pi,children:Pr,onEdgeUpdate:Zi,onEdgeContextMenu:Vi,onEdgeDoubleClick:Xi,onEdgeMouseEnter:Wi,onEdgeMouseMove:Fi,onEdgeMouseLeave:Yi,onEdgeUpdateStart:Ki,onEdgeUpdateEnd:Ui,edgeUpdaterRadius:Gi=10,onNodesChange:Qi,onEdgesChange:Ji,noDragClassName:ji="nodrag",noWheelClassName:qi="nowheel",noPanClassName:yi="nopan",fitView:es=!1,fitViewOptions:ts,connectOnClick:ns=!0,attributionPosition:rs,proOptions:os,defaultEdgeOptions:is,elevateNodesOnSelect:ss=!0,elevateEdgesOnSelect:as=!1,disableKeyboardA11y:xi=!1,autoPanOnConnect:cs=!0,autoPanOnNodeDrag:ls=!0,connectionRadius:us=20,isValidConnection:fs,onError:ds,style:hs,id:wi,nodeDragThreshold:gs}=vi,ms=$r(vi,["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesUpdatable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold"]);const ui=wi||"1";return a.createElement("div",Nt(_e({},ms),{style:_e(_e({},hs),Ti),ref:ps,className:(0,se.Z)(["react-flow",s]),"data-testid":"rf__wrapper",id:wi}),a.createElement(hi,null,a.createElement(Si,{onInit:p,onMove:h,onMoveStart:y,onMoveEnd:b,onNodeClick:f,onEdgeClick:m,onNodeMouseEnter:z,onNodeMouseMove:O,onNodeMouseLeave:S,onNodeContextMenu:k,onNodeDoubleClick:Q,nodeTypes:u,edgeTypes:l,connectionLineType:te,connectionLineStyle:re,connectionLineComponent:Se,connectionLineContainerStyle:$e,selectionKeyCode:rt,selectionOnDrag:ut,selectionMode:Ht,deleteKeyCode:Ve,multiSelectionKeyCode:zt,panActivationKeyCode:Rt,zoomActivationKeyCode:Qt,onlyRenderVisibleElements:un,selectNodesOnDrag:wt,defaultViewport:Vr,translateExtent:Xr,minZoom:Sr,maxZoom:cr,preventScrolling:lr,zoomOnScroll:Wr,zoomOnPinch:Jt,zoomOnDoubleClick:Ar,panOnScroll:dn,panOnScrollSpeed:Cr,panOnScrollMode:Mr,panOnDrag:Qn,onPaneClick:Zn,onPaneMouseEnter:ro,onPaneMouseMove:ci,onPaneMouseLeave:oo,onPaneScroll:li,onPaneContextMenu:pi,onSelectionContextMenu:ge,onSelectionStart:Pe,onSelectionEnd:ve,onEdgeUpdate:Zi,onEdgeContextMenu:Vi,onEdgeDoubleClick:Xi,onEdgeMouseEnter:Wi,onEdgeMouseMove:Fi,onEdgeMouseLeave:Yi,onEdgeUpdateStart:Ki,onEdgeUpdateEnd:Ui,edgeUpdaterRadius:Gi,defaultMarkerColor:no,noDragClassName:ji,noWheelClassName:qi,noPanClassName:yi,elevateEdgesOnSelect:as,rfId:ui,disableKeyboardA11y:xi,nodeOrigin:ze,nodeExtent:Nr}),a.createElement(ko,{nodes:e,edges:t,defaultNodes:r,defaultEdges:i,onConnect:E,onConnectStart:I,onConnectEnd:C,onClickConnectStart:R,onClickConnectEnd:D,nodesDraggable:gt,nodesConnectable:on,nodesFocusable:fn,edgesFocusable:br,edgesUpdatable:Er,elementsSelectable:to,elevateNodesOnSelect:ss,minZoom:Sr,maxZoom:cr,nodeExtent:Nr,onNodesChange:Qi,onEdgesChange:Ji,snapToGrid:Xt,snapGrid:St,connectionMode:T,translateExtent:Xr,connectOnClick:ns,defaultEdgeOptions:is,fitView:es,fitViewOptions:ts,onNodesDelete:ce,onEdgesDelete:q,onNodeDragStart:F,onNodeDrag:H,onNodeDragStop:J,onSelectionDrag:ee,onSelectionDragStart:N,onSelectionDragStop:oe,noPanClassName:yi,nodeOrigin:ze,rfId:ui,autoPanOnConnect:cs,autoPanOnNodeDrag:ls,onError:ds,connectionRadius:us,isValidConnection:fs,nodeDragThreshold:gs}),a.createElement(Oo,{onSelectionChange:ue}),Pr,a.createElement(je,{proOptions:os,position:rs}),a.createElement(Xo,{rfId:ui,disableKeyboardA11y:xi})))});gi.displayName="ReactFlow";const Di=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function Ii({children:e}){const t=Ne(Di);return t?(0,A.createPortal)(e,t):null}function vs(){const e=Ie();return useCallback(t=>{const{domNode:r,updateNodeDimensions:i}=e.getState(),u=(Array.isArray(t)?t:[t]).reduce((l,f)=>{const m=r==null?void 0:r.querySelector(`.react-flow__node[data-id="${f}"]`);return m&&l.push({id:f,nodeElement:m,forceUpdate:!0}),l},[]);requestAnimationFrame(()=>i(u))},[])}const Ri=e=>e.getNodes();function _s(){return Ne(Ri,shallow)}const zi=e=>e.edges;function bs(){return Ne(zi,shallow)}const Oi=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2]});function Es(){return Ne(Oi,shallow)}function mi(e){return t=>{const[r,i]=(0,a.useState)(t),s=(0,a.useCallback)(u=>i(l=>e(u,l)),[]);return[r,i,s]}}const Bi=mi(Eo),ki=mi(So);function Ss({onStart:e,onChange:t,onEnd:r}){const i=Ie();useEffect(()=>{i.setState({onViewportChangeStart:e})},[e]),useEffect(()=>{i.setState({onViewportChange:t})},[t]),useEffect(()=>{i.setState({onViewportChangeEnd:r})},[r])}function Ns({onChange:e}){const t=Ie();useEffect(()=>{t.setState({onSelectionChange:e})},[e])}const Hi=e=>t=>t.nodeInternals.size===0?!1:t.getNodes().filter(r=>e.includeHiddenNodes?!0:!r.hidden).every(r=>{var i;return((i=r[Je])==null?void 0:i.handleBounds)!==void 0}),Li={includeHiddenNodes:!1};function Cs(e=Li){return Ne(Hi(e))}},92262:function(Xe,pe,P){P.d(pe,{a:function(){return Tt}});var a=P(52983),se=P(61768),U=P(50770),ie=P(58747),xe=P(72905),fe=P(30271),ne=P(92841);const le=({id:De,x:et,y:at,width:bt,height:A,style:Y,color:He,strokeColor:G,strokeWidth:Ae,className:Ne,borderRadius:Ie,shapeRendering:st,onClick:ct,selected:je})=>{const{background:vt,backgroundColor:Ue}=Y||{},mt=He||vt||Ue;return a.createElement("rect",{className:(0,se.Z)(["react-flow__minimap-node",{selected:je},Ne]),x:et,y:at,rx:Ie,ry:Ie,width:bt,height:A,fill:mt,stroke:G,strokeWidth:Ae,shapeRendering:st,onClick:ct?ot=>ct(ot,De):void 0})};le.displayName="MiniMapNode";var de=(0,a.memo)(le);const Te=De=>De.nodeOrigin,Me=De=>De.getNodes().filter(et=>!et.hidden&&et.width&&et.height),We=De=>De instanceof Function?De:()=>De;function Ke({nodeStrokeColor:De="transparent",nodeColor:et="#e2e2e2",nodeClassName:at="",nodeBorderRadius:bt=5,nodeStrokeWidth:A=2,nodeComponent:Y=de,onClick:He}){const G=(0,ne.oR)(Me,U.X),Ae=(0,ne.oR)(Te),Ne=We(et),Ie=We(De),st=We(at),ct=typeof window=="undefined"||window.chrome?"crispEdges":"geometricPrecision";return a.createElement(a.Fragment,null,G.map(je=>{const{x:vt,y:Ue}=(0,ne.VP)(je,Ae).positionAbsolute;return a.createElement(Y,{key:je.id,x:vt,y:Ue,width:je.width,height:je.height,style:je.style,selected:je.selected,className:st(je),color:Ne(je),borderRadius:bt,strokeColor:Ie(je),strokeWidth:A,shapeRendering:ct,onClick:He,id:je.id})}))}var Fe=(0,a.memo)(Ke);const ft=200,$t=150,it=De=>{const et=De.getNodes(),at={x:-De.transform[0]/De.transform[2],y:-De.transform[1]/De.transform[2],width:De.width/De.transform[2],height:De.height/De.transform[2]};return{viewBB:at,boundingRect:et.length>0?(0,ne.oI)((0,ne.YH)(et,De.nodeOrigin),at):at,rfId:De.rfId}},qe="react-flow__minimap-desc";function dt({style:De,className:et,nodeStrokeColor:at="transparent",nodeColor:bt="#e2e2e2",nodeClassName:A="",nodeBorderRadius:Y=5,nodeStrokeWidth:He=2,nodeComponent:G,maskColor:Ae="rgb(240, 240, 240, 0.6)",maskStrokeColor:Ne="none",maskStrokeWidth:Ie=1,position:st="bottom-right",onClick:ct,onNodeClick:je,pannable:vt=!1,zoomable:Ue=!1,ariaLabel:mt="React Flow mini map",inversePan:ot=!1,zoomStep:Ct=10,offsetScale:sn=5}){var Nn,Cn;const Wt=(0,ne.AC)(),jt=(0,a.useRef)(null),{boundingRect:ht,viewBB:tt,rfId:Tn}=(0,ne.oR)(it,U.X),Ge=(Nn=De==null?void 0:De.width)!=null?Nn:ft,Ft=(Cn=De==null?void 0:De.height)!=null?Cn:$t,Mt=ht.width/Ge,Dn=ht.height/Ft,lt=Math.max(Mt,Dn),Je=lt*Ge,Yt=lt*Ft,Dt=sn*lt,Vn=ht.x-(Je-ht.width)/2-Dt,hn=ht.y-(Yt-ht.height)/2-Dt,In=Je+Dt*2,qt=Yt+Dt*2,gn=`${qe}-${Tn}`,an=(0,a.useRef)(0);an.current=lt,(0,a.useEffect)(()=>{if(jt.current){const At=(0,xe.Z)(jt.current),_t=pt=>{const{transform:ae,d3Selection:Et,d3Zoom:cn}=Wt.getState();if(pt.sourceEvent.type!=="wheel"||!Et||!cn)return;const mn=-pt.sourceEvent.deltaY*(pt.sourceEvent.deltaMode===1?.05:pt.sourceEvent.deltaMode?1:.002)*Ct,Rn=ae[2]*Math.pow(2,mn);cn.scaleTo(Et,Rn)},Lt=pt=>{const{transform:ae,d3Selection:Et,d3Zoom:cn,translateExtent:mn,width:Rn,height:ur}=Wt.getState();if(pt.sourceEvent.type!=="mousemove"||!Et||!cn)return;const zn=an.current*Math.max(1,ae[2])*(ot?-1:1),Jn={x:ae[0]-pt.sourceEvent.movementX*zn,y:ae[1]-pt.sourceEvent.movementY*zn},fr=[[0,0],[Rn,ur]],Mn=ie.CR.translate(Jn.x,Jn.y).scale(ae[2]),An=cn.constrain()(Mn,fr,mn);cn.transform(Et,An)},Zt=(0,ie.sP)().on("zoom",vt?Lt:null).on("zoom.wheel",Ue?_t:null);return At.call(Zt),()=>{At.on("zoom",null)}}},[vt,Ue,ot,Ct]);const Tr=ct?At=>{const _t=(0,fe.Z)(At);ct(At,{x:_t[0],y:_t[1]})}:void 0,Sn=je?(At,_t)=>{const Lt=Wt.getState().nodeInternals.get(_t);je(At,Lt)}:void 0;return a.createElement(ne.s_,{position:st,style:De,className:(0,se.Z)(["react-flow__minimap",et]),"data-testid":"rf__minimap"},a.createElement("svg",{width:Ge,height:Ft,viewBox:`${Vn} ${hn} ${In} ${qt}`,role:"img","aria-labelledby":gn,ref:jt,onClick:Tr},mt&&a.createElement("title",{id:gn},mt),a.createElement(Fe,{onClick:Sn,nodeColor:bt,nodeStrokeColor:at,nodeBorderRadius:Y,nodeClassName:A,nodeStrokeWidth:He,nodeComponent:G}),a.createElement("path",{className:"react-flow__minimap-mask",d:`M${Vn-Dt},${hn-Dt}h${In+Dt*2}v${qt+Dt*2}h${-In-Dt*2}z
        M${tt.x},${tt.y}h${tt.width}v${tt.height}h${-tt.width}z`,fill:Ae,fillRule:"evenodd",stroke:Ne,strokeWidth:Ie,pointerEvents:"none"})))}dt.displayName="MiniMap";var Tt=(0,a.memo)(dt)},61768:function(Xe,pe,P){P.d(pe,{Z:function(){return a}});function a(se){if(typeof se=="string"||typeof se=="number")return""+se;let U="";if(Array.isArray(se))for(let ie=0,xe;ie<se.length;ie++)(xe=a(se[ie]))!==""&&(U+=(U&&" ")+xe);else for(let ie in se)se[ie]&&(U+=(U&&" ")+ie);return U}},21617:function(Xe,pe,P){P.d(pe,{D:function(){return ie},Z:function(){return U}});var a=P(72905),se=P(87317);function U(xe){var fe=xe.document.documentElement,ne=(0,a.Z)(xe).on("dragstart.drag",se.ZP,se.Dd);"onselectstart"in fe?ne.on("selectstart.drag",se.ZP,se.Dd):(fe.__noselect=fe.style.MozUserSelect,fe.style.MozUserSelect="none")}function ie(xe,fe){var ne=xe.document.documentElement,le=(0,a.Z)(xe).on("dragstart.drag",null);fe&&(le.on("click.drag",se.ZP,se.Dd),setTimeout(function(){le.on("click.drag",null)},0)),"onselectstart"in ne?le.on("selectstart.drag",null):(ne.style.MozUserSelect=ne.__noselect,delete ne.__noselect)}},87317:function(Xe,pe,P){P.d(pe,{Dd:function(){return se},Q7:function(){return a},ZP:function(){return ie},rG:function(){return U}});const a={passive:!1},se={capture:!0,passive:!1};function U(xe){xe.stopImmediatePropagation()}function ie(xe){xe.preventDefault(),xe.stopImmediatePropagation()}},93753:function(Xe,pe,P){P.d(pe,{P:function(){return se},Z:function(){return a}});function a(U){return function(){return this.matches(U)}}function se(U){return function(ie){return ie.matches(U)}}},99573:function(Xe,pe,P){P.d(pe,{Z:function(){return se}});var a=P(41977);function se(U){var ie=U+="",xe=ie.indexOf(":");return xe>=0&&(ie=U.slice(0,xe))!=="xmlns"&&(U=U.slice(xe+1)),a.Z.hasOwnProperty(ie)?{space:a.Z[ie],local:U}:U}},41977:function(Xe,pe,P){P.d(pe,{P:function(){return a}});var a="http://www.w3.org/1999/xhtml";pe.Z={svg:"http://www.w3.org/2000/svg",xhtml:a,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},30271:function(Xe,pe,P){P.d(pe,{Z:function(){return se}});function a(U){let ie;for(;ie=U.sourceEvent;)U=ie;return U}function se(U,ie){if(U=a(U),ie===void 0&&(ie=U.currentTarget),ie){var xe=ie.ownerSVGElement||ie;if(xe.createSVGPoint){var fe=xe.createSVGPoint();return fe.x=U.clientX,fe.y=U.clientY,fe=fe.matrixTransform(ie.getScreenCTM().inverse()),[fe.x,fe.y]}if(ie.getBoundingClientRect){var ne=ie.getBoundingClientRect();return[U.clientX-ne.left-ie.clientLeft,U.clientY-ne.top-ie.clientTop]}}return[U.pageX,U.pageY]}},72905:function(Xe,pe,P){P.d(pe,{Z:function(){return se}});var a=P(65004);function se(U){return typeof U=="string"?new a.Y1([[document.querySelector(U)]],[document.documentElement]):new a.Y1([[U]],a.Jz)}},65004:function(Xe,pe,P){P.d(pe,{Y1:function(){return Kt},ZP:function(){return nr},Jz:function(){return mr}});var a=P(9588);function se(d){typeof d!="function"&&(d=(0,a.Z)(d));for(var w=this._groups,X=w.length,K=new Array(X),B=0;B<X;++B)for(var j=w[B],he=j.length,me=K[B]=new Array(he),Ce,Oe,Qe=0;Qe<he;++Qe)(Ce=j[Qe])&&(Oe=d.call(Ce,Ce.__data__,Qe,j))&&("__data__"in Ce&&(Oe.__data__=Ce.__data__),me[Qe]=Oe);return new Kt(K,this._parents)}function U(d){return d==null?[]:Array.isArray(d)?d:Array.from(d)}var ie=P(86513);function xe(d){return function(){return U(d.apply(this,arguments))}}function fe(d){typeof d=="function"?d=xe(d):d=(0,ie.Z)(d);for(var w=this._groups,X=w.length,K=[],B=[],j=0;j<X;++j)for(var he=w[j],me=he.length,Ce,Oe=0;Oe<me;++Oe)(Ce=he[Oe])&&(K.push(d.call(Ce,Ce.__data__,Oe,he)),B.push(Ce));return new Kt(K,B)}var ne=P(93753),le=Array.prototype.find;function de(d){return function(){return le.call(this.children,d)}}function Te(){return this.firstElementChild}function Me(d){return this.select(d==null?Te:de(typeof d=="function"?d:(0,ne.P)(d)))}var We=Array.prototype.filter;function Ke(){return Array.from(this.children)}function Fe(d){return function(){return We.call(this.children,d)}}function ft(d){return this.selectAll(d==null?Ke:Fe(typeof d=="function"?d:(0,ne.P)(d)))}function $t(d){typeof d!="function"&&(d=(0,ne.Z)(d));for(var w=this._groups,X=w.length,K=new Array(X),B=0;B<X;++B)for(var j=w[B],he=j.length,me=K[B]=[],Ce,Oe=0;Oe<he;++Oe)(Ce=j[Oe])&&d.call(Ce,Ce.__data__,Oe,j)&&me.push(Ce);return new Kt(K,this._parents)}function it(d){return new Array(d.length)}function qe(){return new Kt(this._enter||this._groups.map(it),this._parents)}function dt(d,w){this.ownerDocument=d.ownerDocument,this.namespaceURI=d.namespaceURI,this._next=null,this._parent=d,this.__data__=w}dt.prototype={constructor:dt,appendChild:function(d){return this._parent.insertBefore(d,this._next)},insertBefore:function(d,w){return this._parent.insertBefore(d,w)},querySelector:function(d){return this._parent.querySelector(d)},querySelectorAll:function(d){return this._parent.querySelectorAll(d)}};function Tt(d){return function(){return d}}function De(d,w,X,K,B,j){for(var he=0,me,Ce=w.length,Oe=j.length;he<Oe;++he)(me=w[he])?(me.__data__=j[he],K[he]=me):X[he]=new dt(d,j[he]);for(;he<Ce;++he)(me=w[he])&&(B[he]=me)}function et(d,w,X,K,B,j,he){var me,Ce,Oe=new Map,Qe=w.length,Ut=j.length,tn=new Array(Qe),Vt;for(me=0;me<Qe;++me)(Ce=w[me])&&(tn[me]=Vt=he.call(Ce,Ce.__data__,me,w)+"",Oe.has(Vt)?B[me]=Ce:Oe.set(Vt,Ce));for(me=0;me<Ut;++me)Vt=he.call(d,j[me],me,j)+"",(Ce=Oe.get(Vt))?(K[me]=Ce,Ce.__data__=j[me],Oe.delete(Vt)):X[me]=new dt(d,j[me]);for(me=0;me<Qe;++me)(Ce=w[me])&&Oe.get(tn[me])===Ce&&(B[me]=Ce)}function at(d){return d.__data__}function bt(d,w){if(!arguments.length)return Array.from(this,at);var X=w?et:De,K=this._parents,B=this._groups;typeof d!="function"&&(d=Tt(d));for(var j=B.length,he=new Array(j),me=new Array(j),Ce=new Array(j),Oe=0;Oe<j;++Oe){var Qe=K[Oe],Ut=B[Oe],tn=Ut.length,Vt=A(d.call(Qe,Qe&&Qe.__data__,Oe,K)),Gt=Vt.length,Wn=me[Oe]=new Array(Gt),yr=he[Oe]=new Array(Gt),Kr=Ce[Oe]=new Array(tn);X(Qe,Ut,Wn,yr,Kr,Vt,w);for(var Fn=0,kn=0,Hn,xr;Fn<Gt;++Fn)if(Hn=Wn[Fn]){for(Fn>=kn&&(kn=Fn+1);!(xr=yr[kn])&&++kn<Gt;);Hn._next=xr||null}}return he=new Kt(he,K),he._enter=me,he._exit=Ce,he}function A(d){return typeof d=="object"&&"length"in d?d:Array.from(d)}function Y(){return new Kt(this._exit||this._groups.map(it),this._parents)}function He(d,w,X){var K=this.enter(),B=this,j=this.exit();return typeof d=="function"?(K=d(K),K&&(K=K.selection())):K=K.append(d+""),w!=null&&(B=w(B),B&&(B=B.selection())),X==null?j.remove():X(j),K&&B?K.merge(B).order():B}function G(d){for(var w=d.selection?d.selection():d,X=this._groups,K=w._groups,B=X.length,j=K.length,he=Math.min(B,j),me=new Array(B),Ce=0;Ce<he;++Ce)for(var Oe=X[Ce],Qe=K[Ce],Ut=Oe.length,tn=me[Ce]=new Array(Ut),Vt,Gt=0;Gt<Ut;++Gt)(Vt=Oe[Gt]||Qe[Gt])&&(tn[Gt]=Vt);for(;Ce<B;++Ce)me[Ce]=X[Ce];return new Kt(me,this._parents)}function Ae(){for(var d=this._groups,w=-1,X=d.length;++w<X;)for(var K=d[w],B=K.length-1,j=K[B],he;--B>=0;)(he=K[B])&&(j&&he.compareDocumentPosition(j)^4&&j.parentNode.insertBefore(he,j),j=he);return this}function Ne(d){d||(d=Ie);function w(Ut,tn){return Ut&&tn?d(Ut.__data__,tn.__data__):!Ut-!tn}for(var X=this._groups,K=X.length,B=new Array(K),j=0;j<K;++j){for(var he=X[j],me=he.length,Ce=B[j]=new Array(me),Oe,Qe=0;Qe<me;++Qe)(Oe=he[Qe])&&(Ce[Qe]=Oe);Ce.sort(w)}return new Kt(B,this._parents).order()}function Ie(d,w){return d<w?-1:d>w?1:d>=w?0:NaN}function st(){var d=arguments[0];return arguments[0]=this,d.apply(null,arguments),this}function ct(){return Array.from(this)}function je(){for(var d=this._groups,w=0,X=d.length;w<X;++w)for(var K=d[w],B=0,j=K.length;B<j;++B){var he=K[B];if(he)return he}return null}function vt(){let d=0;for(const w of this)++d;return d}function Ue(){return!this.node()}function mt(d){for(var w=this._groups,X=0,K=w.length;X<K;++X)for(var B=w[X],j=0,he=B.length,me;j<he;++j)(me=B[j])&&d.call(me,me.__data__,j,B);return this}var ot=P(99573);function Ct(d){return function(){this.removeAttribute(d)}}function sn(d){return function(){this.removeAttributeNS(d.space,d.local)}}function Wt(d,w){return function(){this.setAttribute(d,w)}}function jt(d,w){return function(){this.setAttributeNS(d.space,d.local,w)}}function ht(d,w){return function(){var X=w.apply(this,arguments);X==null?this.removeAttribute(d):this.setAttribute(d,X)}}function tt(d,w){return function(){var X=w.apply(this,arguments);X==null?this.removeAttributeNS(d.space,d.local):this.setAttributeNS(d.space,d.local,X)}}function Tn(d,w){var X=(0,ot.Z)(d);if(arguments.length<2){var K=this.node();return X.local?K.getAttributeNS(X.space,X.local):K.getAttribute(X)}return this.each((w==null?X.local?sn:Ct:typeof w=="function"?X.local?tt:ht:X.local?jt:Wt)(X,w))}var Ge=P(79210);function Ft(d){return function(){delete this[d]}}function Mt(d,w){return function(){this[d]=w}}function Dn(d,w){return function(){var X=w.apply(this,arguments);X==null?delete this[d]:this[d]=X}}function lt(d,w){return arguments.length>1?this.each((w==null?Ft:typeof w=="function"?Dn:Mt)(d,w)):this.node()[d]}function Je(d){return d.trim().split(/^|\s+/)}function Yt(d){return d.classList||new Dt(d)}function Dt(d){this._node=d,this._names=Je(d.getAttribute("class")||"")}Dt.prototype={add:function(d){var w=this._names.indexOf(d);w<0&&(this._names.push(d),this._node.setAttribute("class",this._names.join(" ")))},remove:function(d){var w=this._names.indexOf(d);w>=0&&(this._names.splice(w,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(d){return this._names.indexOf(d)>=0}};function Vn(d,w){for(var X=Yt(d),K=-1,B=w.length;++K<B;)X.add(w[K])}function hn(d,w){for(var X=Yt(d),K=-1,B=w.length;++K<B;)X.remove(w[K])}function In(d){return function(){Vn(this,d)}}function qt(d){return function(){hn(this,d)}}function gn(d,w){return function(){(w.apply(this,arguments)?Vn:hn)(this,d)}}function an(d,w){var X=Je(d+"");if(arguments.length<2){for(var K=Yt(this.node()),B=-1,j=X.length;++B<j;)if(!K.contains(X[B]))return!1;return!0}return this.each((typeof w=="function"?gn:w?In:qt)(X,w))}function Tr(){this.textContent=""}function Sn(d){return function(){this.textContent=d}}function Nn(d){return function(){var w=d.apply(this,arguments);this.textContent=w==null?"":w}}function Cn(d){return arguments.length?this.each(d==null?Tr:(typeof d=="function"?Nn:Sn)(d)):this.node().textContent}function At(){this.innerHTML=""}function _t(d){return function(){this.innerHTML=d}}function Lt(d){return function(){var w=d.apply(this,arguments);this.innerHTML=w==null?"":w}}function Zt(d){return arguments.length?this.each(d==null?At:(typeof d=="function"?Lt:_t)(d)):this.node().innerHTML}function pt(){this.nextSibling&&this.parentNode.appendChild(this)}function ae(){return this.each(pt)}function Et(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cn(){return this.each(Et)}var mn=P(41977);function Rn(d){return function(){var w=this.ownerDocument,X=this.namespaceURI;return X===mn.P&&w.documentElement.namespaceURI===mn.P?w.createElement(d):w.createElementNS(X,d)}}function ur(d){return function(){return this.ownerDocument.createElementNS(d.space,d.local)}}function zn(d){var w=(0,ot.Z)(d);return(w.local?ur:Rn)(w)}function Jn(d){var w=typeof d=="function"?d:zn(d);return this.select(function(){return this.appendChild(w.apply(this,arguments))})}function fr(){return null}function Mn(d,w){var X=typeof d=="function"?d:zn(d),K=w==null?fr:typeof w=="function"?w:(0,a.Z)(w);return this.select(function(){return this.insertBefore(X.apply(this,arguments),K.apply(this,arguments)||null)})}function An(){var d=this.parentNode;d&&d.removeChild(this)}function dr(){return this.each(An)}function Fr(){var d=this.cloneNode(!1),w=this.parentNode;return w?w.insertBefore(d,this.nextSibling):d}function jn(){var d=this.cloneNode(!0),w=this.parentNode;return w?w.insertBefore(d,this.nextSibling):d}function pn(d){return this.select(d?jn:Fr)}function hr(d){return arguments.length?this.property("__data__",d):this.node().__data__}function Xn(d){return function(w){d.call(this,w,this.__data__)}}function qn(d){return d.trim().split(/^|\s+/).map(function(w){var X="",K=w.indexOf(".");return K>=0&&(X=w.slice(K+1),w=w.slice(0,K)),{type:w,name:X}})}function On(d){return function(){var w=this.__on;if(w){for(var X=0,K=-1,B=w.length,j;X<B;++X)j=w[X],(!d.type||j.type===d.type)&&j.name===d.name?this.removeEventListener(j.type,j.listener,j.options):w[++K]=j;++K?w.length=K:delete this.__on}}}function Ot(d,w,X){return function(){var K=this.__on,B,j=Xn(w);if(K){for(var he=0,me=K.length;he<me;++he)if((B=K[he]).type===d.type&&B.name===d.name){this.removeEventListener(B.type,B.listener,B.options),this.addEventListener(B.type,B.listener=j,B.options=X),B.value=w;return}}this.addEventListener(d.type,j,X),B={type:d.type,name:d.name,value:w,listener:j,options:X},K?K.push(B):this.__on=[B]}}function Dr(d,w,X){var K=qn(d+""),B,j=K.length,he;if(arguments.length<2){var me=this.node().__on;if(me){for(var Ce=0,Oe=me.length,Qe;Ce<Oe;++Ce)for(B=0,Qe=me[Ce];B<j;++B)if((he=K[B]).type===Qe.type&&he.name===Qe.name)return Qe.value}return}for(me=w?Ot:On,B=0;B<j;++B)this.each(me(K[B],w,X));return this}var Yr=P(71236);function er(d,w,X){var K=(0,Yr.Z)(d),B=K.CustomEvent;typeof B=="function"?B=new B(w,X):(B=K.document.createEvent("Event"),X?(B.initEvent(w,X.bubbles,X.cancelable),B.detail=X.detail):B.initEvent(w,!1,!1)),d.dispatchEvent(B)}function gr(d,w){return function(){return er(this,d,w)}}function Bn(d,w){return function(){return er(this,d,w.apply(this,arguments))}}function yn(d,w){return this.each((typeof w=="function"?Bn:gr)(d,w))}function*tr(){for(var d=this._groups,w=0,X=d.length;w<X;++w)for(var K=d[w],B=0,j=K.length,he;B<j;++B)(he=K[B])&&(yield he)}var mr=[null];function Kt(d,w){this._groups=d,this._parents=w}function en(){return new Kt([[document.documentElement]],mr)}function pr(){return this}Kt.prototype=en.prototype={constructor:Kt,select:se,selectAll:fe,selectChild:Me,selectChildren:ft,filter:$t,data:bt,enter:qe,exit:Y,join:He,merge:G,selection:pr,order:Ae,sort:Ne,call:st,nodes:ct,node:je,size:vt,empty:Ue,each:mt,attr:Tn,style:Ge.Z,property:lt,classed:an,text:Cn,html:Zt,raise:ae,lower:cn,append:Jn,insert:Mn,remove:dr,clone:pn,datum:hr,on:Dr,dispatch:yn,[Symbol.iterator]:tr};var nr=en},79210:function(Xe,pe,P){P.d(pe,{S:function(){return fe},Z:function(){return xe}});var a=P(71236);function se(ne){return function(){this.style.removeProperty(ne)}}function U(ne,le,de){return function(){this.style.setProperty(ne,le,de)}}function ie(ne,le,de){return function(){var Te=le.apply(this,arguments);Te==null?this.style.removeProperty(ne):this.style.setProperty(ne,Te,de)}}function xe(ne,le,de){return arguments.length>1?this.each((le==null?se:typeof le=="function"?ie:U)(ne,le,de==null?"":de)):fe(this.node(),ne)}function fe(ne,le){return ne.style.getPropertyValue(le)||(0,a.Z)(ne).getComputedStyle(ne,null).getPropertyValue(le)}},9588:function(Xe,pe,P){P.d(pe,{Z:function(){return se}});function a(){}function se(U){return U==null?a:function(){return this.querySelector(U)}}},86513:function(Xe,pe,P){P.d(pe,{Z:function(){return se}});function a(){return[]}function se(U){return U==null?a:function(){return this.querySelectorAll(U)}}},71236:function(Xe,pe,P){P.d(pe,{Z:function(){return a}});function a(se){return se.ownerDocument&&se.ownerDocument.defaultView||se.document&&se||se.defaultView}},58747:function(Xe,pe,P){P.d(pe,{sP:function(){return ii},CR:function(){return ir}});var a=P(54237),se=P(21617),U=1e-12;function ie(n){return((n=Math.exp(n))+1/n)/2}function xe(n){return((n=Math.exp(n))-1/n)/2}function fe(n){return((n=Math.exp(2*n))-1)/(n+1)}var ne=function n(o,c,g){function v(_,x){var $=_[0],L=_[1],Z=_[2],W=x[0],be=x[1],we=x[2],Re=W-$,kt=be-L,yt=Re*Re+kt*kt,Pt,Be;if(yt<U)Be=Math.log(we/Z)/o,Pt=function(Gn){return[$+Gn*Re,L+Gn*kt,Z*Math.exp(o*Gn*Be)]};else{var Pn=Math.sqrt(yt),_n=(we*we-Z*Z+g*yt)/(2*Z*c*Pn),Un=(we*we-Z*Z-g*yt)/(2*we*c*Pn),Ln=Math.log(Math.sqrt(_n*_n+1)-_n),nn=Math.log(Math.sqrt(Un*Un+1)-Un);Be=(nn-Ln)/o,Pt=function(Gn){var kr=Gn*Be,Hr=ie(Ln),Lr=Z/(c*Pn)*(Hr*fe(o*kr+Ln)-xe(Ln));return[$+Lr*Re,L+Lr*kt,Z*Hr/ie(o*kr+Ln)]}}return Pt.duration=Be*1e3*o/Math.SQRT2,Pt}return v.rho=function(_){var x=Math.max(.001,+_),$=x*x,L=$*$;return n(x,$,L)},v}(Math.SQRT2,2,4),le=P(72905),de=P(30271),Te=P(65004),Me=0,We=0,Ke=0,Fe=1e3,ft,$t,it=0,qe=0,dt=0,Tt=typeof performance=="object"&&performance.now?performance:Date,De=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function et(){return qe||(De(at),qe=Tt.now()+dt)}function at(){qe=0}function bt(){this._call=this._time=this._next=null}bt.prototype=A.prototype={constructor:bt,restart:function(n,o,c){if(typeof n!="function")throw new TypeError("callback is not a function");c=(c==null?et():+c)+(o==null?0:+o),!this._next&&$t!==this&&($t?$t._next=this:ft=this,$t=this),this._call=n,this._time=c,Ne()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ne())}};function A(n,o,c){var g=new bt;return g.restart(n,o,c),g}function Y(){et(),++Me;for(var n=ft,o;n;)(o=qe-n._time)>=0&&n._call.call(null,o),n=n._next;--Me}function He(){qe=(it=Tt.now())+dt,Me=We=0;try{Y()}finally{Me=0,Ae(),qe=0}}function G(){var n=Tt.now(),o=n-it;o>Fe&&(dt-=o,it=n)}function Ae(){for(var n,o=ft,c,g=1/0;o;)o._call?(g>o._time&&(g=o._time),n=o,o=o._next):(c=o._next,o._next=null,o=n?n._next=c:ft=c);$t=n,Ne(g)}function Ne(n){if(!Me){We&&(We=clearTimeout(We));var o=n-qe;o>24?(n<1/0&&(We=setTimeout(He,n-Tt.now()-dt)),Ke&&(Ke=clearInterval(Ke))):(Ke||(it=Tt.now(),Ke=setInterval(G,Fe)),Me=1,De(He))}}function Ie(n,o,c){var g=new bt;return o=o==null?0:+o,g.restart(function(v){g.stop(),n(v+o)},o,c),g}var st=(0,a.Z)("start","end","cancel","interrupt"),ct=[],je=0,vt=1,Ue=2,mt=3,ot=4,Ct=5,sn=6;function Wt(n,o,c,g,v,_){var x=n.__transition;if(!x)n.__transition={};else if(c in x)return;Tn(n,c,{name:o,index:g,group:v,on:st,tween:ct,time:_.time,delay:_.delay,duration:_.duration,ease:_.ease,timer:null,state:je})}function jt(n,o){var c=tt(n,o);if(c.state>je)throw new Error("too late; already scheduled");return c}function ht(n,o){var c=tt(n,o);if(c.state>mt)throw new Error("too late; already running");return c}function tt(n,o){var c=n.__transition;if(!c||!(c=c[o]))throw new Error("transition not found");return c}function Tn(n,o,c){var g=n.__transition,v;g[o]=c,c.timer=A(_,0,c.time);function _(Z){c.state=vt,c.timer.restart(x,c.delay,c.time),c.delay<=Z&&x(Z-c.delay)}function x(Z){var W,be,we,Re;if(c.state!==vt)return L();for(W in g)if(Re=g[W],Re.name===c.name){if(Re.state===mt)return Ie(x);Re.state===ot?(Re.state=sn,Re.timer.stop(),Re.on.call("interrupt",n,n.__data__,Re.index,Re.group),delete g[W]):+W<o&&(Re.state=sn,Re.timer.stop(),Re.on.call("cancel",n,n.__data__,Re.index,Re.group),delete g[W])}if(Ie(function(){c.state===mt&&(c.state=ot,c.timer.restart($,c.delay,c.time),$(Z))}),c.state=Ue,c.on.call("start",n,n.__data__,c.index,c.group),c.state===Ue){for(c.state=mt,v=new Array(we=c.tween.length),W=0,be=-1;W<we;++W)(Re=c.tween[W].value.call(n,n.__data__,c.index,c.group))&&(v[++be]=Re);v.length=be+1}}function $(Z){for(var W=Z<c.duration?c.ease.call(null,Z/c.duration):(c.timer.restart(L),c.state=Ct,1),be=-1,we=v.length;++be<we;)v[be].call(n,W);c.state===Ct&&(c.on.call("end",n,n.__data__,c.index,c.group),L())}function L(){c.state=sn,c.timer.stop(),delete g[o];for(var Z in g)return;delete n.__transition}}function Ge(n,o){var c=n.__transition,g,v,_=!0,x;if(c){o=o==null?null:o+"";for(x in c){if((g=c[x]).name!==o){_=!1;continue}v=g.state>Ue&&g.state<Ct,g.state=sn,g.timer.stop(),g.on.call(v?"interrupt":"cancel",n,n.__data__,g.index,g.group),delete c[x]}_&&delete n.__transition}}function Ft(n){return this.each(function(){Ge(this,n)})}function Mt(n,o){return n=+n,o=+o,function(c){return n*(1-c)+o*c}}var Dn=180/Math.PI,lt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Je(n,o,c,g,v,_){var x,$,L;return(x=Math.sqrt(n*n+o*o))&&(n/=x,o/=x),(L=n*c+o*g)&&(c-=n*L,g-=o*L),($=Math.sqrt(c*c+g*g))&&(c/=$,g/=$,L/=$),n*g<o*c&&(n=-n,o=-o,L=-L,x=-x),{translateX:v,translateY:_,rotate:Math.atan2(o,n)*Dn,skewX:Math.atan(L)*Dn,scaleX:x,scaleY:$}}var Yt;function Dt(n){var o=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return o.isIdentity?lt:Je(o.a,o.b,o.c,o.d,o.e,o.f)}function Vn(n){return n==null||(Yt||(Yt=document.createElementNS("http://www.w3.org/2000/svg","g")),Yt.setAttribute("transform",n),!(n=Yt.transform.baseVal.consolidate()))?lt:(n=n.matrix,Je(n.a,n.b,n.c,n.d,n.e,n.f))}function hn(n,o,c,g){function v(Z){return Z.length?Z.pop()+" ":""}function _(Z,W,be,we,Re,kt){if(Z!==be||W!==we){var yt=Re.push("translate(",null,o,null,c);kt.push({i:yt-4,x:Mt(Z,be)},{i:yt-2,x:Mt(W,we)})}else(be||we)&&Re.push("translate("+be+o+we+c)}function x(Z,W,be,we){Z!==W?(Z-W>180?W+=360:W-Z>180&&(Z+=360),we.push({i:be.push(v(be)+"rotate(",null,g)-2,x:Mt(Z,W)})):W&&be.push(v(be)+"rotate("+W+g)}function $(Z,W,be,we){Z!==W?we.push({i:be.push(v(be)+"skewX(",null,g)-2,x:Mt(Z,W)}):W&&be.push(v(be)+"skewX("+W+g)}function L(Z,W,be,we,Re,kt){if(Z!==be||W!==we){var yt=Re.push(v(Re)+"scale(",null,",",null,")");kt.push({i:yt-4,x:Mt(Z,be)},{i:yt-2,x:Mt(W,we)})}else(be!==1||we!==1)&&Re.push(v(Re)+"scale("+be+","+we+")")}return function(Z,W){var be=[],we=[];return Z=n(Z),W=n(W),_(Z.translateX,Z.translateY,W.translateX,W.translateY,be,we),x(Z.rotate,W.rotate,be,we),$(Z.skewX,W.skewX,be,we),L(Z.scaleX,Z.scaleY,W.scaleX,W.scaleY,be,we),Z=W=null,function(Re){for(var kt=-1,yt=we.length,Pt;++kt<yt;)be[(Pt=we[kt]).i]=Pt.x(Re);return be.join("")}}}var In=hn(Dt,"px, ","px)","deg)"),qt=hn(Vn,", ",")",")"),gn=P(99573);function an(n,o){var c,g;return function(){var v=ht(this,n),_=v.tween;if(_!==c){g=c=_;for(var x=0,$=g.length;x<$;++x)if(g[x].name===o){g=g.slice(),g.splice(x,1);break}}v.tween=g}}function Tr(n,o,c){var g,v;if(typeof c!="function")throw new Error;return function(){var _=ht(this,n),x=_.tween;if(x!==g){v=(g=x).slice();for(var $={name:o,value:c},L=0,Z=v.length;L<Z;++L)if(v[L].name===o){v[L]=$;break}L===Z&&v.push($)}_.tween=v}}function Sn(n,o){var c=this._id;if(n+="",arguments.length<2){for(var g=tt(this.node(),c).tween,v=0,_=g.length,x;v<_;++v)if((x=g[v]).name===n)return x.value;return null}return this.each((o==null?an:Tr)(c,n,o))}function Nn(n,o,c){var g=n._id;return n.each(function(){var v=ht(this,g);(v.value||(v.value={}))[o]=c.apply(this,arguments)}),function(v){return tt(v,g).value[o]}}function Cn(n,o,c){n.prototype=o.prototype=c,c.constructor=n}function At(n,o){var c=Object.create(n.prototype);for(var g in o)c[g]=o[g];return c}function _t(){}var Lt=.7,Zt=1/Lt,pt="\\s*([+-]?\\d+)\\s*",ae="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cn=/^#([0-9a-f]{3,8})$/,mn=new RegExp("^rgb\\(".concat(pt,",").concat(pt,",").concat(pt,"\\)$")),Rn=new RegExp("^rgb\\(".concat(Et,",").concat(Et,",").concat(Et,"\\)$")),ur=new RegExp("^rgba\\(".concat(pt,",").concat(pt,",").concat(pt,",").concat(ae,"\\)$")),zn=new RegExp("^rgba\\(".concat(Et,",").concat(Et,",").concat(Et,",").concat(ae,"\\)$")),Jn=new RegExp("^hsl\\(".concat(ae,",").concat(Et,",").concat(Et,"\\)$")),fr=new RegExp("^hsla\\(".concat(ae,",").concat(Et,",").concat(Et,",").concat(ae,"\\)$")),Mn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cn(_t,pn,{copy:function(o){return Object.assign(new this.constructor,this,o)},displayable:function(){return this.rgb().displayable()},hex:An,formatHex:An,formatHex8:dr,formatHsl:Fr,formatRgb:jn,toString:jn});function An(){return this.rgb().formatHex()}function dr(){return this.rgb().formatHex8()}function Fr(){return mr(this).formatHsl()}function jn(){return this.rgb().formatRgb()}function pn(n){var o,c;return n=(n+"").trim().toLowerCase(),(o=cn.exec(n))?(c=o[1].length,o=parseInt(o[1],16),c===6?hr(o):c===3?new Ot(o>>8&15|o>>4&240,o>>4&15|o&240,(o&15)<<4|o&15,1):c===8?Xn(o>>24&255,o>>16&255,o>>8&255,(o&255)/255):c===4?Xn(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|o&240,((o&15)<<4|o&15)/255):null):(o=mn.exec(n))?new Ot(o[1],o[2],o[3],1):(o=Rn.exec(n))?new Ot(o[1]*255/100,o[2]*255/100,o[3]*255/100,1):(o=ur.exec(n))?Xn(o[1],o[2],o[3],o[4]):(o=zn.exec(n))?Xn(o[1]*255/100,o[2]*255/100,o[3]*255/100,o[4]):(o=Jn.exec(n))?tr(o[1],o[2]/100,o[3]/100,1):(o=fr.exec(n))?tr(o[1],o[2]/100,o[3]/100,o[4]):Mn.hasOwnProperty(n)?hr(Mn[n]):n==="transparent"?new Ot(NaN,NaN,NaN,0):null}function hr(n){return new Ot(n>>16&255,n>>8&255,n&255,1)}function Xn(n,o,c,g){return g<=0&&(n=o=c=NaN),new Ot(n,o,c,g)}function qn(n){return n instanceof _t||(n=pn(n)),n?(n=n.rgb(),new Ot(n.r,n.g,n.b,n.opacity)):new Ot}function On(n,o,c,g){return arguments.length===1?qn(n):new Ot(n,o,c,g==null?1:g)}function Ot(n,o,c,g){this.r=+n,this.g=+o,this.b=+c,this.opacity=+g}Cn(Ot,On,At(_t,{brighter:function(o){return o=o==null?Zt:Math.pow(Zt,o),new Ot(this.r*o,this.g*o,this.b*o,this.opacity)},darker:function(o){return o=o==null?Lt:Math.pow(Lt,o),new Ot(this.r*o,this.g*o,this.b*o,this.opacity)},rgb:function(){return this},clamp:function(){return new Ot(Bn(this.r),Bn(this.g),Bn(this.b),gr(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dr,formatHex:Dr,formatHex8:Yr,formatRgb:er,toString:er}));function Dr(){return"#".concat(yn(this.r)).concat(yn(this.g)).concat(yn(this.b))}function Yr(){return"#".concat(yn(this.r)).concat(yn(this.g)).concat(yn(this.b)).concat(yn((isNaN(this.opacity)?1:this.opacity)*255))}function er(){var n=gr(this.opacity);return"".concat(n===1?"rgb(":"rgba(").concat(Bn(this.r),", ").concat(Bn(this.g),", ").concat(Bn(this.b)).concat(n===1?")":", ".concat(n,")"))}function gr(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Bn(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function yn(n){return n=Bn(n),(n<16?"0":"")+n.toString(16)}function tr(n,o,c,g){return g<=0?n=o=c=NaN:c<=0||c>=1?n=o=NaN:o<=0&&(n=NaN),new en(n,o,c,g)}function mr(n){if(n instanceof en)return new en(n.h,n.s,n.l,n.opacity);if(n instanceof _t||(n=pn(n)),!n)return new en;if(n instanceof en)return n;n=n.rgb();var o=n.r/255,c=n.g/255,g=n.b/255,v=Math.min(o,c,g),_=Math.max(o,c,g),x=NaN,$=_-v,L=(_+v)/2;return $?(o===_?x=(c-g)/$+(c<g)*6:c===_?x=(g-o)/$+2:x=(o-c)/$+4,$/=L<.5?_+v:2-_-v,x*=60):$=L>0&&L<1?0:x,new en(x,$,L,n.opacity)}function Kt(n,o,c,g){return arguments.length===1?mr(n):new en(n,o,c,g==null?1:g)}function en(n,o,c,g){this.h=+n,this.s=+o,this.l=+c,this.opacity=+g}Cn(en,Kt,At(_t,{brighter:function(o){return o=o==null?Zt:Math.pow(Zt,o),new en(this.h,this.s,this.l*o,this.opacity)},darker:function(o){return o=o==null?Lt:Math.pow(Lt,o),new en(this.h,this.s,this.l*o,this.opacity)},rgb:function(){var o=this.h%360+(this.h<0)*360,c=isNaN(o)||isNaN(this.s)?0:this.s,g=this.l,v=g+(g<.5?g:1-g)*c,_=2*g-v;return new Ot(d(o>=240?o-240:o+120,_,v),d(o,_,v),d(o<120?o+240:o-120,_,v),this.opacity)},clamp:function(){return new en(pr(this.h),nr(this.s),nr(this.l),gr(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var o=gr(this.opacity);return"".concat(o===1?"hsl(":"hsla(").concat(pr(this.h),", ").concat(nr(this.s)*100,"%, ").concat(nr(this.l)*100,"%").concat(o===1?")":", ".concat(o,")"))}}));function pr(n){return n=(n||0)%360,n<0?n+360:n}function nr(n){return Math.max(0,Math.min(1,n||0))}function d(n,o,c){return(n<60?o+(c-o)*n/60:n<180?c:n<240?o+(c-o)*(240-n)/60:o)*255}function w(n,o,c,g,v){var _=n*n,x=_*n;return((1-3*n+3*_-x)*o+(4-6*_+3*x)*c+(1+3*n+3*_-3*x)*g+x*v)/6}function X(n){var o=n.length-1;return function(c){var g=c<=0?c=0:c>=1?(c=1,o-1):Math.floor(c*o),v=n[g],_=n[g+1],x=g>0?n[g-1]:2*v-_,$=g<o-1?n[g+2]:2*_-v;return w((c-g/o)*o,x,v,_,$)}}function K(n){var o=n.length;return function(c){var g=Math.floor(((c%=1)<0?++c:c)*o),v=n[(g+o-1)%o],_=n[g%o],x=n[(g+1)%o],$=n[(g+2)%o];return w((c-g/o)*o,v,_,x,$)}}var B=function(n){return function(){return n}};function j(n,o){return function(c){return n+c*o}}function he(n,o,c){return n=Math.pow(n,c),o=Math.pow(o,c)-n,c=1/c,function(g){return Math.pow(n+g*o,c)}}function me(n,o){var c=o-n;return c?j(n,c>180||c<-180?c-360*Math.round(c/360):c):constant(isNaN(n)?o:n)}function Ce(n){return(n=+n)==1?Oe:function(o,c){return c-o?he(o,c,n):B(isNaN(o)?c:o)}}function Oe(n,o){var c=o-n;return c?j(n,c):B(isNaN(n)?o:n)}var Qe=function n(o){var c=Ce(o);function g(v,_){var x=c((v=On(v)).r,(_=On(_)).r),$=c(v.g,_.g),L=c(v.b,_.b),Z=Oe(v.opacity,_.opacity);return function(W){return v.r=x(W),v.g=$(W),v.b=L(W),v.opacity=Z(W),v+""}}return g.gamma=n,g}(1);function Ut(n){return function(o){var c=o.length,g=new Array(c),v=new Array(c),_=new Array(c),x,$;for(x=0;x<c;++x)$=On(o[x]),g[x]=$.r||0,v[x]=$.g||0,_[x]=$.b||0;return g=n(g),v=n(v),_=n(_),$.opacity=1,function(L){return $.r=g(L),$.g=v(L),$.b=_(L),$+""}}}var tn=Ut(X),Vt=Ut(K),Gt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wn=new RegExp(Gt.source,"g");function yr(n){return function(){return n}}function Kr(n){return function(o){return n(o)+""}}function Fn(n,o){var c=Gt.lastIndex=Wn.lastIndex=0,g,v,_,x=-1,$=[],L=[];for(n=n+"",o=o+"";(g=Gt.exec(n))&&(v=Wn.exec(o));)(_=v.index)>c&&(_=o.slice(c,_),$[x]?$[x]+=_:$[++x]=_),(g=g[0])===(v=v[0])?$[x]?$[x]+=v:$[++x]=v:($[++x]=null,L.push({i:x,x:Mt(g,v)})),c=Wn.lastIndex;return c<o.length&&(_=o.slice(c),$[x]?$[x]+=_:$[++x]=_),$.length<2?L[0]?Kr(L[0].x):yr(o):(o=L.length,function(Z){for(var W=0,be;W<o;++W)$[(be=L[W]).i]=be.x(Z);return $.join("")})}function kn(n,o){var c;return(typeof o=="number"?Mt:o instanceof pn?Qe:(c=pn(o))?(o=c,Qe):Fn)(n,o)}function Hn(n){return function(){this.removeAttribute(n)}}function xr(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Ur(n,o,c){var g,v=c+"",_;return function(){var x=this.getAttribute(n);return x===v?null:x===g?_:_=o(g=x,c)}}function io(n,o,c){var g,v=c+"",_;return function(){var x=this.getAttributeNS(n.space,n.local);return x===v?null:x===g?_:_=o(g=x,c)}}function so(n,o,c){var g,v,_;return function(){var x,$=c(this),L;return $==null?void this.removeAttribute(n):(x=this.getAttribute(n),L=$+"",x===L?null:x===g&&L===v?_:(v=L,_=o(g=x,$)))}}function ao(n,o,c){var g,v,_;return function(){var x,$=c(this),L;return $==null?void this.removeAttributeNS(n.space,n.local):(x=this.getAttributeNS(n.space,n.local),L=$+"",x===L?null:x===g&&L===v?_:(v=L,_=o(g=x,$)))}}function co(n,o){var c=(0,gn.Z)(n),g=c==="transform"?qt:kn;return this.attrTween(n,typeof o=="function"?(c.local?ao:so)(c,g,Nn(this,"attr."+n,o)):o==null?(c.local?xr:Hn)(c):(c.local?io:Ur)(c,g,o))}function Gr(n,o){return function(c){this.setAttribute(n,o.call(this,c))}}function Io(n,o){return function(c){this.setAttributeNS(n.space,n.local,o.call(this,c))}}function Ir(n,o){var c,g;function v(){var _=o.apply(this,arguments);return _!==g&&(c=(g=_)&&Io(n,_)),c}return v._value=o,v}function Ro(n,o){var c,g;function v(){var _=o.apply(this,arguments);return _!==g&&(c=(g=_)&&Gr(n,_)),c}return v._value=o,v}function lo(n,o){var c="attr."+n;if(arguments.length<2)return(c=this.tween(c))&&c._value;if(o==null)return this.tween(c,null);if(typeof o!="function")throw new Error;var g=(0,gn.Z)(n);return this.tween(c,(g.local?Ir:Ro)(g,o))}function zo(n,o){return function(){jt(this,n).delay=+o.apply(this,arguments)}}function Oo(n,o){return o=+o,function(){jt(this,n).delay=o}}function Bo(n){var o=this._id;return arguments.length?this.each((typeof n=="function"?zo:Oo)(o,n)):tt(this.node(),o).delay}function rr(n,o){return function(){ht(this,n).duration=+o.apply(this,arguments)}}function Le(n,o){return o=+o,function(){ht(this,n).duration=o}}function ko(n){var o=this._id;return arguments.length?this.each((typeof n=="function"?rr:Le)(o,n)):tt(this.node(),o).duration}function uo(n,o){if(typeof o!="function")throw new Error;return function(){ht(this,n).ease=o}}function Ho(n){var o=this._id;return arguments.length?this.each(uo(o,n)):tt(this.node(),o).ease}function fo(n,o){return function(){var c=o.apply(this,arguments);if(typeof c!="function")throw new Error;ht(this,n).ease=c}}function ho(n){if(typeof n!="function")throw new Error;return this.each(fo(this._id,n))}var Lo=P(93753);function Zo(n){typeof n!="function"&&(n=(0,Lo.Z)(n));for(var o=this._groups,c=o.length,g=new Array(c),v=0;v<c;++v)for(var _=o[v],x=_.length,$=g[v]=[],L,Z=0;Z<x;++Z)(L=_[Z])&&n.call(L,L.__data__,Z,_)&&$.push(L);return new wn(g,this._parents,this._name,this._id)}function Vo(n){if(n._id!==this._id)throw new Error;for(var o=this._groups,c=n._groups,g=o.length,v=c.length,_=Math.min(g,v),x=new Array(g),$=0;$<_;++$)for(var L=o[$],Z=c[$],W=L.length,be=x[$]=new Array(W),we,Re=0;Re<W;++Re)(we=L[Re]||Z[Re])&&(be[Re]=we);for(;$<g;++$)x[$]=o[$];return new wn(x,this._parents,this._name,this._id)}function Xo(n){return(n+"").trim().split(/^|\s+/).every(function(o){var c=o.indexOf(".");return c>=0&&(o=o.slice(0,c)),!o||o==="start"})}function wr(n,o,c){var g,v,_=Xo(o)?jt:ht;return function(){var x=_(this,n),$=x.on;$!==g&&(v=(g=$).copy()).on(o,c),x.on=v}}function go(n,o){var c=this._id;return arguments.length<2?tt(this.node(),c).on.on(n):this.each(wr(c,n,o))}function mo(n){return function(){var o=this.parentNode;for(var c in this.__transition)if(+c!==n)return;o&&o.removeChild(this)}}function po(){return this.on("end.remove",mo(this._id))}var yo=P(9588);function Qr(n){var o=this._name,c=this._id;typeof n!="function"&&(n=(0,yo.Z)(n));for(var g=this._groups,v=g.length,_=new Array(v),x=0;x<v;++x)for(var $=g[x],L=$.length,Z=_[x]=new Array(L),W,be,we=0;we<L;++we)(W=$[we])&&(be=n.call(W,W.__data__,we,$))&&("__data__"in W&&(be.__data__=W.__data__),Z[we]=be,Wt(Z[we],o,c,we,Z,tt(W,c)));return new wn(_,this._parents,o,c)}var xo=P(86513);function Wo(n){var o=this._name,c=this._id;typeof n!="function"&&(n=(0,xo.Z)(n));for(var g=this._groups,v=g.length,_=[],x=[],$=0;$<v;++$)for(var L=g[$],Z=L.length,W,be=0;be<Z;++be)if(W=L[be]){for(var we=n.call(W,W.__data__,be,L),Re,kt=tt(W,c),yt=0,Pt=we.length;yt<Pt;++yt)(Re=we[yt])&&Wt(Re,o,c,yt,we,kt);_.push(we),x.push(W)}return new wn(_,x,o,c)}var Fo=Te.ZP.prototype.constructor;function Rr(){return new Fo(this._groups,this._parents)}var xn=P(79210);function Yo(n,o){var c,g,v;return function(){var _=(0,xn.S)(this,n),x=(this.style.removeProperty(n),(0,xn.S)(this,n));return _===x?null:_===c&&x===g?v:v=o(c=_,g=x)}}function wo(n){return function(){this.style.removeProperty(n)}}function Ko(n,o,c){var g,v=c+"",_;return function(){var x=(0,xn.S)(this,n);return x===v?null:x===g?_:_=o(g=x,c)}}function Jr(n,o,c){var g,v,_;return function(){var x=(0,xn.S)(this,n),$=c(this),L=$+"";return $==null&&(L=$=(this.style.removeProperty(n),(0,xn.S)(this,n))),x===L?null:x===g&&L===v?_:(v=L,_=o(g=x,$))}}function Uo(n,o){var c,g,v,_="style."+o,x="end."+_,$;return function(){var L=ht(this,n),Z=L.on,W=L.value[_]==null?$||($=wo(o)):void 0;(Z!==c||v!==W)&&(g=(c=Z).copy()).on(x,v=W),L.on=g}}function Go(n,o,c){var g=(n+="")=="transform"?In:kn;return o==null?this.styleTween(n,Yo(n,g)).on("end.style."+n,wo(n)):typeof o=="function"?this.styleTween(n,Jr(n,g,Nn(this,"style."+n,o))).each(Uo(this._id,n)):this.styleTween(n,Ko(n,g,o),c).on("end.style."+n,null)}function Qo(n,o,c){return function(g){this.style.setProperty(n,o.call(this,g),c)}}function jr(n,o,c){var g,v;function _(){var x=o.apply(this,arguments);return x!==v&&(g=(v=x)&&Qo(n,x,c)),g}return _._value=o,_}function Jo(n,o,c){var g="style."+(n+="");if(arguments.length<2)return(g=this.tween(g))&&g._value;if(o==null)return this.tween(g,null);if(typeof o!="function")throw new Error;return this.tween(g,jr(n,o,c==null?"":c))}function zr(n){return function(){this.textContent=n}}function or(n){return function(){var o=n(this);this.textContent=o==null?"":o}}function vo(n){return this.tween("text",typeof n=="function"?or(Nn(this,"text",n)):zr(n==null?"":n+""))}function _o(n){return function(o){this.textContent=n.call(this,o)}}function jo(n){var o,c;function g(){var v=n.apply(this,arguments);return v!==c&&(o=(c=v)&&_o(v)),o}return g._value=n,g}function qo(n){var o="text";if(arguments.length<1)return(o=this.tween(o))&&o._value;if(n==null)return this.tween(o,null);if(typeof n!="function")throw new Error;return this.tween(o,jo(n))}function ei(){for(var n=this._name,o=this._id,c=So(),g=this._groups,v=g.length,_=0;_<v;++_)for(var x=g[_],$=x.length,L,Z=0;Z<$;++Z)if(L=x[Z]){var W=tt(L,o);Wt(L,n,c,Z,x,{time:W.time+W.delay+W.duration,delay:0,duration:W.duration,ease:W.ease})}return new wn(g,this._parents,n,c)}function ti(){var n,o,c=this,g=c._id,v=c.size();return new Promise(function(_,x){var $={value:x},L={value:function(){--v===0&&_()}};c.each(function(){var Z=ht(this,g),W=Z.on;W!==n&&(o=(n=W).copy(),o._.cancel.push($),o._.interrupt.push($),o._.end.push(L)),Z.on=o}),v===0&&_()})}var bo=0;function wn(n,o,c,g){this._groups=n,this._parents=o,this._name=c,this._id=g}function Eo(n){return(0,Te.ZP)().transition(n)}function So(){return++bo}var Bt=Te.ZP.prototype;wn.prototype=Eo.prototype={constructor:wn,select:Qr,selectAll:Wo,selectChild:Bt.selectChild,selectChildren:Bt.selectChildren,filter:Zo,merge:Vo,selection:Rr,transition:ei,call:Bt.call,nodes:Bt.nodes,node:Bt.node,size:Bt.size,empty:Bt.empty,each:Bt.each,on:go,attr:co,attrTween:lo,style:Go,styleTween:Jo,text:vo,textTween:qo,remove:po,tween:Sn,delay:Bo,duration:ko,ease:Ho,easeVarying:ho,end:ti,[Symbol.iterator]:Bt[Symbol.iterator]};function vr(n){return n*n*n}function No(n){return--n*n*n+1}function ni(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Co={time:null,delay:0,duration:250,ease:ni};function Mo(n,o){for(var c;!(c=n.__transition)||!(c=c[o]);)if(!(n=n.parentNode))throw new Error(`transition ${o} not found`);return c}function Ao(n){var o,c;n instanceof wn?(o=n._id,n=n._name):(o=So(),(c=Co).time=et(),n=n==null?null:n+"");for(var g=this._groups,v=g.length,_=0;_<v;++_)for(var x=g[_],$=x.length,L,Z=0;Z<$;++Z)(L=x[Z])&&Wt(L,n,o,Z,x,c||Mo(L,o));return new wn(g,this._parents,n,o)}Te.ZP.prototype.interrupt=Ft,Te.ZP.prototype.transition=Ao;var Or=n=>()=>n;function ri(n,{sourceEvent:o,target:c,transform:g,dispatch:v}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},target:{value:c,enumerable:!0,configurable:!0},transform:{value:g,enumerable:!0,configurable:!0},_:{value:v}})}function vn(n,o,c){this.k=n,this.x=o,this.y=c}vn.prototype={constructor:vn,scale:function(n){return n===1?this:new vn(this.k*n,this.x,this.y)},translate:function(n,o){return n===0&o===0?this:new vn(this.k,this.x+this.k*n,this.y+this.k*o)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ir=new vn(1,0,0);Po.prototype=vn.prototype;function Po(n){for(;!n.__zoom;)if(!(n=n.parentNode))return ir;return n.__zoom}function Yn(n){n.stopImmediatePropagation()}function Kn(n){n.preventDefault(),n.stopImmediatePropagation()}function oi(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function qr(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function eo(){return this.__zoom||ir}function $o(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function sr(){return navigator.maxTouchPoints||"ontouchstart"in this}function _r(n,o,c){var g=n.invertX(o[0][0])-c[0][0],v=n.invertX(o[1][0])-c[1][0],_=n.invertY(o[0][1])-c[0][1],x=n.invertY(o[1][1])-c[1][1];return n.translate(v>g?(g+v)/2:Math.min(0,g)||Math.max(0,v),x>_?(_+x)/2:Math.min(0,_)||Math.max(0,x))}function ii(){var n=oi,o=qr,c=_r,g=$o,v=sr,_=[0,1/0],x=[[-1/0,-1/0],[1/0,1/0]],$=250,L=ne,Z=(0,a.Z)("start","zoom","end"),W,be,we,Re=500,kt=150,yt=0,Pt=10;function Be(M){M.property("__zoom",eo).on("wheel.zoom",Gn,{passive:!1}).on("mousedown.zoom",kr).on("dblclick.zoom",Hr).filter(v).on("touchstart.zoom",Lr).on("touchmove.zoom",To).on("touchend.zoom touchcancel.zoom",si).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}Be.transform=function(M,ye,V,Ee){var ke=M.selection?M.selection():M;ke.property("__zoom",eo),M!==ke?Ln(M,ye,V,Ee):ke.interrupt().each(function(){nn(this,arguments).event(Ee).start().zoom(null,typeof ye=="function"?ye.apply(this,arguments):ye).end()})},Be.scaleBy=function(M,ye,V,Ee){Be.scaleTo(M,function(){var ke=this.__zoom.k,Ze=typeof ye=="function"?ye.apply(this,arguments):ye;return ke*Ze},V,Ee)},Be.scaleTo=function(M,ye,V,Ee){Be.transform(M,function(){var ke=o.apply(this,arguments),Ze=this.__zoom,Ye=V==null?Un(ke):typeof V=="function"?V.apply(this,arguments):V,nt=Ze.invert(Ye),xt=typeof ye=="function"?ye.apply(this,arguments):ye;return c(_n(Pn(Ze,xt),Ye,nt),ke,x)},V,Ee)},Be.translateBy=function(M,ye,V,Ee){Be.transform(M,function(){return c(this.__zoom.translate(typeof ye=="function"?ye.apply(this,arguments):ye,typeof V=="function"?V.apply(this,arguments):V),o.apply(this,arguments),x)},null,Ee)},Be.translateTo=function(M,ye,V,Ee,ke){Be.transform(M,function(){var Ze=o.apply(this,arguments),Ye=this.__zoom,nt=Ee==null?Un(Ze):typeof Ee=="function"?Ee.apply(this,arguments):Ee;return c(ir.translate(nt[0],nt[1]).scale(Ye.k).translate(typeof ye=="function"?-ye.apply(this,arguments):-ye,typeof V=="function"?-V.apply(this,arguments):-V),Ze,x)},Ee,ke)};function Pn(M,ye){return ye=Math.max(_[0],Math.min(_[1],ye)),ye===M.k?M:new vn(ye,M.x,M.y)}function _n(M,ye,V){var Ee=ye[0]-V[0]*M.k,ke=ye[1]-V[1]*M.k;return Ee===M.x&&ke===M.y?M:new vn(M.k,Ee,ke)}function Un(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function Ln(M,ye,V,Ee){M.on("start.zoom",function(){nn(this,arguments).event(Ee).start()}).on("interrupt.zoom end.zoom",function(){nn(this,arguments).event(Ee).end()}).tween("zoom",function(){var ke=this,Ze=arguments,Ye=nn(ke,Ze).event(Ee),nt=o.apply(ke,Ze),xt=V==null?Un(nt):typeof V=="function"?V.apply(ke,Ze):V,bn=Math.max(nt[1][0]-nt[0][0],nt[1][1]-nt[0][1]),It=ke.__zoom,rn=typeof ye=="function"?ye.apply(ke,Ze):ye,$n=L(It.invert(xt).concat(bn/It.k),rn.invert(xt).concat(bn/rn.k));return function(ln){if(ln===1)ln=rn;else{var En=$n(ln),Zr=bn/En[2];ln=new vn(Zr,xt[0]-En[0]*Zr,xt[1]-En[1]*Zr)}Ye.zoom(null,ln)}})}function nn(M,ye,V){return!V&&M.__zooming||new Br(M,ye)}function Br(M,ye){this.that=M,this.args=ye,this.active=0,this.sourceEvent=null,this.extent=o.apply(M,ye),this.taps=0}Br.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,ye){return this.mouse&&M!=="mouse"&&(this.mouse[1]=ye.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=ye.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=ye.invert(this.touch1[0])),this.that.__zoom=ye,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var ye=(0,le.Z)(this.that).datum();Z.call(M,this.that,new ri(M,{sourceEvent:this.sourceEvent,target:Be,type:M,transform:this.that.__zoom,dispatch:Z}),ye)}};function Gn(M,...ye){if(!n.apply(this,arguments))return;var V=nn(this,ye).event(M),Ee=this.__zoom,ke=Math.max(_[0],Math.min(_[1],Ee.k*Math.pow(2,g.apply(this,arguments)))),Ze=(0,de.Z)(M);if(V.wheel)(V.mouse[0][0]!==Ze[0]||V.mouse[0][1]!==Ze[1])&&(V.mouse[1]=Ee.invert(V.mouse[0]=Ze)),clearTimeout(V.wheel);else{if(Ee.k===ke)return;V.mouse=[Ze,Ee.invert(Ze)],Ge(this),V.start()}Kn(M),V.wheel=setTimeout(Ye,kt),V.zoom("mouse",c(_n(Pn(Ee,ke),V.mouse[0],V.mouse[1]),V.extent,x));function Ye(){V.wheel=null,V.end()}}function kr(M,...ye){if(we||!n.apply(this,arguments))return;var V=M.currentTarget,Ee=nn(this,ye,!0).event(M),ke=(0,le.Z)(M.view).on("mousemove.zoom",xt,!0).on("mouseup.zoom",bn,!0),Ze=(0,de.Z)(M,V),Ye=M.clientX,nt=M.clientY;(0,se.Z)(M.view),Yn(M),Ee.mouse=[Ze,this.__zoom.invert(Ze)],Ge(this),Ee.start();function xt(It){if(Kn(It),!Ee.moved){var rn=It.clientX-Ye,$n=It.clientY-nt;Ee.moved=rn*rn+$n*$n>yt}Ee.event(It).zoom("mouse",c(_n(Ee.that.__zoom,Ee.mouse[0]=(0,de.Z)(It,V),Ee.mouse[1]),Ee.extent,x))}function bn(It){ke.on("mousemove.zoom mouseup.zoom",null),(0,se.D)(It.view,Ee.moved),Kn(It),Ee.event(It).end()}}function Hr(M,...ye){if(n.apply(this,arguments)){var V=this.__zoom,Ee=(0,de.Z)(M.changedTouches?M.changedTouches[0]:M,this),ke=V.invert(Ee),Ze=V.k*(M.shiftKey?.5:2),Ye=c(_n(Pn(V,Ze),Ee,ke),o.apply(this,ye),x);Kn(M),$>0?(0,le.Z)(this).transition().duration($).call(Ln,Ye,Ee,M):(0,le.Z)(this).call(Be.transform,Ye,Ee,M)}}function Lr(M,...ye){if(n.apply(this,arguments)){var V=M.touches,Ee=V.length,ke=nn(this,ye,M.changedTouches.length===Ee).event(M),Ze,Ye,nt,xt;for(Yn(M),Ye=0;Ye<Ee;++Ye)nt=V[Ye],xt=(0,de.Z)(nt,this),xt=[xt,this.__zoom.invert(xt),nt.identifier],ke.touch0?!ke.touch1&&ke.touch0[2]!==xt[2]&&(ke.touch1=xt,ke.taps=0):(ke.touch0=xt,Ze=!0,ke.taps=1+!!W);W&&(W=clearTimeout(W)),Ze&&(ke.taps<2&&(be=xt[0],W=setTimeout(function(){W=null},Re)),Ge(this),ke.start())}}function To(M,...ye){if(this.__zooming){var V=nn(this,ye).event(M),Ee=M.changedTouches,ke=Ee.length,Ze,Ye,nt,xt;for(Kn(M),Ze=0;Ze<ke;++Ze)Ye=Ee[Ze],nt=(0,de.Z)(Ye,this),V.touch0&&V.touch0[2]===Ye.identifier?V.touch0[0]=nt:V.touch1&&V.touch1[2]===Ye.identifier&&(V.touch1[0]=nt);if(Ye=V.that.__zoom,V.touch1){var bn=V.touch0[0],It=V.touch0[1],rn=V.touch1[0],$n=V.touch1[1],ln=(ln=rn[0]-bn[0])*ln+(ln=rn[1]-bn[1])*ln,En=(En=$n[0]-It[0])*En+(En=$n[1]-It[1])*En;Ye=Pn(Ye,Math.sqrt(ln/En)),nt=[(bn[0]+rn[0])/2,(bn[1]+rn[1])/2],xt=[(It[0]+$n[0])/2,(It[1]+$n[1])/2]}else if(V.touch0)nt=V.touch0[0],xt=V.touch0[1];else return;V.zoom("touch",c(_n(Ye,nt,xt),V.extent,x))}}function si(M,...ye){if(this.__zooming){var V=nn(this,ye).event(M),Ee=M.changedTouches,ke=Ee.length,Ze,Ye;for(Yn(M),we&&clearTimeout(we),we=setTimeout(function(){we=null},Re),Ze=0;Ze<ke;++Ze)Ye=Ee[Ze],V.touch0&&V.touch0[2]===Ye.identifier?delete V.touch0:V.touch1&&V.touch1[2]===Ye.identifier&&delete V.touch1;if(V.touch1&&!V.touch0&&(V.touch0=V.touch1,delete V.touch1),V.touch0)V.touch0[1]=this.__zoom.invert(V.touch0[0]);else if(V.end(),V.taps===2&&(Ye=(0,de.Z)(Ye,this),Math.hypot(be[0]-Ye[0],be[1]-Ye[1])<Pt)){var nt=(0,le.Z)(this).on("dblclick.zoom");nt&&nt.apply(this,arguments)}}}return Be.wheelDelta=function(M){return arguments.length?(g=typeof M=="function"?M:Or(+M),Be):g},Be.filter=function(M){return arguments.length?(n=typeof M=="function"?M:Or(!!M),Be):n},Be.touchable=function(M){return arguments.length?(v=typeof M=="function"?M:Or(!!M),Be):v},Be.extent=function(M){return arguments.length?(o=typeof M=="function"?M:Or([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),Be):o},Be.scaleExtent=function(M){return arguments.length?(_[0]=+M[0],_[1]=+M[1],Be):[_[0],_[1]]},Be.translateExtent=function(M){return arguments.length?(x[0][0]=+M[0][0],x[1][0]=+M[1][0],x[0][1]=+M[0][1],x[1][1]=+M[1][1],Be):[[x[0][0],x[0][1]],[x[1][0],x[1][1]]]},Be.constrain=function(M){return arguments.length?(c=M,Be):c},Be.duration=function(M){return arguments.length?($=+M,Be):$},Be.interpolate=function(M){return arguments.length?(L=M,Be):L},Be.on=function(){var M=Z.on.apply(Z,arguments);return M===Z?Be:M},Be.clickDistance=function(M){return arguments.length?(yt=(M=+M)*M,Be):Math.sqrt(yt)},Be.tapDistance=function(M){return arguments.length?(Pt=+M,Be):Pt},Be}},50770:function(Xe,pe,P){P.d(pe,{X:function(){return a}});function a(U,ie){if(Object.is(U,ie))return!0;if(typeof U!="object"||U===null||typeof ie!="object"||ie===null)return!1;if(U instanceof Map&&ie instanceof Map){if(U.size!==ie.size)return!1;for(const[fe,ne]of U)if(!Object.is(ne,ie.get(fe)))return!1;return!0}if(U instanceof Set&&ie instanceof Set){if(U.size!==ie.size)return!1;for(const fe of U)if(!ie.has(fe))return!1;return!0}const xe=Object.keys(U);if(xe.length!==Object.keys(ie).length)return!1;for(let fe=0;fe<xe.length;fe++)if(!Object.prototype.hasOwnProperty.call(ie,xe[fe])||!Object.is(U[xe[fe]],ie[xe[fe]]))return!1;return!0}var se=(U,ie)=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`."),a(U,ie))}}]);
