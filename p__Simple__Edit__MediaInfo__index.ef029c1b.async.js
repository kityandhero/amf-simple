(self.webpackChunkexample_antd_management_fast_framework=self.webpackChunkexample_antd_management_fast_framework||[]).push([[252],{41826:function(K,R,l){"use strict";l.d(R,{Iq:function(){return Z},Lw:function(){return B},O9:function(){return V},Wk:function(){return U},X5:function(){return o},i2:function(){return T},mG:function(){return X},zC:function(){return i}});var W=l(10604),c=l.n(W),P=l(43410),w=l.n(P),I=l(56015),D=l(92870),A=l(96294);function T(a){var r=a.target,d=a.handleData,f=d===void 0?{}:d,_=a.successCallback,n=a.successMessage,y=n===void 0?null:n;(0,D.ND)({api:"simple/singleListTree",params:{},target:r,handleData:f,successCallback:_,successMessage:y,showProcessing:!1})}function B(a){var r=a.target,d=a.handleData,f=a.successCallback,_=a.successMessage,n=_===void 0?null:_;(0,D.ND)({api:"simple/setOnline",params:{simpleId:(0,I.s4e)({data:d,key:A.Ng.simpleId.name})},target:r,handleData:d,successCallback:f,successMessage:n})}function i(a){var r=a.target,d=a.handleData,f=a.successCallback,_=a.successMessage,n=_===void 0?null:_;(0,D.ND)({api:"simple/setOffline",params:{simpleId:(0,I.s4e)({data:d,key:A.Ng.simpleId.name})},target:r,handleData:d,successCallback:f,successMessage:n})}function U(a){return x.apply(this,arguments)}function x(){return x=w()(c()().mark(function a(r){var d,f,_,n,y;return c()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:d=r.target,f=r.handleData,_=r.successCallback,n=r.successMessage,y=n===void 0?null:n,(0,D.ND)({api:"simple/refreshCache",params:{simpleId:(0,I.s4e)({data:f,key:A.Ng.simpleId.name})},target:d,handleData:f,successCallback:_,successMessage:y});case 2:case"end":return G.stop()}},a)})),x.apply(this,arguments)}function Z(a){var r=a.target,d=a.handleData,f=a.successCallback,_=a.successMessage;(0,D.ND)({api:"simple/setMediaCollectionSort",params:{simpleId:(0,I.s4e)({data:d,key:A.Ng.simpleId.name}),ids:(0,I.s4e)({data:d,key:"ids"})},target:r,handleData:d,successCallback:f,successMessage:_})}function V(a){return H.apply(this,arguments)}function H(){return H=w()(c()().mark(function a(r){var d,f,_,n;return c()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:d=r.target,f=r.handleData,_=r.successCallback,n=r.successMessage,(0,D.ND)({api:"simple/removeMediaItem",params:{simpleId:(0,I.s4e)({data:f,key:A.Ng.simpleId.name}),id:(0,I.s4e)({data:f,key:A.js.id.name})},target:d,handleData:f,successCallback:_,successMessage:n});case 2:case"end":return M.stop()}},a)})),H.apply(this,arguments)}function o(a){return N.apply(this,arguments)}function N(){return N=w()(c()().mark(function a(r){var d,f,_,n;return c()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:d=r.target,f=r.handleData,_=r.successCallback,n=r.successMessage,(0,D.ND)({api:"simple/addImage",params:{simpleId:(0,I.s4e)({data:f,key:A.Ng.simpleId.name}),url:f.url||""},target:d,handleData:f,successCallback:_,successMessage:n});case 2:case"end":return M.stop()}},a)})),N.apply(this,arguments)}function J(a){return $.apply(this,arguments)}function $(){return $=w()(c()().mark(function a(r){var d,f,_,n;return c()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:d=r.target,f=r.handleData,_=r.successCallback,n=r.successMessage,(0,D.ND)({api:"simple/removeImage",params:{simpleId:(0,I.s4e)({data:f,key:A.Ng.simpleId.name})},target:d,handleData:f,successCallback:_,successMessage:n});case 2:case"end":return M.stop()}},a)})),$.apply(this,arguments)}function X(a){return E.apply(this,arguments)}function E(){return E=w()(c()().mark(function a(r){var d,f,_,n;return c()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:d=r.target,f=r.handleData,_=r.successCallback,n=r.successMessage,(0,D.tA)({title:"\u79FB\u9664\u56FE\u7247",content:"\u5373\u5C06\u79FB\u9664\u56FE\u7247\uFF0C\u786E\u5B9A\u5417\uFF1F",target:d,handleData:f,successCallback:_,okAction:function(z){var Q=z.target,ee=z.handleData,Y=z.successCallback;J({target:Q,handleData:ee,successCallback:Y,successMessage:n})}});case 2:case"end":return M.stop()}},a)})),E.apply(this,arguments)}},20160:function(K,R,l){"use strict";l.d(R,{D7:function(){return c},Dc:function(){return W},i0:function(){return P}});function W(w){var I=w.urlParams,D=I.id;return{simpleId:D}}function c(w,I,D,A){var T=w.simpleId,B=D.simpleId;return B!==T}function P(w){var I=w.externalData,D="";return(I||null)!=null&&(D=I.simpleId||""),D}},75683:function(K,R,l){"use strict";l.r(R),l.d(R,{default:function(){return be}});var W=l(86832),c=l.n(W),P=l(46995),w=l.n(P),I=l(25471),D=l.n(I),A=l(3782),T=l.n(A),B=l(56507),i=l.n(B),U=l(42314),x=l.n(U),Z=l(96082),V=l.n(Z),H=l(73581),o=l.n(H),N=l(74912),J=l(10223),$=l(52901),X=l(52983),E=l(85388),a=l(56015),r=l(92870),d=l(92637),f=l(41826),_=l(20160),n=l(96294),y=l(69015),M=l(77475),G=l(21902),z,Q,ee=M.v3.BaseAddDrawer,Y="7e84caa4d70d4f039b06eb5f0a84839e",ge=(z=(0,E.$j)(function(j){var S=j.simple,g=j.schedulingControl;return{simple:S,schedulingControl:g}}),z(Q=function(j){x()(g,j);var S=V()(g);function g(L){var e;return D()(this,g),e=S.call(this,L,Y),o()(i()(e),"componentAuthority",y.WA.simple.addMediaItem.permission),o()(i()(e),"executeOtherAfterDoOtherWhenChangeVisible",function(t,s,u){e.setState({image:"",video:"",audio:"",attachment:""})}),o()(i()(e),"supplementSubmitRequestParams",function(t){var s=e.state,u=s.image,m=s.video,h=s.audio,p=s.attachment;return c()(c()({},e.supplementRequestParams(t)),{},{image:u,video:m,audio:h,attachment:p})}),o()(i()(e),"supplementRequestParams",function(t){var s=t,u=e.state.externalData,m=c()({simpleId:"",forwardId:""},u),h=m.simpleId,p=m.forwardId;return(0,a.aMH)(h)||(s.simpleId=h),(0,a.aMH)(p)||(s.forwardId=p),s}),o()(i()(e),"afterImageUploadSuccess",function(t){e.setState({image:t})}),o()(i()(e),"afterVideoChangeSuccess",function(t){e.setState({video:t})}),o()(i()(e),"afterAudioChangeSuccess",function(t){e.setState({audio:t})}),o()(i()(e),"afterAttachmentChangeSuccess",function(t){e.setState({attachment:t})}),o()(i()(e),"onTypeChange",function(t){e.setState({mediaType:(0,a.He2)(t)})}),o()(i()(e),"renderPresetTitleIcon",function(){return d.xM.plusSquare()}),o()(i()(e),"renderPresetTitle",function(){return"\u6DFB\u52A0\u5A92\u4F53\u9879"}),o()(i()(e),"fillDefaultInitialValues",function(){var t={};return t[n.js.mediaType.name]=toString(y._x.paragraph),t}),o()(i()(e),"establishCardCollectionConfig",function(){var t=e.state,s=t.mediaType,u=t.image,m=t.video,h=t.audio,p=t.attachment,C=e.checkInProgress();return{list:[{title:{icon:d.xM.contacts(),text:n.js.title.label},spinning:C,items:[{lg:24,type:r.ul.contentItemType.component,component:(0,G.UqM)({onChangeCallback:function(b){e.onTypeChange(b)}}),require:!0}]},{title:{icon:d.xM.picture(),text:n.js.image.label,subText:"[\u4E0A\u4F20\u540E\u9700\u70B9\u51FB\u4FDD\u5B58\u6309\u94AE\u4FDD\u5B58]"},spinning:C,hidden:!(0,a.f9X)([y._x.image,y._x.video],s),items:[{lg:24,type:r.ul.contentItemType.imageUpload,image:u,uploadProps:{singleMode:{width:"140px",emptyImage:""}},action:"".concat((0,r.P7)(),"/simple/uploadImage"),afterUploadSuccess:function(b){e.afterImageUploadSuccess(b)}}]},{title:{text:n.js.description.label},spinning:C,hidden:!(0,a.f9X)([y._x.paragraph],s),items:[{lg:24,type:r.ul.contentItemType.textarea,fieldData:n.js.description}]},{title:{text:n.js.link.label},spinning:C,hidden:!(0,a.f9X)([y._x.link],s),items:[{lg:24,type:r.ul.contentItemType.input,fieldData:n.js.link}]},{title:{icon:d.xM.videoCamera(),text:n.js.video.label},spinning:C,hidden:!(0,a.f9X)([y._x.video],s),items:[{lg:24,type:r.ul.contentItemType.videoUpload,fieldData:n.js.video,video:m,showPreview:!0,action:"".concat((0,r.P7)(),"/simple/uploadVideo"),afterChangeSuccess:function(b){e.afterVideoChangeSuccess(b)}}]},{title:{icon:d.xM.sound(),text:n.js.audio.label},spinning:C,hidden:!(0,a.f9X)([y._x.audio],s),items:[{lg:24,type:r.ul.contentItemType.audioUpload,fieldData:n.js.audio,audio:h,showPreview:!0,action:"".concat((0,r.P7)(),"/simple/uploadAudio"),afterChangeSuccess:function(b){e.afterAudioChangeSuccess(b)}}]},{title:{icon:d.xM.link(),text:n.js.attachment.label},spinning:C,hidden:!(0,a.f9X)([y._x.attachment],s),items:[{lg:24,type:r.ul.contentItemType.fileUpload,fieldData:n.js.attachment,file:p,showPreview:!0,action:"".concat((0,r.P7)(),"/simple/uploadFile"),afterChangeSuccess:function(b){e.afterAttachmentChangeSuccess(b)}}]},{title:{text:"\u5176\u4ED6\u4FE1\u606F"},spinning:C,items:[{type:r.ul.contentItemType.nowTime}]}]}}),e.state=c()(c()({},e.state),{},{dataLoading:!1,loadRemoteRequestAfterMount:!1,pageTitle:"\u65B0\u589E\u5A92\u4F53",submitApiPath:"simple/addMediaItem",mediaType:y._x.paragraph,image:"",video:"",audio:"",attachment:""}),e}return T()(g,null,[{key:"open",value:function(){M.Qs.open(Y)}}]),g}(ee))||Q),se=ge,v=l(97458),ve=M.CE.MobilePreviewDrawer,ie="1957347645844379afae9df53ac59956",re=function(j){x()(g,j);var S=V()(g);function g(L){var e;return D()(this,g),e=S.call(this,L,ie),o()(i()(e),"resetDataAfterLoad",!1),o()(i()(e),"renderPresetTitleIcon",function(){return d.xM.picture()}),o()(i()(e),"renderPresetTitle",function(){return"\u5A92\u4F53\u56FE\u6587\u9884\u89C8"}),o()(i()(e),"buildArticle",function(){var t=e.props.data;if(!(0,a.kJL)(t)){var s="\u9884\u89C8\u6570\u636E\u683C\u5F0F\u65E0\u6548";return(0,a.juc)(s),null}var u=t.map(function(m,h){return c()(c()({},m),{},{key:"data_".concat(h)})});return(0,v.jsx)(v.Fragment,{children:u.map(function(m){return(0,v.jsx)("div",{children:e.buildItem(m)},m.key)})})}),o()(i()(e),"buildItem",function(t){return(t||null)==null?null:(0,v.jsxs)(v.Fragment,{children:[(0,a.aMH)(t.image)?null:(0,v.jsx)("img",{width:"100%",src:t.image}),(0,a.aMH)(t.description)?null:(0,v.jsx)("p",{style:{textIndent:"28px"},children:t.description}),(0,a.aMH)(t.video)?null:(0,d.E2)({url:t.video})]})}),o()(i()(e),"renderPresetInnerView",function(){return e.buildArticle()}),e.state=c()({},e.state),e}return T()(g,null,[{key:"open",value:function(){M.Qs.open(ie)}}]),g}(ve);re.defaultProps={data:[]};var le=re,_e=M.CE.MobilePreviewArea,oe=function(j){x()(g,j);var S=V()(g);function g(L,e){var t;return D()(this,g),t=S.call(this,L,e),o()(i()(t),"loadRemoteRequestAfterMount",!1),o()(i()(t),"resetDataAfterLoad",!1),o()(i()(t),"buildArticle",function(){var s=t.props.data;if(!(0,a.kJL)(s)){var u="\u9884\u89C8\u6570\u636E\u683C\u5F0F\u65E0\u6548";return(0,a.juc)(u),null}var m=s.map(function(h,p){return c()(c()({},h),{},{key:"data_".concat(p)})});return(0,v.jsx)(v.Fragment,{children:m.map(function(h){return(0,v.jsx)("div",{children:t.buildItem(h)},h.key)})})}),o()(i()(t),"buildItem",function(s){return(s||null)==null?null:(0,v.jsxs)(v.Fragment,{children:[(0,a.aMH)(s.image)?null:(0,v.jsx)("img",{width:"100%",src:s.image}),(0,a.aMH)(s.description)?null:(0,v.jsx)("p",{style:{textIndent:"28px"},children:s.description}),(0,a.aMH)(s.video)?null:(0,d.E2)({url:s.video})]})}),o()(i()(t),"renderPresetInnerView",function(){return t.buildArticle()}),t.state=c()({},t.state),t}return T()(g)}(_e);oe.defaultProps={data:[]};var Ie=oe,De=l(3524),te=l(7049),de,ue,ye=M.v3.BaseUpdateDrawer,me="b901740eb37b46fbade7931ce2ae875c",Me=(de=(0,E.$j)(function(j){var S=j.simple,g=j.schedulingControl;return{simple:S,schedulingControl:g}}),de(ue=function(j){x()(g,j);var S=V()(g);function g(L){var e;return D()(this,g),e=S.call(this,L,me),o()(i()(e),"componentAuthority",y.WA.simple.getMediaItem.permission),o()(i()(e),"fillInitialValuesAfterLoad",function(t){var s=t.metaData,u=s===void 0?null:s,m=t.metaListData,h=m===void 0?[]:m,p=t.metaExtra,C=p===void 0?null:p,k=t.metaOriginalData,b=k===void 0?null:k,O={};return u!=null&&(O[n.js.title.name]=(0,a.s4e)({data:u,key:n.js.title.name}),O[n.js.sort.name]=(0,a.s4e)({data:u,key:n.js.sort.name}),O[n.js.description.name]=(0,a.s4e)({data:u,key:n.js.description.name}),O[n.js.link.name]=(0,a.s4e)({data:u,key:n.js.link.name})),O}),o()(i()(e),"supplementLoadRequestParams",function(t){return e.supplementRequestParams(t)}),o()(i()(e),"supplementSubmitRequestParams",function(t){var s=e.state,u=s.mediaType,m=s.image,h=s.video,p=s.audio,C=s.attachment;return c()(c()({},e.supplementRequestParams(t)),{},{mediaType:u,image:m,video:h,audio:p,attachment:C})}),o()(i()(e),"supplementRequestParams",function(t){var s=t,u=e.state.externalData,m=c()({simpleId:"",id:""},u),h=m.simpleId,p=m.id;return(0,a.aMH)(h)||(s.simpleId=h),(0,a.aMH)(p)||(s.id=p),s}),o()(i()(e),"doOtherAfterLoadSuccess",function(t){var s=t.metaData,u=t.metaListData,m=t.metaExtra,h=t.metaOriginalData,p=(0,a.s4e)({data:s,key:n.js.mediaType.name}),C=(0,a.s4e)({data:s,key:n.js.image.name}),k=(0,a.s4e)({data:s,key:n.js.video.name}),b=(0,a.s4e)({data:s,key:n.js.audio.name}),O=(0,a.s4e)({data:s,key:n.js.attachment.name});e.setState({mediaType:p,image:C,video:k,audio:b,attachment:O})}),o()(i()(e),"afterImageUploadSuccess",function(t){e.setState({image:t})}),o()(i()(e),"afterVideoChangeSuccess",function(t){e.setState({video:t})}),o()(i()(e),"afterAudioChangeSuccess",function(t){e.setState({audio:t})}),o()(i()(e),"afterAttachmentChangeSuccess",function(t){e.setState({attachment:t})}),o()(i()(e),"renderPresetTitle",function(){return"\u7F16\u8F91\u5A92\u4F53\u9879"}),o()(i()(e),"establishCardCollectionConfig",function(){var t=e.state,s=t.processing,u=t.metaData,m=t.mediaType,h=t.image,p=t.video,C=t.audio,k=t.attachment,b=e.checkInProgress();return{list:[{title:{icon:d.xM.contacts(),text:n.js.title.label},spinning:b,items:[{lg:24,type:r.ul.contentItemType.input,fieldData:n.js.title}]},{title:{icon:d.xM.picture(),text:n.js.image.label,subText:"[\u4E0A\u4F20\u540E\u9700\u70B9\u51FB\u4FDD\u5B58\u6309\u94AE\u4FDD\u5B58\uFF01]"},spinning:b,items:[{type:r.ul.contentItemType.imageUpload,image:h,uploadProps:{singleMode:{width:"140px",emptyImage:""}},action:"".concat((0,r.P7)(),"/simple/uploadImage"),afterUploadSuccess:function(F){e.afterImageUploadSuccess(F)}}]},{title:{text:n.js.description.label},spinning:b,items:[{lg:24,type:r.ul.contentItemType.textarea,fieldData:n.js.description}]},{title:{text:n.js.link.label},spinning:b,items:[{lg:24,type:r.ul.contentItemType.input,fieldData:n.js.link}]},{title:{icon:d.xM.videoCamera(),text:n.js.video.label},spinning:s,hidden:!(0,a.f9X)([te._x.video],m),items:[{lg:24,type:r.ul.contentItemType.videoUpload,fieldData:n.js.video,video:p,showPreview:!0,action:"".concat((0,r.P7)(),"/simple/uploadVideo"),afterChangeSuccess:function(F){e.afterVideoChangeSuccess(F)}}]},{title:{icon:d.xM.sound(),text:n.js.audio.label},spinning:b,hidden:!(0,a.f9X)([te._x.audio],m),items:[{lg:24,type:r.ul.contentItemType.audioUpload,fieldData:n.js.audio,audio:C,showPreview:!0,action:"".concat((0,r.P7)(),"/simple/uploadAudio"),afterChangeSuccess:function(F){e.afterAudioChangeSuccess(F)}}]},{title:{icon:d.xM.link(),text:n.js.attachment.label},spinning:b,hidden:!(0,a.f9X)([te._x.attachment],m),items:[{lg:24,type:r.ul.contentItemType.fileUpload,fieldData:n.js.attachment,file:k,showPreview:!0,action:"".concat((0,r.P7)(),"/simple/uploadFile"),afterChangeSuccess:function(F){e.afterAttachmentChangeSuccess(F)}}]},{title:{text:"\u5176\u4ED6\u4FE1\u606F"},spinning:b,items:[{type:r.ul.contentItemType.onlyShowInput,fieldData:n.js.createTime,value:(0,a.s4e)({data:u,key:n.js.createTime.name,format:a.JrP.datetime})},{type:r.ul.contentItemType.onlyShowInput,fieldData:n.js.updateTime,value:(0,a.s4e)({data:u,key:n.js.updateTime.name,format:a.JrP.datetime})}]}]}}),e.state=c()(c()({},e.state),{},{pageTitle:"\u4FEE\u6539\u5A92\u4F53",loadApiPath:"simple/getMediaItem",submitApiPath:"simple/updateMediaItem",image:"",video:"",audio:"",attachment:""}),e}return T()(g,null,[{key:"open",value:function(){M.Qs.open(me)}}]),g}(ye))||ue),ce=Me,pe,fe,Ce=(pe=(0,E.$j)(function(j){var S=j.simple,g=j.schedulingControl;return{simple:S,schedulingControl:g}}),pe(fe=function(j){x()(g,j);var S=V()(g);function g(L){var e;return D()(this,g),e=S.call(this,L),o()(i()(e),"componentAuthority",y.WA.simple.get.permission),o()(i()(e),"fillInitialValuesAfterLoad",function(t,s,u,m){return null}),o()(i()(e),"doOtherAfterLoadSuccess",function(t){var s=t.metaData,u=t.metaListData,m=t.metaExtra,h=t.metaOriginalData;e.setCustomData(s)}),o()(i()(e),"setCustomData",function(t){var s=t.mediaItemList,u=[],m=w()(s||[]),h;try{for(m.s();!(h=m.n()).done;){var p=h.value,C=c()(c()({},p),{},{key:p.id,sort:p.sort+1});u.push(C)}}catch(k){m.e(k)}finally{m.f()}e.setState({metaData:t,mediaItemList:u,mediaItemCount:u.length})}),o()(i()(e),"showMediaItemPreviewDrawer",function(){le.open()}),o()(i()(e),"showInsertMediaItemDrawer",function(t){e.setState({selectForwardId:(0,a.s4e)({data:t,key:n.js.id.name})})}),o()(i()(e),"showAddMediaItemDrawer",function(){e.setState({selectForwardId:""},function(){se.open()})}),o()(i()(e),"showUpdateMediaItemDrawer",function(t){e.setState({selectForwardId:"",currentMediaItem:t},function(){ce.open()})}),o()(i()(e),"afterAddMediaItemDrawerOk",function(){e.setState({selectForwardId:""}),e.refreshData({})}),o()(i()(e),"afterUpdateMediaItemDrawerOk",function(){e.refreshData({delay:300})}),o()(i()(e),"afterAddMediaItemDrawerCancel",function(){e.setState({selectForwardId:""})}),o()(i()(e),"afterAddMediaItemDrawerClose",function(){e.setState({selectForwardId:""})}),o()(i()(e),"handleMenuClick",function(t){var s=t.key,u=t.handleData,m=e.state.simpleId;switch(s){case"insertItem":{e.showInsertMediaItemDrawer(u);break}case a.Vur.moveUp:{e.changeSort(s,u);break}case a.Vur.moveDown:{e.changeSort(s,u);break}case"removeItem":{(0,f.O9)({target:i()(e),handleData:c()(c()({},u),{},{simpleId:m}),successCallback:function(p){var C=p.target,k=p.remoteData;C.setCustomData(k)}});break}default:break}}),o()(i()(e),"changeSort",function(t,s){var u=e.state.mediaItemList,m=(0,a.onf)({operate:t,item:s,list:u,key:"sort",sortInitialValue:1});e.saveSortChangedMediaItem(m)}),o()(i()(e),"saveSortChangedMediaItem",function(t){var s=e.state.simpleId;e.setState({mediaItemList:t},function(){var u=((0,a.kJL)(t)?t:[]).map(function(m){var h=(0,a.s4e)({data:m,key:n.js.id.name});return h}).join(",");(0,f.Iq)({target:i()(e),handleData:{simpleId:s,ids:u}})})}),o()(i()(e),"renderPresetListView",function(t){return(0,v.jsx)(N.Z,{itemLayout:"vertical",size:"small",dataSource:t,renderItem:function(u,m){return e.renderPresetListViewItem(u,m)}})}),o()(i()(e),"renderPresetListViewItem",function(t,s){return(0,v.jsx)(N.Z.Item,{children:e.renderPresetListViewItemInner(t,s)})}),o()(i()(e),"renderPresetListViewItemInner",function(t,s){var u=e.state.mediaItemList,m=(0,a.s4e)({data:t,key:n.js.id.name}),h=(0,a.s4e)({data:t,key:n.js.title.name}),p=(0,a.s4e)({data:t,key:n.js.description.name}),C=(0,a.s4e)({data:t,key:n.js.image.name}),k=(0,a.s4e)({data:t,key:n.js.link.name}),b=(0,a.s4e)({data:t,key:n.js.video.name}),O=(0,a.s4e)({data:t,key:n.js.audio.name}),F=(0,a.s4e)({data:t,key:n.js.attachment.name}),ae=(0,a.s4e)({data:t,key:n.js.sort.name,convert:a.$07.number}),xe=(0,a.s4e)({data:t,key:n.js.createTime.name,format:a.JrP.datetime}),he=(0,d.f8)({list:[{label:n.js.mediaType.label,value:h},{label:n.js.image.label,value:C,hidden:(0,a.aMH)(C)},{label:n.js.description.label,value:p,hidden:(0,a.aMH)(p)},{label:n.js.link.label,value:k,hidden:(0,a.aMH)(k)},{label:n.js.video.label,value:b,hidden:(0,a.aMH)(b)},{label:n.js.audio.label,value:O,hidden:(0,a.aMH)(O)},{label:n.js.attachment.label,value:F,hidden:(0,a.aMH)(F)}],props:{bordered:!0,column:1,size:"small",labelStyle:{width:"80px"},emptyValue:"\u6682\u65E0",emptyStyle:{color:"#ccc"}}});return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(J.Z,{direction:"vertical",style:{width:"100%"},children:[(0,a.aMH)(C)?he:(0,v.jsx)(d.hs,{flexAuto:"right",left:(0,a.aMH)(C)?null:(0,d.Zb)({index:s,align:"top",imageUrl:(0,a.s4e)({data:t,key:n.js.image.name}),emptyImageUrl:r.PI,width:"80px"}),right:(0,v.jsx)("div",{style:{paddingLeft:"20px"},children:he})}),(0,v.jsx)(d.A_,{actions:(0,d.k2)({list:[{textPrefix:n.js.id.label,text:m,canCopy:!0},{textPrefix:n.js.sort.label,text:(0,a.BBt)(ae)},{textPrefix:n.js.createTime.label,text:xe}]}),extra:(0,d._C)({size:"small",text:"\u7F16\u8F91",icon:d.xM.edit(),handleButtonClick:function(q){var ne=q.handleData;e.showUpdateMediaItemDrawer(ne)},handleData:t,handleMenuClick:function(q){var ne=q.key,je=q.handleData;e.handleMenuClick({key:ne,handleData:je})},items:[{key:"insertItem",icon:d.xM.insertRowBelow(),text:"\u5728\u4E0B\u65B9\u63D2\u5165",hidden:!(0,a.lVs)(y.WA.simple.addMediaItem.permission)},{key:"moveUp",withDivider:!0,uponDivider:!0,icon:d.xM.arrowUp(),text:"\u5411\u4E0A\u79FB\u52A8",hidden:!(0,a.lVs)(y.WA.simple.updateSort.permission),disabled:ae===1},{key:"moveDown",icon:d.xM.arrowDown(),text:"\u5411\u4E0B\u79FB\u52A8",hidden:!(0,a.lVs)(y.WA.simple.updateSort.permission),disabled:ae===(u||[]).length},{key:"refreshCache",withDivider:!0,uponDivider:!0,icon:d.xM.reload(),text:"\u5237\u65B0\u7F13\u5B58",hidden:!(0,a.lVs)(y.WA.simple.refreshCache.permission),confirm:!0,title:"\u5C06\u8981\u5237\u65B0\u7F13\u5B58\uFF0C\u786E\u5B9A\u5417\uFF1F"},{key:"removeItem",withDivider:!0,uponDivider:!0,icon:d.xM.delete(),text:"\u5220\u9664\u4FE1\u606F",hidden:!(0,a.lVs)(y.WA.simple.removeMediaItem.permission),confirm:!0,title:"\u5C06\u8981\u5220\u9664\u4FE1\u606F\uFF0C\u786E\u5B9A\u5417\uFF1F"}]})})]})})}),o()(i()(e),"establishToolBarConfig",function(){var t=e.state,s=t.dataLoading,u=t.loadSuccess,m=t.mediaItemCount;return{stick:!0,tools:[{title:"\u5F53\u524D\u4FE1\u606F\u603B\u6570",component:(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("span",{children:["\u5F53\u524D\u4FE1\u606F\u603B\u6570:",m]})})},{title:"\u65B0\u589E\u56FE\u6587\u5A92\u4F53",component:(0,v.jsxs)($.ZP,{type:"primary",disabled:!(0,a.lVs)(y.WA.simple.addMediaItem.permission)||s||!u,onClick:function(p){e.showAddMediaItemDrawer(p)},children:[d.xM.plusCircle(),"\u65B0\u589E\u5A92\u4F53"]})},{title:"\u9884\u89C8\u56FE\u6587",component:(0,v.jsxs)($.ZP,{disabled:e.checkLoadingProgress(),onClick:function(){e.showMediaItemPreviewDrawer()},children:[d.xM.eye()," \u9884\u89C8"]})},{title:"\u5237\u65B0\u6570\u636E",component:e.renderPresetRefreshButton()}]}}),o()(i()(e),"establishHelpConfig",function(){return{title:"\u64CD\u4F5C\u63D0\u793A",list:[{text:"\u6587\u7AE0\u7684\u6784\u5EFA\u5C06\u4F9D\u7167\u5A92\u4F53\u987A\u5E8F\u8FDB\u884C\u3002"}]}}),o()(i()(e),"establishCardCollectionConfig",function(){var t=e.state.mediaItemList,s=e.checkInProgress();return{list:[{title:{text:"\u56FE\u7247\u5A92\u4F53\u5217\u8868"},spinning:s,items:[{lg:24,type:r.ul.contentItemType.component,component:e.renderPresetListView(t)}]}]}}),o()(i()(e),"establishPageContentLayoutSiderConfig",function(){return{width:400}}),o()(i()(e),"renderPresetSiderTopArea",function(){var t=e.state.mediaItemList;return(0,v.jsx)(Ie,{affix:!0,affixOffsetTop:20,mobileList:[r.iv.roughSketch,r.iv.iPhone5S],data:t||[]})}),o()(i()(e),"renderPresetOther",function(){var t=e.state,s=t.simpleId,u=t.mediaItemList,m=t.currentMediaItem,h=t.selectForwardId;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(se,{externalData:{simpleId:s,forwardId:h},afterOK:function(){e.afterAddMediaItemDrawerOk()},afterCancel:function(){e.afterAddMediaItemDrawerCancel()},afterClose:function(){e.afterAddMediaItemDrawerClose()}}),(0,v.jsx)(ce,{externalData:c()(c()({},m),{},{simpleId:s}),afterOK:function(){e.afterUpdateMediaItemDrawerOk()}}),(0,v.jsx)(le,{data:u||[]})]})}),e.state=c()(c()({},e.state),{},{loadApiPath:"simple/get",simpleId:null,mediaItemList:[],mediaItemCount:0,currentMediaItem:null,selectForwardId:""}),e}return T()(g,null,[{key:"getDerivedStateFromProps",value:function(e,t){return(0,r.xq)(e,t,{id:""},_.Dc)}}]),g}(De.Z))||fe),be=Ce},3524:function(K,R,l){"use strict";var W=l(25471),c=l.n(W),P=l(3782),w=l.n(P),I=l(56507),D=l.n(I),A=l(42314),T=l.n(A),B=l(96082),i=l.n(B),U=l(73581),x=l.n(U),Z=l(92870),V=l(77475),H=l(20160),o=V.jY.BaseUpdateFormTab,N=function(J){T()(X,J);var $=i()(X);function X(){var E;c()(this,X);for(var a=arguments.length,r=new Array(a),d=0;d<a;d++)r[d]=arguments[d];return E=$.call.apply($,[this].concat(r)),x()(D()(E),"reloadHeaderOnSubmitSuccess",!0),x()(D()(E),"checkNeedUpdate",function(f,_,n){return(0,H.D7)(E.state,f,_,n)}),x()(D()(E),"supplementLoadRequestParams",function(f){var _=f,n=E.state.simpleId;return _.simpleId=n,_}),E}return w()(X,null,[{key:"getDerivedStateFromProps",value:function(a,r){return(0,Z.xq)(a,r,{id:""},H.Dc)}}]),X}(o);R.Z=N},46995:function(K,R,l){var W=l(99609);function c(P,w){var I=typeof Symbol!="undefined"&&P[Symbol.iterator]||P["@@iterator"];if(!I){if(Array.isArray(P)||(I=W(P))||w&&P&&typeof P.length=="number"){I&&(P=I);var D=0,A=function(){};return{s:A,n:function(){return D>=P.length?{done:!0}:{done:!1,value:P[D++]}},e:function(x){throw x},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T=!0,B=!1,i;return{s:function(){I=I.call(P)},n:function(){var x=I.next();return T=x.done,x},e:function(x){B=!0,i=x},f:function(){try{!T&&I.return!=null&&I.return()}finally{if(B)throw i}}}}K.exports=c,K.exports.__esModule=!0,K.exports.default=K.exports}}]);
